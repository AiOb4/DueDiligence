var bT=Object.defineProperty;var _T=(n,e,t)=>e in n?bT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Zn=(n,e,t)=>_T(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var BU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ig(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var q1={exports:{}},Zf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function wT(){if(tb)return Zf;tb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Zf.Fragment=e,Zf.jsx=t,Zf.jsxs=t,Zf}var nb;function AT(){return nb||(nb=1,q1.exports=wT()),q1.exports}var X=AT(),H1={exports:{}},cn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function ST(){if(rb)return cn;rb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=_&&D[_]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,U={};function z(D,ge,F){this.props=D,this.context=ge,this.refs=U,this.updater=F||v}z.prototype.isReactComponent={},z.prototype.setState=function(D,ge){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ge,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function L(){}L.prototype=z.prototype;function Q(D,ge,F){this.props=D,this.context=ge,this.refs=U,this.updater=F||v}var K=Q.prototype=new L;K.constructor=Q,M(K,z.prototype),K.isPureReactComponent=!0;var te=Array.isArray,me={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function V(D,ge,F,I,ne,he){return F=he.ref,{$$typeof:n,type:D,key:ge,ref:F!==void 0?F:null,props:he}}function P(D,ge){return V(D.type,ge,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function H(D){var ge={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(F){return ge[F]})}var N=/\/+/g;function x(D,ge){return typeof D=="object"&&D!==null&&D.key!=null?H(""+D.key):ge.toString(36)}function k(){}function Z(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(ge){D.status==="pending"&&(D.status="fulfilled",D.value=ge)},function(ge){D.status==="pending"&&(D.status="rejected",D.reason=ge)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function fe(D,ge,F,I,ne){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var le=!1;if(D===null)le=!0;else switch(he){case"bigint":case"string":case"number":le=!0;break;case"object":switch(D.$$typeof){case n:case e:le=!0;break;case p:return le=D._init,fe(le(D._payload),ge,F,I,ne)}}if(le)return ne=ne(D),le=I===""?"."+x(D,0):I,te(ne)?(F="",le!=null&&(F=le.replace(N,"$&/")+"/"),fe(ne,ge,F,"",function(Re){return Re})):ne!=null&&(R(ne)&&(ne=P(ne,F+(ne.key==null||D&&D.key===ne.key?"":(""+ne.key).replace(N,"$&/")+"/")+le)),ge.push(ne)),1;le=0;var _e=I===""?".":I+":";if(te(D))for(var Se=0;Se<D.length;Se++)I=D[Se],he=_e+x(I,Se),le+=fe(I,ge,F,he,ne);else if(Se=A(D),typeof Se=="function")for(D=Se.call(D),Se=0;!(I=D.next()).done;)I=I.value,he=_e+x(I,Se++),le+=fe(I,ge,F,he,ne);else if(he==="object"){if(typeof D.then=="function")return fe(Z(D),ge,F,I,ne);throw ge=String(D),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return le}function se(D,ge,F){if(D==null)return D;var I=[],ne=0;return fe(D,I,"","",function(he){return ge.call(F,he,ne++)}),I}function ce(D){if(D._status===-1){var ge=D._result;ge=ge(),ge.then(function(F){(D._status===0||D._status===-1)&&(D._status=1,D._result=F)},function(F){(D._status===0||D._status===-1)&&(D._status=2,D._result=F)}),D._status===-1&&(D._status=0,D._result=ge)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ie(){}return cn.Children={map:se,forEach:function(D,ge,F){se(D,function(){ge.apply(this,arguments)},F)},count:function(D){var ge=0;return se(D,function(){ge++}),ge},toArray:function(D){return se(D,function(ge){return ge})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},cn.Component=z,cn.Fragment=t,cn.Profiler=s,cn.PureComponent=Q,cn.StrictMode=r,cn.Suspense=f,cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=me,cn.__COMPILER_RUNTIME={__proto__:null,c:function(D){return me.H.useMemoCache(D)}},cn.cache=function(D){return function(){return D.apply(null,arguments)}},cn.cloneElement=function(D,ge,F){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var I=M({},D.props),ne=D.key,he=void 0;if(ge!=null)for(le in ge.ref!==void 0&&(he=void 0),ge.key!==void 0&&(ne=""+ge.key),ge)!ue.call(ge,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&ge.ref===void 0||(I[le]=ge[le]);var le=arguments.length-2;if(le===1)I.children=F;else if(1<le){for(var _e=Array(le),Se=0;Se<le;Se++)_e[Se]=arguments[Se+2];I.children=_e}return V(D.type,ne,void 0,void 0,he,I)},cn.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},cn.createElement=function(D,ge,F){var I,ne={},he=null;if(ge!=null)for(I in ge.key!==void 0&&(he=""+ge.key),ge)ue.call(ge,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(ne[I]=ge[I]);var le=arguments.length-2;if(le===1)ne.children=F;else if(1<le){for(var _e=Array(le),Se=0;Se<le;Se++)_e[Se]=arguments[Se+2];ne.children=_e}if(D&&D.defaultProps)for(I in le=D.defaultProps,le)ne[I]===void 0&&(ne[I]=le[I]);return V(D,he,void 0,void 0,null,ne)},cn.createRef=function(){return{current:null}},cn.forwardRef=function(D){return{$$typeof:c,render:D}},cn.isValidElement=R,cn.lazy=function(D){return{$$typeof:p,_payload:{_status:-1,_result:D},_init:ce}},cn.memo=function(D,ge){return{$$typeof:d,type:D,compare:ge===void 0?null:ge}},cn.startTransition=function(D){var ge=me.T,F={};me.T=F;try{var I=D(),ne=me.S;ne!==null&&ne(F,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(Ie,pe)}catch(he){pe(he)}finally{me.T=ge}},cn.unstable_useCacheRefresh=function(){return me.H.useCacheRefresh()},cn.use=function(D){return me.H.use(D)},cn.useActionState=function(D,ge,F){return me.H.useActionState(D,ge,F)},cn.useCallback=function(D,ge){return me.H.useCallback(D,ge)},cn.useContext=function(D){return me.H.useContext(D)},cn.useDebugValue=function(){},cn.useDeferredValue=function(D,ge){return me.H.useDeferredValue(D,ge)},cn.useEffect=function(D,ge,F){var I=me.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return I.useEffect(D,ge)},cn.useId=function(){return me.H.useId()},cn.useImperativeHandle=function(D,ge,F){return me.H.useImperativeHandle(D,ge,F)},cn.useInsertionEffect=function(D,ge){return me.H.useInsertionEffect(D,ge)},cn.useLayoutEffect=function(D,ge){return me.H.useLayoutEffect(D,ge)},cn.useMemo=function(D,ge){return me.H.useMemo(D,ge)},cn.useOptimistic=function(D,ge){return me.H.useOptimistic(D,ge)},cn.useReducer=function(D,ge,F){return me.H.useReducer(D,ge,F)},cn.useRef=function(D){return me.H.useRef(D)},cn.useState=function(D){return me.H.useState(D)},cn.useSyncExternalStore=function(D,ge,F){return me.H.useSyncExternalStore(D,ge,F)},cn.useTransition=function(){return me.H.useTransition()},cn.version="19.1.1",cn}var ib;function B2(){return ib||(ib=1,H1.exports=ST()),H1.exports}var Gt=B2();const ET=ig(Gt);var G1={exports:{}},ed={},Y1={exports:{}},$1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function xT(){return sb||(sb=1,(function(n){function e(se,ce){var pe=se.length;se.push(ce);e:for(;0<pe;){var Ie=pe-1>>>1,D=se[Ie];if(0<s(D,ce))se[Ie]=ce,se[pe]=D,pe=Ie;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ce=se[0],pe=se.pop();if(pe!==ce){se[0]=pe;e:for(var Ie=0,D=se.length,ge=D>>>1;Ie<ge;){var F=2*(Ie+1)-1,I=se[F],ne=F+1,he=se[ne];if(0>s(I,pe))ne<D&&0>s(he,I)?(se[Ie]=he,se[ne]=pe,Ie=ne):(se[Ie]=I,se[F]=pe,Ie=F);else if(ne<D&&0>s(he,pe))se[Ie]=he,se[ne]=pe,Ie=ne;else break e}}return ce}function s(se,ce){var pe=se.sortIndex-ce.sortIndex;return pe!==0?pe:se.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],p=1,_=null,A=3,v=!1,M=!1,U=!1,z=!1,L=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function te(se){for(var ce=t(d);ce!==null;){if(ce.callback===null)r(d);else if(ce.startTime<=se)r(d),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(d)}}function me(se){if(U=!1,te(se),!M)if(t(f)!==null)M=!0,ue||(ue=!0,x());else{var ce=t(d);ce!==null&&fe(me,ce.startTime-se)}}var ue=!1,V=-1,P=5,R=-1;function H(){return z?!0:!(n.unstable_now()-R<P)}function N(){if(z=!1,ue){var se=n.unstable_now();R=se;var ce=!0;try{e:{M=!1,U&&(U=!1,Q(V),V=-1),v=!0;var pe=A;try{t:{for(te(se),_=t(f);_!==null&&!(_.expirationTime>se&&H());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,A=_.priorityLevel;var D=Ie(_.expirationTime<=se);if(se=n.unstable_now(),typeof D=="function"){_.callback=D,te(se),ce=!0;break t}_===t(f)&&r(f),te(se)}else r(f);_=t(f)}if(_!==null)ce=!0;else{var ge=t(d);ge!==null&&fe(me,ge.startTime-se),ce=!1}}break e}finally{_=null,A=pe,v=!1}ce=void 0}}finally{ce?x():ue=!1}}}var x;if(typeof K=="function")x=function(){K(N)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Z=k.port2;k.port1.onmessage=N,x=function(){Z.postMessage(null)}}else x=function(){L(N,0)};function fe(se,ce){V=L(function(){se(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(se){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var pe=A;A=ce;try{return se()}finally{A=pe}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(se,ce){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=A;A=se;try{return ce()}finally{A=pe}},n.unstable_scheduleCallback=function(se,ce,pe){var Ie=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ie+pe:Ie):pe=Ie,se){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,se={id:p++,callback:ce,priorityLevel:se,startTime:pe,expirationTime:D,sortIndex:-1},pe>Ie?(se.sortIndex=pe,e(d,se),t(f)===null&&se===t(d)&&(U?(Q(V),V=-1):U=!0,fe(me,pe-Ie))):(se.sortIndex=D,e(f,se),M||v||(M=!0,ue||(ue=!0,x()))),se},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(se){var ce=A;return function(){var pe=A;A=ce;try{return se.apply(this,arguments)}finally{A=pe}}}})($1)),$1}var ab;function TT(){return ab||(ab=1,Y1.exports=xT()),Y1.exports}var K1={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function NT(){if(ob)return ds;ob=1;var n=B2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:d,implementation:p}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ds.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,p)},ds.flushSync=function(f){var d=u.T,p=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=p,r.d.f()}},ds.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},ds.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ds.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,_=c(p,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,v=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:A,fetchPriority:v}):p==="script"&&r.d.X(f,{crossOrigin:_,integrity:A,fetchPriority:v,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ds.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},ds.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,_=c(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ds.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},ds.requestFormReset=function(f){r.d.r(f)},ds.unstable_batchedUpdates=function(f,d){return f(d)},ds.useFormState=function(f,d,p){return u.H.useFormState(f,d,p)},ds.useFormStatus=function(){return u.H.useHostTransitionStatus()},ds.version="19.1.1",ds}var lb;function IT(){if(lb)return K1.exports;lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),K1.exports=NT(),K1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function CT(){if(ub)return ed;ub=1;var n=TT(),e=B2(),t=IT();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var y=l.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===l)return c(y),i;if(w===h)return c(y),a;w=w.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=w;else{for(var j=!1,$=y.child;$;){if($===l){j=!0,l=y,h=w;break}if($===h){j=!0,h=y,l=w;break}$=$.sibling}if(!j){for($=w.child;$;){if($===l){j=!0,l=w,h=y;break}if($===h){j=!0,h=w,l=y;break}$=$.sibling}if(!j)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function d(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=d(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,_=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function x(i){return i===null||typeof i!="object"?null:(i=N&&i[N]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Z(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case z:return"Profiler";case U:return"StrictMode";case me:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case K:return(i.displayName||"Context")+".Provider";case Q:return(i._context.displayName||"Context")+".Consumer";case te:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case V:return a=i.displayName||null,a!==null?a:Z(i.type)||"Memo";case P:a=i._payload,i=i._init;try{return Z(i(a))}catch{}}return null}var fe=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ie=[],D=-1;function ge(i){return{current:i}}function F(i){0>D||(i.current=Ie[D],Ie[D]=null,D--)}function I(i,a){D++,Ie[D]=i.current,i.current=a}var ne=ge(null),he=ge(null),le=ge(null),_e=ge(null);function Se(i,a){switch(I(le,a),I(he,i),I(ne,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Cv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Cv(a),i=kv(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(ne),I(ne,i)}function Re(){F(ne),F(he),F(le)}function Ue(i){i.memoizedState!==null&&I(_e,i);var a=ne.current,l=kv(a,i.type);a!==l&&(I(he,i),I(ne,l))}function Qe(i){he.current===i&&(F(ne),F(he)),_e.current===i&&(F(_e),Kf._currentValue=pe)}var at=Object.prototype.hasOwnProperty,it=n.unstable_scheduleCallback,vt=n.unstable_cancelCallback,re=n.unstable_shouldYield,rt=n.unstable_requestPaint,Tt=n.unstable_now,Nt=n.unstable_getCurrentPriorityLevel,qe=n.unstable_ImmediatePriority,ct=n.unstable_UserBlockingPriority,ot=n.unstable_NormalPriority,It=n.unstable_LowPriority,At=n.unstable_IdlePriority,An=n.log,nn=n.unstable_setDisableYieldValue,Ne=null,Fe=null;function et(i){if(typeof An=="function"&&nn(i),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Ne,i)}catch{}}var Ke=Math.clz32?Math.clz32:Cn,lt=Math.log,ut=Math.LN2;function Cn(i){return i>>>=0,i===0?32:31-(lt(i)/ut|0)|0}var Ot=256,Mt=4194304;function Rt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zt(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,w=i.suspendedLanes,j=i.pingedLanes;i=i.warmLanes;var $=h&134217727;return $!==0?(h=$&~w,h!==0?y=Rt(h):(j&=$,j!==0?y=Rt(j):l||(l=$&~i,l!==0&&(y=Rt(l))))):($=h&~w,$!==0?y=Rt($):j!==0?y=Rt(j):l||(l=h&~i,l!==0&&(y=Rt(l)))),y===0?0:a!==0&&a!==y&&(a&w)===0&&(w=y&-y,l=a&-a,w>=l||w===32&&(l&4194048)!==0)?a:y}function ft(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ln(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pt(){var i=Ot;return Ot<<=1,(Ot&4194048)===0&&(Ot=256),i}function Bt(){var i=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),i}function Mn(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Et(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Dt(i,a,l,h,y,w){var j=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var $=i.entanglements,de=i.expirationTimes,Pe=i.hiddenUpdates;for(l=j&~l;0<l;){var He=31-Ke(l),$e=1<<He;$[He]=0,de[He]=-1;var Oe=Pe[He];if(Oe!==null)for(Pe[He]=null,He=0;He<Oe.length;He++){var Me=Oe[He];Me!==null&&(Me.lane&=-536870913)}l&=~$e}h!==0&&fn(i,h,0),w!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=w&~(j&~a))}function fn(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-Ke(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&4194090}function is(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-Ke(l),y=1<<h;y&a|i[h]&a&&(i[h]|=a),l&=~y}}function Pr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ni(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:Wv(i.type))}function jt(i,a){var l=ce.p;try{return ce.p=i,a()}finally{ce.p=l}}var ri=Math.random().toString(36).slice(2),jn="__reactFiber$"+ri,Vn="__reactProps$"+ri,Dr="__reactContainer$"+ri,zn="__reactEvents$"+ri,cr="__reactListeners$"+ri,Br="__reactHandles$"+ri,pi="__reactResources$"+ri,Fi="__reactMarker$"+ri;function Ti(i){delete i[jn],delete i[Vn],delete i[zn],delete i[cr],delete i[Br]}function Vr(i){var a=i[jn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Dr]||l[jn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Dv(i);i!==null;){if(l=i[jn])return l;i=Dv(i)}return a}i=l,l=i.parentNode}return null}function Or(i){if(i=i[jn]||i[Dr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ii(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function zr(i){var a=i[pi];return a||(a=i[pi]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Gn(i){i[Fi]=!0}var Es=new Set,xs={};function Bi(i,a){Vi(i,a),Vi(i+"Capture",a)}function Vi(i,a){for(xs[i]=a,i=0;i<a.length;i++)Es.add(a[i])}var Fs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bs={},Aa={};function $l(i){return at.call(Aa,i)?!0:at.call(Bs,i)?!1:Fs.test(i)?Aa[i]=!0:(Bs[i]=!0,!1)}function Sa(i,a,l){if($l(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function si(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Ni(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}var Ea,xa;function Vs(i){if(Ea===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ea=a&&a[1]||"",xa=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+i+xa}var Xa=!1;function Qa(i,a){if(!i||Xa)return"";Xa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Me){var Oe=Me}Reflect.construct(i,[],$e)}else{try{$e.call()}catch(Me){Oe=Me}i.call($e.prototype)}}else{try{throw Error()}catch(Me){Oe=Me}($e=i())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Me){if(Me&&Oe&&typeof Me.stack=="string")return[Me.stack,Oe.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),j=w[0],$=w[1];if(j&&$){var de=j.split(`
`),Pe=$.split(`
`);for(y=h=0;h<de.length&&!de[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Pe.length&&!Pe[y].includes("DetermineComponentFrameRoot");)y++;if(h===de.length||y===Pe.length)for(h=de.length-1,y=Pe.length-1;1<=h&&0<=y&&de[h]!==Pe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(de[h]!==Pe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||de[h]!==Pe[y]){var He=`
`+de[h].replace(" at new "," at ");return i.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",i.displayName)),He}while(1<=h&&0<=y);break}}}finally{Xa=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Vs(l):""}function zs(i){switch(i.tag){case 26:case 27:case 5:return Vs(i.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 15:return Qa(i.type,!1);case 11:return Qa(i.type.render,!1);case 1:return Qa(i.type,!0);case 31:return Vs("Activity");default:return""}}function Ii(i){try{var a="";do a+=zs(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function sr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yn(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ta(i){var a=Yn(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),h=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,w=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(j){h=""+j,w.call(this,j)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(j){h=""+j},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function mi(i){i._valueTracker||(i._valueTracker=Ta(i))}function In(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Yn(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function qs(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ai=/[\n"\\]/g;function mn(i){return i.replace(ai,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ts(i,a,l,h,y,w,j,$){i.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?i.type=j:i.removeAttribute("type"),a!=null?j==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+sr(a)):i.value!==""+sr(a)&&(i.value=""+sr(a)):j!=="submit"&&j!=="reset"||i.removeAttribute("value"),a!=null?ul(i,j,sr(a)):l!=null?ul(i,j,sr(l)):h!=null&&i.removeAttribute("value"),y==null&&w!=null&&(i.defaultChecked=!!w),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+sr($):i.removeAttribute("name")}function Io(i,a,l,h,y,w,j,$){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.type=w),a!=null||l!=null){if(!(w!=="submit"&&w!=="reset"||a!=null))return;l=l!=null?""+sr(l):"",a=a!=null?""+sr(a):l,$||a===i.value||(i.value=a),i.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=$?i.checked:!!h,i.defaultChecked=!!h,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.name=j)}function ul(i,a,l){a==="number"&&qs(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Na(i,a,l,h){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+sr(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function Ns(i,a,l){if(a!=null&&(a=""+sr(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+sr(l):""}function cl(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(fe(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=sr(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h)}function zi(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ra(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||ss.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function hl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&l[y]!==h&&ra(i,y,h)}else for(var w in a)a.hasOwnProperty(w)&&ra(i,w,a[w])}function Co(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ko=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(i){return ko.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var qi=null;function fl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var os=null,qr=null;function Wl(i){var a=Or(i);if(a&&(i=a.stateNode)){var l=i[Vn]||null;e:switch(i=a.stateNode,a.type){case"input":if(Ts(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var y=h[Vn]||null;if(!y)throw Error(r(90));Ts(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&In(h)}break e;case"textarea":Ns(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Na(i,!!l.multiple,a,!1)}}}var Ut=!1;function Ja(i,a,l){if(Ut)return i(a,l);Ut=!0;try{var h=i(a);return h}finally{if(Ut=!1,(os!==null||qr!==null)&&(Cp(),os&&(a=os,i=qr,qr=os=null,Wl(a),i)))for(a=0;a<i.length;a++)Wl(i[a])}}function Ia(i,a){var l=i.stateNode;if(l===null)return null;var h=l[Vn]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(gi)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){yi=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{yi=!1}var ls=null,qn=null,ia=null;function Ro(){if(ia)return ia;var i,a=qn,l=a.length,h,y="value"in ls?ls.value:ls.textContent,w=y.length;for(i=0;i<l&&a[i]===y[i];i++);var j=l-i;for(h=1;h<=j&&a[l-h]===y[w-h];h++);return ia=y.slice(i,1<h?1-h:void 0)}function Is(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Za(){return!0}function Cs(){return!1}function xr(i){function a(l,h,y,w,j){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=j,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(l=i[$],this[$]=l?l(w):w[$]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Za:Cs,this.isPropagationStopped=Cs,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),a}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=xr(Mr),Ca=p({},Mr,{view:0,detail:0}),Hi=xr(Ca),ka,Hs,us,ks=p({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ht,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==us&&(us&&i.type==="mousemove"?(ka=i.screenX-us.screenX,Hs=i.screenY-us.screenY):Hs=ka=0,us=i),ka)},movementY:function(i){return"movementY"in i?i.movementY:Hs}}),aa=xr(ks),Xl=p({},ks,{dataTransfer:0}),dl=xr(Xl),Gi=p({},Ca,{relatedTarget:0}),cs=xr(Gi),pl=p({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=xr(pl),Lo=p({},Mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),S=xr(Lo),B=p({},Mr,{data:0}),ae=xr(B),ye={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ze={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function We(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=ze[i])?!!a[i]:!1}function ht(){return We}var bt=p({},Ca,{key:function(i){if(i.key){var a=ye[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Is(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Ae[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ht,charCode:function(i){return i.type==="keypress"?Is(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Is(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ft=xr(bt),Ct=p({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dn=xr(Ct),tr=p({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ht}),$n=xr(tr),g=p({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=xr(g),O=p({},ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=xr(O),xe=p({},Mr,{newState:0,oldState:0}),De=xr(xe),tt=[9,13,27,32],Yt=gi&&"CompositionEvent"in window,Dn=null;gi&&"documentMode"in document&&(Dn=document.documentMode);var gn=gi&&"TextEvent"in window&&!Dn,Kn=gi&&(!Yt||Dn&&8<Dn&&11>=Dn),Hr=" ",vi=!1;function Wn(i,a){switch(i){case"keyup":return tt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bi(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var _i=!1;function eo(i,a){switch(i){case"compositionend":return bi(a);case"keypress":return a.which!==32?null:(vi=!0,Hr);case"textInput":return i=a.data,i===Hr&&vi?null:i;default:return null}}function tc(i,a){if(_i)return i==="compositionend"||!Yt&&Wn(i,a)?(i=Ro(),ia=qn=ls=null,_i=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Kn&&a.locale!=="ko"?null:a.data;default:return null}}var Yi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ra(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Yi[i.type]:a==="textarea"}function ml(i,a,l,h){os?qr?qr.push(h):qr=[h]:os=h,a=Op(a,"onChange"),0<a.length&&(l=new sa("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var Po=null,ki=null;function gl(i){Ev(i,0)}function Do(i){var a=ii(i);if(In(a))return i}function Ql(i,a){if(i==="change")return a}var to=!1;if(gi){var no;if(gi){var $i="oninput"in document;if(!$i){var hs=document.createElement("div");hs.setAttribute("oninput","return;"),$i=typeof hs.oninput=="function"}no=$i}else no=!1;to=no&&(!document.documentMode||9<document.documentMode)}function ro(){Po&&(Po.detachEvent("onpropertychange",La),ki=Po=null)}function La(i){if(i.propertyName==="value"&&Do(ki)){var a=[];ml(a,ki,i,fl(i)),Ja(gl,a)}}function Oo(i,a,l){i==="focusin"?(ro(),Po=a,ki=l,Po.attachEvent("onpropertychange",La)):i==="focusout"&&ro()}function nc(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Do(ki)}function Jl(i,a){if(i==="click")return Do(a)}function Tr(i,a){if(i==="input"||i==="change")return Do(a)}function $c(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var yr=typeof Object.is=="function"?Object.is:$c;function fs(i,a){if(yr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!at.call(a,y)||!yr(i[y],a[y]))return!1}return!0}function Zl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function eu(i,a){var l=Zl(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zl(l)}}function tu(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?tu(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function nu(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=qs(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=qs(i.document)}return a}function Pa(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Mo=gi&&"documentMode"in document&&11>=document.documentMode,Rs=null,io=null,Gs=null,so=!1;function Ls(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;so||Rs==null||Rs!==qs(h)||(h=Rs,"selectionStart"in h&&Pa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Gs&&fs(Gs,h)||(Gs=h,h=Op(io,"onSelect"),0<h.length&&(a=new sa("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Rs)))}function Ri(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var bn={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Un={},vr={};gi&&(vr=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function ar(i){if(Un[i])return Un[i];if(!bn[i])return i;var a=bn[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in vr)return Un[i]=a[l];return i}var Da=ar("animationend"),ru=ar("animationiteration"),yl=ar("animationstart"),Kc=ar("transitionrun"),Qd=ar("transitionstart"),Jd=ar("transitioncancel"),pf=ar("transitionend"),mf=new Map,Wc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wc.push("scrollEnd");function Ys(i,a){mf.set(i,a),Bi(a,[i])}var iu=new WeakMap;function Ps(i,a){if(typeof i=="object"&&i!==null){var l=iu.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ii(a)},iu.set(i,a),a)}return{value:i,source:a,stack:Ii(a)}}var Ds=[],vl=0,Xc=0;function rc(){for(var i=vl,a=Xc=vl=0;a<i;){var l=Ds[a];Ds[a++]=null;var h=Ds[a];Ds[a++]=null;var y=Ds[a];Ds[a++]=null;var w=Ds[a];if(Ds[a++]=null,h!==null&&y!==null){var j=h.pending;j===null?y.next=y:(y.next=j.next,j.next=y),h.pending=y}w!==0&&Jc(l,y,w)}}function ic(i,a,l,h){Ds[vl++]=i,Ds[vl++]=a,Ds[vl++]=l,Ds[vl++]=h,Xc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Qc(i,a,l,h){return ic(i,a,l,h),_l(i)}function bl(i,a){return ic(i,null,null,a),_l(i)}function Jc(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,w=i.return;w!==null;)w.childLanes|=l,h=w.alternate,h!==null&&(h.childLanes|=l),w.tag===22&&(i=w.stateNode,i===null||i._visibility&1||(y=!0)),i=w,w=w.return;return i.tag===3?(w=i.stateNode,y&&a!==null&&(y=31-Ke(l),i=w.hiddenUpdates,h=i[y],h===null?i[y]=[a]:h.push(a),a.lane=l|536870912),w):null}function _l(i){if(50<Bf)throw Bf=0,d1=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var oi={};function $s(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Li(i,a,l,h){return new $s(i,a,l,h)}function su(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oa(i,a){var l=i.alternate;return l===null?(l=Li(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function sc(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function wl(i,a,l,h,y,w){var j=0;if(h=i,typeof i=="function")su(i)&&(j=1);else if(typeof i=="string")j=aT(i,l,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Li(31,l,a,y),i.elementType=R,i.lanes=w,i;case M:return ao(l.children,y,w,a);case U:j=8,y|=24;break;case z:return i=Li(12,l,a,y|2),i.elementType=z,i.lanes=w,i;case me:return i=Li(13,l,a,y),i.elementType=me,i.lanes=w,i;case ue:return i=Li(19,l,a,y),i.elementType=ue,i.lanes=w,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:case K:j=10;break e;case Q:j=9;break e;case te:j=11;break e;case V:j=14;break e;case P:j=16,h=null;break e}j=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Li(j,l,a,y),a.elementType=i,a.type=h,a.lanes=w,a}function ao(i,a,l,h){return i=Li(7,i,h,a),i.lanes=l,i}function Zc(i,a,l){return i=Li(6,i,null,a),i.lanes=l,i}function ac(i,a,l){return a=Li(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var jo=[],oo=0,au=null,eh=0,Ks=[],Os=0,Al=null,lo=1,uo="";function Sl(i,a){jo[oo++]=eh,jo[oo++]=au,au=i,eh=a}function Zd(i,a,l){Ks[Os++]=lo,Ks[Os++]=uo,Ks[Os++]=Al,Al=i;var h=lo;i=uo;var y=32-Ke(h)-1;h&=~(1<<y),l+=1;var w=32-Ke(a)+y;if(30<w){var j=y-y%5;w=(h&(1<<j)-1).toString(32),h>>=j,y-=j,lo=1<<32-Ke(a)+y|l<<y|h,uo=w+i}else lo=1<<w|l<<y|h,uo=i}function oc(i){i.return!==null&&(Sl(i,1),Zd(i,1,0))}function lc(i){for(;i===au;)au=jo[--oo],jo[oo]=null,eh=jo[--oo],jo[oo]=null;for(;i===Al;)Al=Ks[--Os],Ks[Os]=null,uo=Ks[--Os],Ks[Os]=null,lo=Ks[--Os],Ks[Os]=null}var Gr=null,br=null,Pn=!1,Uo=null,Ma=!1,gf=Error(r(519));function El(i){var a=Error(r(418,""));throw ou(Ps(a,i)),gf}function ep(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[jn]=i,a[Vn]=h,l){case"dialog":wn("cancel",a),wn("close",a);break;case"iframe":case"object":case"embed":wn("load",a);break;case"video":case"audio":for(l=0;l<zf.length;l++)wn(zf[l],a);break;case"source":wn("error",a);break;case"img":case"image":case"link":wn("error",a),wn("load",a);break;case"details":wn("toggle",a);break;case"input":wn("invalid",a),Io(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),mi(a);break;case"select":wn("invalid",a);break;case"textarea":wn("invalid",a),cl(a,h.value,h.defaultValue,h.children),mi(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||Iv(a.textContent,l)?(h.popover!=null&&(wn("beforetoggle",a),wn("toggle",a)),h.onScroll!=null&&wn("scroll",a),h.onScrollEnd!=null&&wn("scrollend",a),h.onClick!=null&&(a.onclick=Mp),a=!0):a=!1,a||El(i)}function co(i){for(Gr=i.return;Gr;)switch(Gr.tag){case 5:case 13:Ma=!1;return;case 27:case 3:Ma=!0;return;default:Gr=Gr.return}}function Ki(i){if(i!==Gr)return!1;if(!Pn)return co(i),Pn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||C1(i.type,i.memoizedProps)),l=!l),l&&br&&El(i),co(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){br=bo(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}br=null}}else a===27?(a=br,Su(i.type)?(i=P1,P1=null,br=i):br=a):br=Gr?bo(i.stateNode.nextSibling):null;return!0}function Ms(){br=Gr=null,Pn=!1}function tp(){var i=Uo;return i!==null&&(Xs===null?Xs=i:Xs.push.apply(Xs,i),Uo=null),i}function ou(i){Uo===null?Uo=[i]:Uo.push(i)}var ja=ge(null),li=null,ho=null;function Fo(i,a,l){I(ja,a._currentValue),a._currentValue=l}function Ua(i){i._currentValue=ja.current,F(ja)}function th(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function nh(i,a,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var w=y.dependencies;if(w!==null){var j=y.child;w=w.firstContext;e:for(;w!==null;){var $=w;w=y;for(var de=0;de<a.length;de++)if($.context===a[de]){w.lanes|=l,$=w.alternate,$!==null&&($.lanes|=l),th(w.return,l,i),h||(j=null);break e}w=$.next}}else if(y.tag===18){if(j=y.return,j===null)throw Error(r(341));j.lanes|=l,w=j.alternate,w!==null&&(w.lanes|=l),th(j,l,i),j=null}else j=y.child;if(j!==null)j.return=y;else for(j=y;j!==null;){if(j===i){j=null;break}if(y=j.sibling,y!==null){y.return=j.return,j=y;break}j=j.return}y=j}}function lu(i,a,l,h){i=null;for(var y=a,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var j=y.alternate;if(j===null)throw Error(r(387));if(j=j.memoizedProps,j!==null){var $=y.type;yr(y.pendingProps.value,j.value)||(i!==null?i.push($):i=[$])}}else if(y===_e.current){if(j=y.alternate,j===null)throw Error(r(387));j.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Kf):i=[Kf])}y=y.return}i!==null&&nh(a,i,l,h),a.flags|=262144}function rh(i){for(i=i.firstContext;i!==null;){if(!yr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Fa(i){li=i,ho=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Yr(i){return ih(li,i)}function Bo(i,a){return li===null&&Fa(i),ih(i,a)}function ih(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ho===null){if(i===null)throw Error(r(308));ho=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ho=ho.next=a;return l}var Ug=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},np=n.unstable_scheduleCallback,Fg=n.unstable_NormalPriority,$r={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yf(){return{controller:new Ug,data:new Map,refCount:0}}function uc(i){i.refCount--,i.refCount===0&&np(Fg,function(){i.controller.abort()})}var cc=null,vf=0,xl=0,fo=null;function Bg(i,a){if(cc===null){var l=cc=[];vf=0,xl=_1(),fo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return vf++,a.then(rp,rp),a}function rp(){if(--vf===0&&cc!==null){fo!==null&&(fo.status="fulfilled");var i=cc;cc=null,xl=0,fo=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function ip(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var m=se.S;se.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Bg(i,a),m!==null&&m(i,a)};var b=ge(null);function E(){var i=b.current;return i!==null?i:hr.pooledCache}function C(i,a){a===null?I(b,b.current):I(b,a.pool)}function q(){var i=E();return i===null?null:{parent:$r._currentValue,pool:i}}var G=Error(r(460)),Y=Error(r(474)),W=Error(r(542)),ee={then:function(){}};function oe(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ve(){}function Le(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(ve,ve),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Te(i),i;default:if(typeof a.status=="string")a.then(ve,ve);else{if(i=hr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Te(i),i}throw ie=a,G}}var ie=null;function we(){if(ie===null)throw Error(r(459));var i=ie;return ie=null,i}function Te(i){if(i===G||i===W)throw Error(r(483))}var je=!1;function ke(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ve(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Be(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Je(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Qn&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=_l(i),Jc(i,null,l),a}return ic(i,h,a,l),_l(i)}function Ye(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,is(i,l)}}function St(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var j={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};w===null?y=w=j:w=w.next=j,l=l.next}while(l!==null);w===null?y=w=a:w=w.next=a}else y=w=a;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var dt=!1;function Jt(){if(dt){var i=fo;if(i!==null)throw i}}function mt(i,a,l,h){dt=!1;var y=i.updateQueue;je=!1;var w=y.firstBaseUpdate,j=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var de=$,Pe=de.next;de.next=null,j===null?w=Pe:j.next=Pe,j=de;var He=i.alternate;He!==null&&(He=He.updateQueue,$=He.lastBaseUpdate,$!==j&&($===null?He.firstBaseUpdate=Pe:$.next=Pe,He.lastBaseUpdate=de))}if(w!==null){var $e=y.baseState;j=0,He=Pe=de=null,$=w;do{var Oe=$.lane&-536870913,Me=Oe!==$.lane;if(Me?(Rn&Oe)===Oe:(h&Oe)===Oe){Oe!==0&&Oe===xl&&(dt=!0),He!==null&&(He=He.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Qt=i,Ht=$;Oe=a;var ir=l;switch(Ht.tag){case 1:if(Qt=Ht.payload,typeof Qt=="function"){$e=Qt.call(ir,$e,Oe);break e}$e=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=Ht.payload,Oe=typeof Qt=="function"?Qt.call(ir,$e,Oe):Qt,Oe==null)break e;$e=p({},$e,Oe);break e;case 2:je=!0}}Oe=$.callback,Oe!==null&&(i.flags|=64,Me&&(i.flags|=8192),Me=y.callbacks,Me===null?y.callbacks=[Oe]:Me.push(Oe))}else Me={lane:Oe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},He===null?(Pe=He=Me,de=$e):He=He.next=Me,j|=Oe;if($=$.next,$===null){if($=y.shared.pending,$===null)break;Me=$,$=Me.next,Me.next=null,y.lastBaseUpdate=Me,y.shared.pending=null}}while(!0);He===null&&(de=$e),y.baseState=de,y.firstBaseUpdate=Pe,y.lastBaseUpdate=He,w===null&&(y.shared.lanes=0),bu|=j,i.lanes=j,i.memoizedState=$e}}function yn(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function jr(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)yn(l[i],a)}var Xt=ge(null),gt=ge(0);function st(i,a){i=Pl,I(gt,i),I(Xt,a),Pl=i|a.baseLanes}function pr(){I(gt,Pl),I(Xt,Xt.current)}function Zt(){Pl=gt.current,F(Xt),F(gt)}var un=0,yt=null,rn=null,Sn=null,or=!1,Nr=!1,Ir=!1,_r=0,pn=0,En=null,wr=0;function qt(){throw Error(r(321))}function Kr(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!yr(i[l],a[l]))return!1;return!0}function js(i,a,l,h,y,w){return un=w,yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,se.H=i===null||i.memoizedState===null?l5:u5,Ir=!1,w=l(h,y),Ir=!1,Nr&&(w=Wi(a,l,h,y)),Ar(i),w}function Ar(i){se.H=gp;var a=rn!==null&&rn.next!==null;if(un=0,Sn=rn=yt=null,or=!1,pn=0,En=null,a)throw Error(r(300));i===null||Di||(i=i.dependencies,i!==null&&rh(i)&&(Di=!0))}function Wi(i,a,l,h){yt=i;var y=0;do{if(Nr&&(En=null),pn=0,Nr=!1,25<=y)throw Error(r(301));if(y+=1,Sn=rn=null,i.updateQueue!=null){var w=i.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}se.H=yx,w=a(l,h)}while(Nr);return w}function Xn(){var i=se.H,a=i.useState()[0];return a=typeof a.then=="function"?Ai(a):a,i=i.useState()[0],(rn!==null?rn.memoizedState:null)!==i&&(yt.flags|=1024),a}function Cr(){var i=_r!==0;return _r=0,i}function Xi(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function wi(i){if(or){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}or=!1}un=0,Sn=rn=yt=null,Nr=!1,pn=_r=0,En=null}function nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?yt.memoizedState=Sn=i:Sn=Sn.next=i,Sn}function kn(){if(rn===null){var i=yt.alternate;i=i!==null?i.memoizedState:null}else i=rn.next;var a=Sn===null?yt.memoizedState:Sn.next;if(a!==null)Sn=a,rn=i;else{if(i===null)throw yt.alternate===null?Error(r(467)):Error(r(310));rn=i,i={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},Sn===null?yt.memoizedState=Sn=i:Sn=Sn.next=i}return Sn}function Pi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ai(i){var a=pn;return pn+=1,En===null&&(En=[]),i=Le(En,i,a),a=yt,(Sn===null?a.memoizedState:Sn.next)===null&&(a=a.alternate,se.H=a===null||a.memoizedState===null?l5:u5),i}function Fn(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ai(i);if(i.$$typeof===K)return Yr(i)}throw Error(r(438,String(i)))}function Qi(i){var a=null,l=yt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=yt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Pi(),yt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=H;return a.index++,l}function Wr(i,a){return typeof a=="function"?a(i):a}function Ba(i){var a=kn();return la(a,rn,i)}function la(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,w=h.pending;if(w!==null){if(y!==null){var j=y.next;y.next=w.next,w.next=j}a.baseQueue=y=w,h.pending=null}if(w=i.baseState,y===null)i.memoizedState=w;else{a=y.next;var $=j=null,de=null,Pe=a,He=!1;do{var $e=Pe.lane&-536870913;if($e!==Pe.lane?(Rn&$e)===$e:(un&$e)===$e){var Oe=Pe.revertLane;if(Oe===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),$e===xl&&(He=!0);else if((un&Oe)===Oe){Pe=Pe.next,Oe===xl&&(He=!0);continue}else $e={lane:0,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},de===null?($=de=$e,j=w):de=de.next=$e,yt.lanes|=Oe,bu|=Oe;$e=Pe.action,Ir&&l(w,$e),w=Pe.hasEagerState?Pe.eagerState:l(w,$e)}else Oe={lane:$e,revertLane:Pe.revertLane,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},de===null?($=de=Oe,j=w):de=de.next=Oe,yt.lanes|=$e,bu|=$e;Pe=Pe.next}while(Pe!==null&&Pe!==a);if(de===null?j=w:de.next=$,!yr(w,i.memoizedState)&&(Di=!0,He&&(l=fo,l!==null)))throw l;i.memoizedState=w,i.baseState=j,i.baseQueue=de,h.lastRenderedState=w}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function Xr(i){var a=kn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,w=a.memoizedState;if(y!==null){l.pending=null;var j=y=y.next;do w=i(w,j.action),j=j.next;while(j!==y);yr(w,a.memoizedState)||(Di=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),l.lastRenderedState=w}return[w,h]}function hc(i,a,l){var h=yt,y=kn(),w=Pn;if(w){if(l===void 0)throw Error(r(407));l=l()}else l=a();var j=!yr((rn||y).memoizedState,l);j&&(y.memoizedState=l,Di=!0),y=y.queue;var $=uu.bind(null,h,y,i);if(fu(2048,8,$,[i]),y.getSnapshot!==a||j||Sn!==null&&Sn.memoizedState.tag&1){if(h.flags|=2048,mo(9,mc(),fc.bind(null,h,y,l,a),null),hr===null)throw Error(r(349));w||(un&124)!==0||sh(h,a,l)}return l}function sh(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=yt.updateQueue,a===null?(a=Pi(),yt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function fc(i,a,l,h){a.value=l,a.getSnapshot=h,sp(a)&&ap(i)}function uu(i,a,l){return l(function(){sp(a)&&ap(i)})}function sp(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!yr(i,l)}catch{return!0}}function ap(i){var a=bl(i,2);a!==null&&pa(a,i,2)}function dc(i){var a=nr();if(typeof i=="function"){var l=i;if(i=l(),Ir){et(!0);try{l()}finally{et(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:i},a}function po(i,a,l,h){return i.baseState=l,la(i,rn,typeof h=="function"?h:Wr)}function Vg(i,a,l,h,y){if(mp(i))throw Error(r(485));if(i=a.action,i!==null){var w={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){w.listeners.push(j)}};se.T!==null?l(!0):w.isTransition=!1,h(w),l=a.pending,l===null?(w.next=a.pending=w,op(a,w)):(w.next=l.next,a.pending=l.next=w)}}function op(i,a){var l=a.action,h=a.payload,y=i.state;if(a.isTransition){var w=se.T,j={};se.T=j;try{var $=l(y,h),de=se.S;de!==null&&de(j,$),lp(i,a,$)}catch(Pe){cu(i,a,Pe)}finally{se.T=w}}else try{w=l(y,h),lp(i,a,w)}catch(Pe){cu(i,a,Pe)}}function lp(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){bf(i,a,h)},function(h){return cu(i,a,h)}):bf(i,a,l)}function bf(i,a,l){a.status="fulfilled",a.value=l,_f(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,op(i,l)))}function cu(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,_f(a),a=a.next;while(a!==h)}i.action=null}function _f(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function wf(i,a){return a}function pc(i,a){if(Pn){var l=hr.formState;if(l!==null){e:{var h=yt;if(Pn){if(br){t:{for(var y=br,w=Ma;y.nodeType!==8;){if(!w){y=null;break t}if(y=bo(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){br=bo(y.nextSibling),h=y.data==="F!";break e}}El(h)}h=!1}h&&(a=l[0])}}return l=nr(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:a},l.queue=h,l=s5.bind(null,yt,h),h.dispatch=l,h=dc(!1),w=zg.bind(null,yt,!1,h.queue),h=nr(),y={state:a,dispatch:null,action:i,pending:null},h.queue=y,l=Vg.bind(null,yt,y,w,l),y.dispatch=l,h.memoizedState=i,[a,l,!1]}function ah(i){var a=kn();return hu(a,rn,i)}function hu(i,a,l){if(a=la(i,a,wf)[0],i=Ba(Wr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ai(a)}catch(j){throw j===G?W:j}else h=a;a=kn();var y=a.queue,w=y.dispatch;return l!==a.memoizedState&&(yt.flags|=2048,mo(9,mc(),up.bind(null,y,l),null)),[h,w,i]}function up(i,a){i.action=a}function cp(i){var a=kn(),l=rn;if(l!==null)return hu(a,l,i);kn(),a=a.memoizedState,l=kn();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function mo(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=yt.updateQueue,a===null&&(a=Pi(),yt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function mc(){return{destroy:void 0,resource:void 0}}function oh(){return kn().memoizedState}function ua(i,a,l,h){var y=nr();h=h===void 0?null:h,yt.flags|=i,y.memoizedState=mo(1|a,mc(),l,h)}function fu(i,a,l,h){var y=kn();h=h===void 0?null:h;var w=y.memoizedState.inst;rn!==null&&h!==null&&Kr(h,rn.memoizedState.deps)?y.memoizedState=mo(a,w,l,h):(yt.flags|=i,y.memoizedState=mo(1|a,w,l,h))}function Af(i,a){ua(8390656,8,i,a)}function hp(i,a){fu(2048,8,i,a)}function Sf(i,a){return fu(4,2,i,a)}function Tl(i,a){return fu(4,4,i,a)}function fp(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ef(i,a,l){l=l!=null?l.concat([i]):null,fu(4,4,fp.bind(null,a,i),l)}function xf(){}function Tf(i,a){var l=kn();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&Kr(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function dp(i,a){var l=kn();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&Kr(a,h[1]))return h[0];if(h=i(),Ir){et(!0);try{i()}finally{et(!1)}}return l.memoizedState=[h,a],h}function Nl(i,a,l){return l===void 0||(un&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=tv(),yt.lanes|=i,bu|=i,l)}function lh(i,a,l,h){return yr(l,a)?l:Xt.current!==null?(i=Nl(i,l,h),yr(i,a)||(Di=!0),i):(un&42)===0?(Di=!0,i.memoizedState=l):(i=tv(),yt.lanes|=i,bu|=i,a)}function gc(i,a,l,h,y){var w=ce.p;ce.p=w!==0&&8>w?w:8;var j=se.T,$={};se.T=$,zg(i,!1,a,l);try{var de=y(),Pe=se.S;if(Pe!==null&&Pe($,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var He=ip(de,h);kf(i,a,He,da(i))}else kf(i,a,h,da(i))}catch($e){kf(i,a,{then:function(){},status:"rejected",reason:$e},da())}finally{ce.p=w,se.T=j}}function go(){}function Va(i,a,l,h){if(i.tag!==5)throw Error(r(476));var y=yo(i).queue;gc(i,y,a,pe,l===null?go:function(){return yc(i),l(h)})}function yo(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:pe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function yc(i){var a=yo(i).next.queue;kf(i,a,{},da())}function vc(){return Yr(Kf)}function Nf(){return kn().memoizedState}function pp(){return kn().memoizedState}function If(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=da();i=Be(l);var h=Je(a,i,l);h!==null&&(pa(h,a,l),Ye(h,a,l)),a={cache:yf()},i.payload=a;return}a=a.return}}function Cf(i,a,l){var h=da();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mp(i)?a5(a,l):(l=Qc(i,a,l,h),l!==null&&(pa(l,i,h),o5(l,a,h)))}function s5(i,a,l){var h=da();kf(i,a,l,h)}function kf(i,a,l,h){var y={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mp(i))a5(a,y);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var j=a.lastRenderedState,$=w(j,l);if(y.hasEagerState=!0,y.eagerState=$,yr($,j))return ic(i,a,y,0),hr===null&&rc(),!1}catch{}finally{}if(l=Qc(i,a,y,h),l!==null)return pa(l,i,h),o5(l,a,h),!0}return!1}function zg(i,a,l,h){if(h={lane:2,revertLane:_1(),action:h,hasEagerState:!1,eagerState:null,next:null},mp(i)){if(a)throw Error(r(479))}else a=Qc(i,l,h,2),a!==null&&pa(a,i,2)}function mp(i){var a=i.alternate;return i===yt||a!==null&&a===yt}function a5(i,a){Nr=or=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function o5(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,is(i,l)}}var gp={readContext:Yr,use:Fn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},l5={readContext:Yr,use:Fn,useCallback:function(i,a){return nr().memoizedState=[i,a===void 0?null:a],i},useContext:Yr,useEffect:Af,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,ua(4194308,4,fp.bind(null,a,i),l)},useLayoutEffect:function(i,a){return ua(4194308,4,i,a)},useInsertionEffect:function(i,a){ua(4,2,i,a)},useMemo:function(i,a){var l=nr();a=a===void 0?null:a;var h=i();if(Ir){et(!0);try{i()}finally{et(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=nr();if(l!==void 0){var y=l(a);if(Ir){et(!0);try{l(a)}finally{et(!1)}}}else y=a;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=Cf.bind(null,yt,i),[h.memoizedState,i]},useRef:function(i){var a=nr();return i={current:i},a.memoizedState=i},useState:function(i){i=dc(i);var a=i.queue,l=s5.bind(null,yt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:xf,useDeferredValue:function(i,a){var l=nr();return Nl(l,i,a)},useTransition:function(){var i=dc(!1);return i=gc.bind(null,yt,i.queue,!0,!1),nr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=yt,y=nr();if(Pn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),hr===null)throw Error(r(349));(Rn&124)!==0||sh(h,a,l)}y.memoizedState=l;var w={value:l,getSnapshot:a};return y.queue=w,Af(uu.bind(null,h,w,i),[i]),h.flags|=2048,mo(9,mc(),fc.bind(null,h,w,l,a),null),l},useId:function(){var i=nr(),a=hr.identifierPrefix;if(Pn){var l=uo,h=lo;l=(h&~(1<<32-Ke(h)-1)).toString(32)+l,a=""+a+"R"+l,l=_r++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=wr++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:vc,useFormState:pc,useActionState:pc,useOptimistic:function(i){var a=nr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=zg.bind(null,yt,!0,l),l.dispatch=a,[i,a]},useMemoCache:Qi,useCacheRefresh:function(){return nr().memoizedState=If.bind(null,yt)}},u5={readContext:Yr,use:Fn,useCallback:Tf,useContext:Yr,useEffect:hp,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:Tl,useMemo:dp,useReducer:Ba,useRef:oh,useState:function(){return Ba(Wr)},useDebugValue:xf,useDeferredValue:function(i,a){var l=kn();return lh(l,rn.memoizedState,i,a)},useTransition:function(){var i=Ba(Wr)[0],a=kn().memoizedState;return[typeof i=="boolean"?i:Ai(i),a]},useSyncExternalStore:hc,useId:Nf,useHostTransitionStatus:vc,useFormState:ah,useActionState:ah,useOptimistic:function(i,a){var l=kn();return po(l,rn,i,a)},useMemoCache:Qi,useCacheRefresh:pp},yx={readContext:Yr,use:Fn,useCallback:Tf,useContext:Yr,useEffect:hp,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:Tl,useMemo:dp,useReducer:Xr,useRef:oh,useState:function(){return Xr(Wr)},useDebugValue:xf,useDeferredValue:function(i,a){var l=kn();return rn===null?Nl(l,i,a):lh(l,rn.memoizedState,i,a)},useTransition:function(){var i=Xr(Wr)[0],a=kn().memoizedState;return[typeof i=="boolean"?i:Ai(i),a]},useSyncExternalStore:hc,useId:Nf,useHostTransitionStatus:vc,useFormState:cp,useActionState:cp,useOptimistic:function(i,a){var l=kn();return rn!==null?po(l,rn,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Qi,useCacheRefresh:pp},uh=null,Rf=0;function yp(i){var a=Rf;return Rf+=1,uh===null&&(uh=[]),Le(uh,i,a)}function Lf(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function vp(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function c5(i){var a=i._init;return a(i._payload)}function h5(i){function a(Ee,be){if(i){var Ce=Ee.deletions;Ce===null?(Ee.deletions=[be],Ee.flags|=16):Ce.push(be)}}function l(Ee,be){if(!i)return null;for(;be!==null;)a(Ee,be),be=be.sibling;return null}function h(Ee){for(var be=new Map;Ee!==null;)Ee.key!==null?be.set(Ee.key,Ee):be.set(Ee.index,Ee),Ee=Ee.sibling;return be}function y(Ee,be){return Ee=Oa(Ee,be),Ee.index=0,Ee.sibling=null,Ee}function w(Ee,be,Ce){return Ee.index=Ce,i?(Ce=Ee.alternate,Ce!==null?(Ce=Ce.index,Ce<be?(Ee.flags|=67108866,be):Ce):(Ee.flags|=67108866,be)):(Ee.flags|=1048576,be)}function j(Ee){return i&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function $(Ee,be,Ce,Ge){return be===null||be.tag!==6?(be=Zc(Ce,Ee.mode,Ge),be.return=Ee,be):(be=y(be,Ce),be.return=Ee,be)}function de(Ee,be,Ce,Ge){var _t=Ce.type;return _t===M?He(Ee,be,Ce.props.children,Ge,Ce.key):be!==null&&(be.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===P&&c5(_t)===be.type)?(be=y(be,Ce.props),Lf(be,Ce),be.return=Ee,be):(be=wl(Ce.type,Ce.key,Ce.props,null,Ee.mode,Ge),Lf(be,Ce),be.return=Ee,be)}function Pe(Ee,be,Ce,Ge){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ce.containerInfo||be.stateNode.implementation!==Ce.implementation?(be=ac(Ce,Ee.mode,Ge),be.return=Ee,be):(be=y(be,Ce.children||[]),be.return=Ee,be)}function He(Ee,be,Ce,Ge,_t){return be===null||be.tag!==7?(be=ao(Ce,Ee.mode,Ge,_t),be.return=Ee,be):(be=y(be,Ce),be.return=Ee,be)}function $e(Ee,be,Ce){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Zc(""+be,Ee.mode,Ce),be.return=Ee,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case A:return Ce=wl(be.type,be.key,be.props,null,Ee.mode,Ce),Lf(Ce,be),Ce.return=Ee,Ce;case v:return be=ac(be,Ee.mode,Ce),be.return=Ee,be;case P:var Ge=be._init;return be=Ge(be._payload),$e(Ee,be,Ce)}if(fe(be)||x(be))return be=ao(be,Ee.mode,Ce,null),be.return=Ee,be;if(typeof be.then=="function")return $e(Ee,yp(be),Ce);if(be.$$typeof===K)return $e(Ee,Bo(Ee,be),Ce);vp(Ee,be)}return null}function Oe(Ee,be,Ce,Ge){var _t=be!==null?be.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return _t!==null?null:$(Ee,be,""+Ce,Ge);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case A:return Ce.key===_t?de(Ee,be,Ce,Ge):null;case v:return Ce.key===_t?Pe(Ee,be,Ce,Ge):null;case P:return _t=Ce._init,Ce=_t(Ce._payload),Oe(Ee,be,Ce,Ge)}if(fe(Ce)||x(Ce))return _t!==null?null:He(Ee,be,Ce,Ge,null);if(typeof Ce.then=="function")return Oe(Ee,be,yp(Ce),Ge);if(Ce.$$typeof===K)return Oe(Ee,be,Bo(Ee,Ce),Ge);vp(Ee,Ce)}return null}function Me(Ee,be,Ce,Ge,_t){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ee=Ee.get(Ce)||null,$(be,Ee,""+Ge,_t);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case A:return Ee=Ee.get(Ge.key===null?Ce:Ge.key)||null,de(be,Ee,Ge,_t);case v:return Ee=Ee.get(Ge.key===null?Ce:Ge.key)||null,Pe(be,Ee,Ge,_t);case P:var vn=Ge._init;return Ge=vn(Ge._payload),Me(Ee,be,Ce,Ge,_t)}if(fe(Ge)||x(Ge))return Ee=Ee.get(Ce)||null,He(be,Ee,Ge,_t,null);if(typeof Ge.then=="function")return Me(Ee,be,Ce,yp(Ge),_t);if(Ge.$$typeof===K)return Me(Ee,be,Ce,Bo(be,Ge),_t);vp(be,Ge)}return null}function Qt(Ee,be,Ce,Ge){for(var _t=null,vn=null,Lt=be,$t=be=0,Mi=null;Lt!==null&&$t<Ce.length;$t++){Lt.index>$t?(Mi=Lt,Lt=null):Mi=Lt.sibling;var On=Oe(Ee,Lt,Ce[$t],Ge);if(On===null){Lt===null&&(Lt=Mi);break}i&&Lt&&On.alternate===null&&a(Ee,Lt),be=w(On,be,$t),vn===null?_t=On:vn.sibling=On,vn=On,Lt=Mi}if($t===Ce.length)return l(Ee,Lt),Pn&&Sl(Ee,$t),_t;if(Lt===null){for(;$t<Ce.length;$t++)Lt=$e(Ee,Ce[$t],Ge),Lt!==null&&(be=w(Lt,be,$t),vn===null?_t=Lt:vn.sibling=Lt,vn=Lt);return Pn&&Sl(Ee,$t),_t}for(Lt=h(Lt);$t<Ce.length;$t++)Mi=Me(Lt,Ee,$t,Ce[$t],Ge),Mi!==null&&(i&&Mi.alternate!==null&&Lt.delete(Mi.key===null?$t:Mi.key),be=w(Mi,be,$t),vn===null?_t=Mi:vn.sibling=Mi,vn=Mi);return i&&Lt.forEach(function(Iu){return a(Ee,Iu)}),Pn&&Sl(Ee,$t),_t}function Ht(Ee,be,Ce,Ge){if(Ce==null)throw Error(r(151));for(var _t=null,vn=null,Lt=be,$t=be=0,Mi=null,On=Ce.next();Lt!==null&&!On.done;$t++,On=Ce.next()){Lt.index>$t?(Mi=Lt,Lt=null):Mi=Lt.sibling;var Iu=Oe(Ee,Lt,On.value,Ge);if(Iu===null){Lt===null&&(Lt=Mi);break}i&&Lt&&Iu.alternate===null&&a(Ee,Lt),be=w(Iu,be,$t),vn===null?_t=Iu:vn.sibling=Iu,vn=Iu,Lt=Mi}if(On.done)return l(Ee,Lt),Pn&&Sl(Ee,$t),_t;if(Lt===null){for(;!On.done;$t++,On=Ce.next())On=$e(Ee,On.value,Ge),On!==null&&(be=w(On,be,$t),vn===null?_t=On:vn.sibling=On,vn=On);return Pn&&Sl(Ee,$t),_t}for(Lt=h(Lt);!On.done;$t++,On=Ce.next())On=Me(Lt,Ee,$t,On.value,Ge),On!==null&&(i&&On.alternate!==null&&Lt.delete(On.key===null?$t:On.key),be=w(On,be,$t),vn===null?_t=On:vn.sibling=On,vn=On);return i&&Lt.forEach(function(vT){return a(Ee,vT)}),Pn&&Sl(Ee,$t),_t}function ir(Ee,be,Ce,Ge){if(typeof Ce=="object"&&Ce!==null&&Ce.type===M&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case A:e:{for(var _t=Ce.key;be!==null;){if(be.key===_t){if(_t=Ce.type,_t===M){if(be.tag===7){l(Ee,be.sibling),Ge=y(be,Ce.props.children),Ge.return=Ee,Ee=Ge;break e}}else if(be.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===P&&c5(_t)===be.type){l(Ee,be.sibling),Ge=y(be,Ce.props),Lf(Ge,Ce),Ge.return=Ee,Ee=Ge;break e}l(Ee,be);break}else a(Ee,be);be=be.sibling}Ce.type===M?(Ge=ao(Ce.props.children,Ee.mode,Ge,Ce.key),Ge.return=Ee,Ee=Ge):(Ge=wl(Ce.type,Ce.key,Ce.props,null,Ee.mode,Ge),Lf(Ge,Ce),Ge.return=Ee,Ee=Ge)}return j(Ee);case v:e:{for(_t=Ce.key;be!==null;){if(be.key===_t)if(be.tag===4&&be.stateNode.containerInfo===Ce.containerInfo&&be.stateNode.implementation===Ce.implementation){l(Ee,be.sibling),Ge=y(be,Ce.children||[]),Ge.return=Ee,Ee=Ge;break e}else{l(Ee,be);break}else a(Ee,be);be=be.sibling}Ge=ac(Ce,Ee.mode,Ge),Ge.return=Ee,Ee=Ge}return j(Ee);case P:return _t=Ce._init,Ce=_t(Ce._payload),ir(Ee,be,Ce,Ge)}if(fe(Ce))return Qt(Ee,be,Ce,Ge);if(x(Ce)){if(_t=x(Ce),typeof _t!="function")throw Error(r(150));return Ce=_t.call(Ce),Ht(Ee,be,Ce,Ge)}if(typeof Ce.then=="function")return ir(Ee,be,yp(Ce),Ge);if(Ce.$$typeof===K)return ir(Ee,be,Bo(Ee,Ce),Ge);vp(Ee,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,be!==null&&be.tag===6?(l(Ee,be.sibling),Ge=y(be,Ce),Ge.return=Ee,Ee=Ge):(l(Ee,be),Ge=Zc(Ce,Ee.mode,Ge),Ge.return=Ee,Ee=Ge),j(Ee)):l(Ee,be)}return function(Ee,be,Ce,Ge){try{Rf=0;var _t=ir(Ee,be,Ce,Ge);return uh=null,_t}catch(Lt){if(Lt===G||Lt===W)throw Lt;var vn=Li(29,Lt,null,Ee.mode);return vn.lanes=Ge,vn.return=Ee,vn}finally{}}}var ch=h5(!0),f5=h5(!1),za=ge(null),Vo=null;function du(i){var a=i.alternate;I(Si,Si.current&1),I(za,i),Vo===null&&(a===null||Xt.current!==null||a.memoizedState!==null)&&(Vo=i)}function d5(i){if(i.tag===22){if(I(Si,Si.current),I(za,i),Vo===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Vo=i)}}else pu()}function pu(){I(Si,Si.current),I(za,za.current)}function Il(i){F(za),Vo===i&&(Vo=null),F(Si)}var Si=ge(0);function bp(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||L1(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function qg(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:p({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Hg={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=da(),y=Be(h);y.payload=a,l!=null&&(y.callback=l),a=Je(i,y,h),a!==null&&(pa(a,i,h),Ye(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=da(),y=Be(h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=Je(i,y,h),a!==null&&(pa(a,i,h),Ye(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=da(),h=Be(l);h.tag=2,a!=null&&(h.callback=a),a=Je(i,h,l),a!==null&&(pa(a,i,l),Ye(a,i,l))}};function p5(i,a,l,h,y,w,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,w,j):a.prototype&&a.prototype.isPureReactComponent?!fs(l,h)||!fs(y,w):!0}function m5(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&Hg.enqueueReplaceState(a,a.state,null)}function bc(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=p({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}var _p=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function g5(i){_p(i)}function y5(i){console.error(i)}function v5(i){_p(i)}function wp(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function b5(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Gg(i,a,l){return l=Be(l),l.tag=3,l.payload={element:null},l.callback=function(){wp(i,a)},l}function _5(i){return i=Be(i),i.tag=3,i}function w5(i,a,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;i.payload=function(){return y(w)},i.callback=function(){b5(a,l,h)}}var j=l.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(i.callback=function(){b5(a,l,h),typeof y!="function"&&(_u===null?_u=new Set([this]):_u.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})})}function vx(i,a,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&lu(a,l,y,!0),l=za.current,l!==null){switch(l.tag){case 13:return Vo===null?m1():l.alternate===null&&Ur===0&&(Ur=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===ee?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),y1(i,h,y)),!1;case 22:return l.flags|=65536,h===ee?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),y1(i,h,y)),!1}throw Error(r(435,l.tag))}return y1(i,h,y),m1(),!1}if(Pn)return a=za.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==gf&&(i=Error(r(422),{cause:h}),ou(Ps(i,l)))):(h!==gf&&(a=Error(r(423),{cause:h}),ou(Ps(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Ps(h,l),y=Gg(i.stateNode,h,y),St(i,y),Ur!==4&&(Ur=2)),!1;var w=Error(r(520),{cause:h});if(w=Ps(w,l),Ff===null?Ff=[w]:Ff.push(w),Ur!==4&&(Ur=2),a===null)return!0;h=Ps(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=Gg(l.stateNode,h,i),St(l,i),!1;case 1:if(a=l.type,w=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_u===null||!_u.has(w))))return l.flags|=65536,y&=-y,l.lanes|=y,y=_5(y),w5(y,i,l,h),St(l,y),!1}l=l.return}while(l!==null);return!1}var A5=Error(r(461)),Di=!1;function Ji(i,a,l,h){a.child=i===null?f5(a,null,l,h):ch(a,i.child,l,h)}function S5(i,a,l,h,y){l=l.render;var w=a.ref;if("ref"in h){var j={};for(var $ in h)$!=="ref"&&(j[$]=h[$])}else j=h;return Fa(a),h=js(i,a,l,j,w,y),$=Cr(),i!==null&&!Di?(Xi(i,a,y),Cl(i,a,y)):(Pn&&$&&oc(a),a.flags|=1,Ji(i,a,h,y),a.child)}function E5(i,a,l,h,y){if(i===null){var w=l.type;return typeof w=="function"&&!su(w)&&w.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=w,x5(i,a,w,h,y)):(i=wl(l.type,null,h,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(w=i.child,!Zg(i,y)){var j=w.memoizedProps;if(l=l.compare,l=l!==null?l:fs,l(j,h)&&i.ref===a.ref)return Cl(i,a,y)}return a.flags|=1,i=Oa(w,h),i.ref=a.ref,i.return=a,a.child=i}function x5(i,a,l,h,y){if(i!==null){var w=i.memoizedProps;if(fs(w,h)&&i.ref===a.ref)if(Di=!1,a.pendingProps=h=w,Zg(i,y))(i.flags&131072)!==0&&(Di=!0);else return a.lanes=i.lanes,Cl(i,a,y)}return Yg(i,a,l,h,y)}function T5(i,a,l){var h=a.pendingProps,y=h.children,w=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=w!==null?w.baseLanes|l:l,i!==null){for(y=a.child=i.child,w=0;y!==null;)w=w|y.lanes|y.childLanes,y=y.sibling;a.childLanes=w&~h}else a.childLanes=0,a.child=null;return N5(i,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&C(a,w!==null?w.cachePool:null),w!==null?st(a,w):pr(),d5(a);else return a.lanes=a.childLanes=536870912,N5(i,a,w!==null?w.baseLanes|l:l,l)}else w!==null?(C(a,w.cachePool),st(a,w),pu(),a.memoizedState=null):(i!==null&&C(a,null),pr(),pu());return Ji(i,a,y,l),a.child}function N5(i,a,l,h){var y=E();return y=y===null?null:{parent:$r._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},i!==null&&C(a,null),pr(),d5(a),i!==null&&lu(i,a,h,!0),null}function Ap(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Yg(i,a,l,h,y){return Fa(a),l=js(i,a,l,h,void 0,y),h=Cr(),i!==null&&!Di?(Xi(i,a,y),Cl(i,a,y)):(Pn&&h&&oc(a),a.flags|=1,Ji(i,a,l,y),a.child)}function I5(i,a,l,h,y,w){return Fa(a),a.updateQueue=null,l=Wi(a,h,l,y),Ar(i),h=Cr(),i!==null&&!Di?(Xi(i,a,w),Cl(i,a,w)):(Pn&&h&&oc(a),a.flags|=1,Ji(i,a,l,w),a.child)}function C5(i,a,l,h,y){if(Fa(a),a.stateNode===null){var w=oi,j=l.contextType;typeof j=="object"&&j!==null&&(w=Yr(j)),w=new l(h,w),a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Hg,a.stateNode=w,w._reactInternals=a,w=a.stateNode,w.props=h,w.state=a.memoizedState,w.refs={},ke(a),j=l.contextType,w.context=typeof j=="object"&&j!==null?Yr(j):oi,w.state=a.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(qg(a,l,j,h),w.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(j=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),j!==w.state&&Hg.enqueueReplaceState(w,w.state,null),mt(a,h,w,y),Jt(),w.state=a.memoizedState),typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){w=a.stateNode;var $=a.memoizedProps,de=bc(l,$);w.props=de;var Pe=w.context,He=l.contextType;j=oi,typeof He=="object"&&He!==null&&(j=Yr(He));var $e=l.getDerivedStateFromProps;He=typeof $e=="function"||typeof w.getSnapshotBeforeUpdate=="function",$=a.pendingProps!==$,He||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||($||Pe!==j)&&m5(a,w,h,j),je=!1;var Oe=a.memoizedState;w.state=Oe,mt(a,h,w,y),Jt(),Pe=a.memoizedState,$||Oe!==Pe||je?(typeof $e=="function"&&(qg(a,l,$e,h),Pe=a.memoizedState),(de=je||p5(a,l,de,h,Oe,Pe,j))?(He||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(a.flags|=4194308)):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Pe),w.props=h,w.state=Pe,w.context=j,h=de):(typeof w.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{w=a.stateNode,Ve(i,a),j=a.memoizedProps,He=bc(l,j),w.props=He,$e=a.pendingProps,Oe=w.context,Pe=l.contextType,de=oi,typeof Pe=="object"&&Pe!==null&&(de=Yr(Pe)),$=l.getDerivedStateFromProps,(Pe=typeof $=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(j!==$e||Oe!==de)&&m5(a,w,h,de),je=!1,Oe=a.memoizedState,w.state=Oe,mt(a,h,w,y),Jt();var Me=a.memoizedState;j!==$e||Oe!==Me||je||i!==null&&i.dependencies!==null&&rh(i.dependencies)?(typeof $=="function"&&(qg(a,l,$,h),Me=a.memoizedState),(He=je||p5(a,l,He,h,Oe,Me,de)||i!==null&&i.dependencies!==null&&rh(i.dependencies))?(Pe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,Me,de),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,Me,de)),typeof w.componentDidUpdate=="function"&&(a.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof w.componentDidUpdate!="function"||j===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Me),w.props=h,w.state=Me,w.context=de,h=He):(typeof w.componentDidUpdate!="function"||j===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||j===i.memoizedProps&&Oe===i.memoizedState||(a.flags|=1024),h=!1)}return w=h,Ap(i,a),h=(a.flags&128)!==0,w||h?(w=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:w.render(),a.flags|=1,i!==null&&h?(a.child=ch(a,i.child,null,y),a.child=ch(a,null,l,y)):Ji(i,a,l,y),a.memoizedState=w.state,i=a.child):i=Cl(i,a,y),i}function k5(i,a,l,h){return Ms(),a.flags|=256,Ji(i,a,l,h),a.child}var $g={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kg(i){return{baseLanes:i,cachePool:q()}}function Wg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=qa),i}function R5(i,a,l){var h=a.pendingProps,y=!1,w=(a.flags&128)!==0,j;if((j=w)||(j=i!==null&&i.memoizedState===null?!1:(Si.current&2)!==0),j&&(y=!0,a.flags&=-129),j=(a.flags&32)!==0,a.flags&=-33,i===null){if(Pn){if(y?du(a):pu(),Pn){var $=br,de;if(de=$){e:{for(de=$,$=Ma;de.nodeType!==8;){if(!$){$=null;break e}if(de=bo(de.nextSibling),de===null){$=null;break e}}$=de}$!==null?(a.memoizedState={dehydrated:$,treeContext:Al!==null?{id:lo,overflow:uo}:null,retryLane:536870912,hydrationErrors:null},de=Li(18,null,null,0),de.stateNode=$,de.return=a,a.child=de,Gr=a,br=null,de=!0):de=!1}de||El(a)}if($=a.memoizedState,$!==null&&($=$.dehydrated,$!==null))return L1($)?a.lanes=32:a.lanes=536870912,null;Il(a)}return $=h.children,h=h.fallback,y?(pu(),y=a.mode,$=Sp({mode:"hidden",children:$},y),h=ao(h,y,l,null),$.return=a,h.return=a,$.sibling=h,a.child=$,y=a.child,y.memoizedState=Kg(l),y.childLanes=Wg(i,j,l),a.memoizedState=$g,h):(du(a),Xg(a,$))}if(de=i.memoizedState,de!==null&&($=de.dehydrated,$!==null)){if(w)a.flags&256?(du(a),a.flags&=-257,a=Qg(i,a,l)):a.memoizedState!==null?(pu(),a.child=i.child,a.flags|=128,a=null):(pu(),y=h.fallback,$=a.mode,h=Sp({mode:"visible",children:h.children},$),y=ao(y,$,l,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,ch(a,i.child,null,l),h=a.child,h.memoizedState=Kg(l),h.childLanes=Wg(i,j,l),a.memoizedState=$g,a=y);else if(du(a),L1($)){if(j=$.nextSibling&&$.nextSibling.dataset,j)var Pe=j.dgst;j=Pe,h=Error(r(419)),h.stack="",h.digest=j,ou({value:h,source:null,stack:null}),a=Qg(i,a,l)}else if(Di||lu(i,a,l,!1),j=(l&i.childLanes)!==0,Di||j){if(j=hr,j!==null&&(h=l&-l,h=(h&42)!==0?1:Pr(h),h=(h&(j.suspendedLanes|l))!==0?0:h,h!==0&&h!==de.retryLane))throw de.retryLane=h,bl(i,h),pa(j,i,h),A5;$.data==="$?"||m1(),a=Qg(i,a,l)}else $.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=de.treeContext,br=bo($.nextSibling),Gr=a,Pn=!0,Uo=null,Ma=!1,i!==null&&(Ks[Os++]=lo,Ks[Os++]=uo,Ks[Os++]=Al,lo=i.id,uo=i.overflow,Al=a),a=Xg(a,h.children),a.flags|=4096);return a}return y?(pu(),y=h.fallback,$=a.mode,de=i.child,Pe=de.sibling,h=Oa(de,{mode:"hidden",children:h.children}),h.subtreeFlags=de.subtreeFlags&65011712,Pe!==null?y=Oa(Pe,y):(y=ao(y,$,l,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,$=i.child.memoizedState,$===null?$=Kg(l):(de=$.cachePool,de!==null?(Pe=$r._currentValue,de=de.parent!==Pe?{parent:Pe,pool:Pe}:de):de=q(),$={baseLanes:$.baseLanes|l,cachePool:de}),y.memoizedState=$,y.childLanes=Wg(i,j,l),a.memoizedState=$g,h):(du(a),l=i.child,i=l.sibling,l=Oa(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(j=a.deletions,j===null?(a.deletions=[i],a.flags|=16):j.push(i)),a.child=l,a.memoizedState=null,l)}function Xg(i,a){return a=Sp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Sp(i,a){return i=Li(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Qg(i,a,l){return ch(a,i.child,null,l),i=Xg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function L5(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),th(i.return,a,l)}function Jg(i,a,l,h,y){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=l,w.tailMode=y)}function P5(i,a,l){var h=a.pendingProps,y=h.revealOrder,w=h.tail;if(Ji(i,a,h.children,l),h=Si.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&L5(i,l,a);else if(i.tag===19)L5(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(I(Si,h),y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&bp(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),Jg(a,!1,y,l,w);break;case"backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&bp(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Jg(a,!0,l,null,w);break;case"together":Jg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Cl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),bu|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(lu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Oa(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Oa(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Zg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&rh(i)))}function bx(i,a,l){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),Fo(a,$r,i.memoizedState.cache),Ms();break;case 27:case 5:Ue(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:Fo(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(du(a),a.flags|=128,null):(l&a.child.childLanes)!==0?R5(i,a,l):(du(a),i=Cl(i,a,l),i!==null?i.sibling:null);du(a);break;case 19:var y=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(lu(i,a,l,!1),h=(l&a.childLanes)!==0),y){if(h)return P5(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),I(Si,Si.current),h)break;return null;case 22:case 23:return a.lanes=0,T5(i,a,l);case 24:Fo(a,$r,i.memoizedState.cache)}return Cl(i,a,l)}function D5(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Di=!0;else{if(!Zg(i,l)&&(a.flags&128)===0)return Di=!1,bx(i,a,l);Di=(i.flags&131072)!==0}else Di=!1,Pn&&(a.flags&1048576)!==0&&Zd(a,eh,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var h=a.elementType,y=h._init;if(h=y(h._payload),a.type=h,typeof h=="function")su(h)?(i=bc(h,i),a.tag=1,a=C5(null,a,h,i,l)):(a.tag=0,a=Yg(null,a,h,i,l));else{if(h!=null){if(y=h.$$typeof,y===te){a.tag=11,a=S5(null,a,h,i,l);break e}else if(y===V){a.tag=14,a=E5(null,a,h,i,l);break e}}throw a=Z(h)||h,Error(r(306,a,""))}}return a;case 0:return Yg(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,y=bc(h,a.pendingProps),C5(i,a,h,y,l);case 3:e:{if(Se(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var w=a.memoizedState;y=w.element,Ve(i,a),mt(a,h,null,l);var j=a.memoizedState;if(h=j.cache,Fo(a,$r,h),h!==w.cache&&nh(a,[$r],l,!0),Jt(),h=j.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:j.cache},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){a=k5(i,a,h,l);break e}else if(h!==y){y=Ps(Error(r(424)),a),ou(y),a=k5(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(br=bo(i.firstChild),Gr=a,Pn=!0,Uo=null,Ma=!0,l=f5(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ms(),h===y){a=Cl(i,a,l);break e}Ji(i,a,h,l)}a=a.child}return a;case 26:return Ap(i,a),i===null?(l=Uv(a.type,null,a.pendingProps,null))?a.memoizedState=l:Pn||(l=a.type,i=a.pendingProps,h=jp(le.current).createElement(l),h[jn]=a,h[Vn]=i,es(h,l,i),Gn(h),a.stateNode=h):a.memoizedState=Uv(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ue(a),i===null&&Pn&&(h=a.stateNode=Ov(a.type,a.pendingProps,le.current),Gr=a,Ma=!0,y=br,Su(a.type)?(P1=y,br=bo(h.firstChild)):br=y),Ji(i,a,a.pendingProps.children,l),Ap(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Pn&&((y=h=br)&&(h=$x(h,a.type,a.pendingProps,Ma),h!==null?(a.stateNode=h,Gr=a,br=bo(h.firstChild),Ma=!1,y=!0):y=!1),y||El(a)),Ue(a),y=a.type,w=a.pendingProps,j=i!==null?i.memoizedProps:null,h=w.children,C1(y,w)?h=null:j!==null&&C1(y,j)&&(a.flags|=32),a.memoizedState!==null&&(y=js(i,a,Xn,null,null,l),Kf._currentValue=y),Ap(i,a),Ji(i,a,h,l),a.child;case 6:return i===null&&Pn&&((i=l=br)&&(l=Kx(l,a.pendingProps,Ma),l!==null?(a.stateNode=l,Gr=a,br=null,i=!0):i=!1),i||El(a)),null;case 13:return R5(i,a,l);case 4:return Se(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=ch(a,null,h,l):Ji(i,a,h,l),a.child;case 11:return S5(i,a,a.type,a.pendingProps,l);case 7:return Ji(i,a,a.pendingProps,l),a.child;case 8:return Ji(i,a,a.pendingProps.children,l),a.child;case 12:return Ji(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Fo(a,a.type,h.value),Ji(i,a,h.children,l),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,Fa(a),y=Yr(y),h=h(y),a.flags|=1,Ji(i,a,h,l),a.child;case 14:return E5(i,a,a.type,a.pendingProps,l);case 15:return x5(i,a,a.type,a.pendingProps,l);case 19:return P5(i,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},i===null?(l=Sp(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Oa(i.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return T5(i,a,l);case 24:return Fa(a),h=Yr($r),i===null?(y=E(),y===null&&(y=hr,w=yf(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=l),y=w),a.memoizedState={parent:h,cache:y},ke(a),Fo(a,$r,y)):((i.lanes&l)!==0&&(Ve(i,a),mt(a,null,null,l),Jt()),y=i.memoizedState,w=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Fo(a,$r,h)):(h=w.cache,Fo(a,$r,h),h!==y.cache&&nh(a,[$r],l,!0))),Ji(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function kl(i){i.flags|=4}function O5(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!qv(a)){if(a=za.current,a!==null&&((Rn&4194048)===Rn?Vo!==null:(Rn&62914560)!==Rn&&(Rn&536870912)===0||a!==Vo))throw ie=ee,Y;i.flags|=8192}}function Ep(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Bt():536870912,i.lanes|=a,ph|=a)}function Pf(i,a){if(!Pn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function kr(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function _x(i,a,l){var h=a.pendingProps;switch(lc(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(a),null;case 1:return kr(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ua($r),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ki(a)?kl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,tp())),kr(a),null;case 26:return l=a.memoizedState,i===null?(kl(a),l!==null?(kr(a),O5(a,l)):(kr(a),a.flags&=-16777217)):l?l!==i.memoizedState?(kl(a),kr(a),O5(a,l)):(kr(a),a.flags&=-16777217):(i.memoizedProps!==h&&kl(a),kr(a),a.flags&=-16777217),null;case 27:Qe(a),l=le.current;var y=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==h&&kl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return kr(a),null}i=ne.current,Ki(a)?ep(a):(i=Ov(y,h,l),a.stateNode=i,kl(a))}return kr(a),null;case 5:if(Qe(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&kl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return kr(a),null}if(i=ne.current,Ki(a))ep(a);else{switch(y=jp(le.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?y.createElement("select",{is:h.is}):y.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?y.createElement(l,{is:h.is}):y.createElement(l)}}i[jn]=a,i[Vn]=h;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=i;e:switch(es(i,l,h),l){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&kl(a)}}return kr(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&kl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=le.current,Ki(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,y=Gr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[jn]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||Iv(i.nodeValue,l)),i||El(a)}else i=jp(i).createTextNode(h),i[jn]=a,a.stateNode=i}return kr(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Ki(a),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[jn]=a}else Ms(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;kr(a),y=!1}else y=tp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Il(a),a):(Il(a),null)}if(Il(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,i=i!==null&&i.memoizedState!==null,l){h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool);var w=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Ep(a,a.updateQueue),kr(a),null;case 4:return Re(),i===null&&E1(a.stateNode.containerInfo),kr(a),null;case 10:return Ua(a.type),kr(a),null;case 19:if(F(Si),y=a.memoizedState,y===null)return kr(a),null;if(h=(a.flags&128)!==0,w=y.rendering,w===null)if(h)Pf(y,!1);else{if(Ur!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(w=bp(i),w!==null){for(a.flags|=128,Pf(y,!1),i=w.updateQueue,a.updateQueue=i,Ep(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)sc(l,i),l=l.sibling;return I(Si,Si.current&1|2),a.child}i=i.sibling}y.tail!==null&&Tt()>Np&&(a.flags|=128,h=!0,Pf(y,!1),a.lanes=4194304)}else{if(!h)if(i=bp(w),i!==null){if(a.flags|=128,h=!0,i=i.updateQueue,a.updateQueue=i,Ep(a,i),Pf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!Pn)return kr(a),null}else 2*Tt()-y.renderingStartTime>Np&&l!==536870912&&(a.flags|=128,h=!0,Pf(y,!1),a.lanes=4194304);y.isBackwards?(w.sibling=a.child,a.child=w):(i=y.last,i!==null?i.sibling=w:a.child=w,y.last=w)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Tt(),a.sibling=null,i=Si.current,I(Si,h?i&1|2:i&1),a):(kr(a),null);case 22:case 23:return Il(a),Zt(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(kr(a),a.subtreeFlags&6&&(a.flags|=8192)):kr(a),l=a.updateQueue,l!==null&&Ep(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&F(b),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ua($r),kr(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function wx(i,a){switch(lc(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ua($r),Re(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Qe(a),null;case 13:if(Il(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ms()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return F(Si),null;case 4:return Re(),null;case 10:return Ua(a.type),null;case 22:case 23:return Il(a),Zt(),i!==null&&F(b),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ua($r),null;case 25:return null;default:return null}}function M5(i,a){switch(lc(a),a.tag){case 3:Ua($r),Re();break;case 26:case 27:case 5:Qe(a);break;case 4:Re();break;case 13:Il(a);break;case 19:F(Si);break;case 10:Ua(a.type);break;case 22:case 23:Il(a),Zt(),i!==null&&F(b);break;case 24:Ua($r)}}function Df(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var w=l.create,j=l.inst;h=w(),j.destroy=h}l=l.next}while(l!==y)}}catch($){lr(a,a.return,$)}}function mu(i,a,l){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&i)===i){var j=h.inst,$=j.destroy;if($!==void 0){j.destroy=void 0,y=a;var de=l,Pe=$;try{Pe()}catch(He){lr(y,de,He)}}}h=h.next}while(h!==w)}}catch(He){lr(a,a.return,He)}}function j5(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{jr(a,l)}catch(h){lr(i,i.return,h)}}}function U5(i,a,l){l.props=bc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){lr(i,a,h)}}function Of(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){lr(i,a,y)}}function zo(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){lr(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){lr(i,a,y)}else l.current=null}function F5(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){lr(i,i.return,y)}}function e1(i,a,l){try{var h=i.stateNode;zx(h,i.type,l,a),h[Vn]=a}catch(y){lr(i,i.return,y)}}function B5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Su(i.type)||i.tag===4}function t1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||B5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Su(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function n1(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Mp));else if(h!==4&&(h===27&&Su(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(n1(i,a,l),i=i.sibling;i!==null;)n1(i,a,l),i=i.sibling}function xp(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&Su(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(xp(i,a,l),i=i.sibling;i!==null;)xp(i,a,l),i=i.sibling}function V5(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);es(a,h,l),a[jn]=i,a[Vn]=l}catch(w){lr(i,i.return,w)}}var Rl=!1,Qr=!1,r1=!1,z5=typeof WeakSet=="function"?WeakSet:Set,Oi=null;function Ax(i,a){if(i=i.containerInfo,N1=qp,i=nu(i),Pa(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var j=0,$=-1,de=-1,Pe=0,He=0,$e=i,Oe=null;t:for(;;){for(var Me;$e!==l||y!==0&&$e.nodeType!==3||($=j+y),$e!==w||h!==0&&$e.nodeType!==3||(de=j+h),$e.nodeType===3&&(j+=$e.nodeValue.length),(Me=$e.firstChild)!==null;)Oe=$e,$e=Me;for(;;){if($e===i)break t;if(Oe===l&&++Pe===y&&($=j),Oe===w&&++He===h&&(de=j),(Me=$e.nextSibling)!==null)break;$e=Oe,Oe=$e.parentNode}$e=Me}l=$===-1||de===-1?null:{start:$,end:de}}else l=null}l=l||{start:0,end:0}}else l=null;for(I1={focusedElem:i,selectionRange:l},qp=!1,Oi=a;Oi!==null;)if(a=Oi,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Oi=i;else for(;Oi!==null;){switch(a=Oi,w=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&w!==null){i=void 0,l=a,y=w.memoizedProps,w=w.memoizedState,h=l.stateNode;try{var Qt=bc(l.type,y,l.elementType===l.type);i=h.getSnapshotBeforeUpdate(Qt,w),h.__reactInternalSnapshotBeforeUpdate=i}catch(Ht){lr(l,l.return,Ht)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)R1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":R1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Oi=i;break}Oi=a.return}}function q5(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:gu(i,l),h&4&&Df(5,l);break;case 1:if(gu(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(j){lr(l,l.return,j)}else{var y=bc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(j){lr(l,l.return,j)}}h&64&&j5(l),h&512&&Of(l,l.return);break;case 3:if(gu(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{jr(i,a)}catch(j){lr(l,l.return,j)}}break;case 27:a===null&&h&4&&V5(l);case 26:case 5:gu(i,l),a===null&&h&4&&F5(l),h&512&&Of(l,l.return);break;case 12:gu(i,l);break;case 13:gu(i,l),h&4&&Y5(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Rx.bind(null,l),Wx(i,l))));break;case 22:if(h=l.memoizedState!==null||Rl,!h){a=a!==null&&a.memoizedState!==null||Qr,y=Rl;var w=Qr;Rl=h,(Qr=a)&&!w?yu(i,l,(l.subtreeFlags&8772)!==0):gu(i,l),Rl=y,Qr=w}break;case 30:break;default:gu(i,l)}}function H5(i){var a=i.alternate;a!==null&&(i.alternate=null,H5(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ti(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Sr=null,Ws=!1;function Ll(i,a,l){for(l=l.child;l!==null;)G5(i,a,l),l=l.sibling}function G5(i,a,l){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Ne,l)}catch{}switch(l.tag){case 26:Qr||zo(l,a),Ll(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qr||zo(l,a);var h=Sr,y=Ws;Su(l.type)&&(Sr=l.stateNode,Ws=!1),Ll(i,a,l),Hf(l.stateNode),Sr=h,Ws=y;break;case 5:Qr||zo(l,a);case 6:if(h=Sr,y=Ws,Sr=null,Ll(i,a,l),Sr=h,Ws=y,Sr!==null)if(Ws)try{(Sr.nodeType===9?Sr.body:Sr.nodeName==="HTML"?Sr.ownerDocument.body:Sr).removeChild(l.stateNode)}catch(w){lr(l,a,w)}else try{Sr.removeChild(l.stateNode)}catch(w){lr(l,a,w)}break;case 18:Sr!==null&&(Ws?(i=Sr,Pv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Jf(i)):Pv(Sr,l.stateNode));break;case 4:h=Sr,y=Ws,Sr=l.stateNode.containerInfo,Ws=!0,Ll(i,a,l),Sr=h,Ws=y;break;case 0:case 11:case 14:case 15:Qr||mu(2,l,a),Qr||mu(4,l,a),Ll(i,a,l);break;case 1:Qr||(zo(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&U5(l,a,h)),Ll(i,a,l);break;case 21:Ll(i,a,l);break;case 22:Qr=(h=Qr)||l.memoizedState!==null,Ll(i,a,l),Qr=h;break;default:Ll(i,a,l)}}function Y5(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jf(i)}catch(l){lr(a,a.return,l)}}function Sx(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new z5),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new z5),a;default:throw Error(r(435,i.tag))}}function i1(i,a){var l=Sx(i);a.forEach(function(h){var y=Lx.bind(null,i,h);l.has(h)||(l.add(h),h.then(y,y))})}function ca(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],w=i,j=a,$=j;e:for(;$!==null;){switch($.tag){case 27:if(Su($.type)){Sr=$.stateNode,Ws=!1;break e}break;case 5:Sr=$.stateNode,Ws=!1;break e;case 3:case 4:Sr=$.stateNode.containerInfo,Ws=!0;break e}$=$.return}if(Sr===null)throw Error(r(160));G5(w,j,y),Sr=null,Ws=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)$5(a,i),a=a.sibling}var vo=null;function $5(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ca(a,i),ha(i),h&4&&(mu(3,i,i.return),Df(3,i),mu(5,i,i.return));break;case 1:ca(a,i),ha(i),h&512&&(Qr||l===null||zo(l,l.return)),h&64&&Rl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=vo;if(ca(a,i),ha(i),h&512&&(Qr||l===null||zo(l,l.return)),h&4){var w=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[Fi]||w[jn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),es(w,h,l),w[jn]=i,Gn(w),h=w;break e;case"link":var j=Vv("link","href",y).get(h+(l.href||""));if(j){for(var $=0;$<j.length;$++)if(w=j[$],w.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&w.getAttribute("rel")===(l.rel==null?null:l.rel)&&w.getAttribute("title")===(l.title==null?null:l.title)&&w.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){j.splice($,1);break t}}w=y.createElement(h),es(w,h,l),y.head.appendChild(w);break;case"meta":if(j=Vv("meta","content",y).get(h+(l.content||""))){for($=0;$<j.length;$++)if(w=j[$],w.getAttribute("content")===(l.content==null?null:""+l.content)&&w.getAttribute("name")===(l.name==null?null:l.name)&&w.getAttribute("property")===(l.property==null?null:l.property)&&w.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&w.getAttribute("charset")===(l.charSet==null?null:l.charSet)){j.splice($,1);break t}}w=y.createElement(h),es(w,h,l),y.head.appendChild(w);break;default:throw Error(r(468,h))}w[jn]=i,Gn(w),h=w}i.stateNode=h}else zv(y,i.type,i.stateNode);else i.stateNode=Bv(y,h,i.memoizedProps);else w!==h?(w===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):w.count--,h===null?zv(y,i.type,i.stateNode):Bv(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&e1(i,i.memoizedProps,l.memoizedProps)}break;case 27:ca(a,i),ha(i),h&512&&(Qr||l===null||zo(l,l.return)),l!==null&&h&4&&e1(i,i.memoizedProps,l.memoizedProps);break;case 5:if(ca(a,i),ha(i),h&512&&(Qr||l===null||zo(l,l.return)),i.flags&32){y=i.stateNode;try{zi(y,"")}catch(Me){lr(i,i.return,Me)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,e1(i,y,l!==null?l.memoizedProps:y)),h&1024&&(r1=!0);break;case 6:if(ca(a,i),ha(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(Me){lr(i,i.return,Me)}}break;case 3:if(Bp=null,y=vo,vo=Up(a.containerInfo),ca(a,i),vo=y,ha(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Jf(a.containerInfo)}catch(Me){lr(i,i.return,Me)}r1&&(r1=!1,K5(i));break;case 4:h=vo,vo=Up(i.stateNode.containerInfo),ca(a,i),ha(i),vo=h;break;case 12:ca(a,i),ha(i);break;case 13:ca(a,i),ha(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(c1=Tt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,i1(i,h)));break;case 22:y=i.memoizedState!==null;var de=l!==null&&l.memoizedState!==null,Pe=Rl,He=Qr;if(Rl=Pe||y,Qr=He||de,ca(a,i),Qr=He,Rl=Pe,ha(i),h&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||de||Rl||Qr||_c(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){de=l=a;try{if(w=de.stateNode,y)j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{$=de.stateNode;var $e=de.memoizedProps.style,Oe=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;$.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(Me){lr(de,de.return,Me)}}}else if(a.tag===6){if(l===null){de=a;try{de.stateNode.nodeValue=y?"":de.memoizedProps}catch(Me){lr(de,de.return,Me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,i1(i,l))));break;case 19:ca(a,i),ha(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,i1(i,h)));break;case 30:break;case 21:break;default:ca(a,i),ha(i)}}function ha(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(B5(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,w=t1(i);xp(i,w,y);break;case 5:var j=l.stateNode;l.flags&32&&(zi(j,""),l.flags&=-33);var $=t1(i);xp(i,$,j);break;case 3:case 4:var de=l.stateNode.containerInfo,Pe=t1(i);n1(i,Pe,de);break;default:throw Error(r(161))}}catch(He){lr(i,i.return,He)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function K5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;K5(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function gu(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)q5(i,a.alternate,a),a=a.sibling}function _c(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:mu(4,a,a.return),_c(a);break;case 1:zo(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&U5(a,a.return,l),_c(a);break;case 27:Hf(a.stateNode);case 26:case 5:zo(a,a.return),_c(a);break;case 22:a.memoizedState===null&&_c(a);break;case 30:_c(a);break;default:_c(a)}i=i.sibling}}function yu(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=i,w=a,j=w.flags;switch(w.tag){case 0:case 11:case 15:yu(y,w,l),Df(4,w);break;case 1:if(yu(y,w,l),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Pe){lr(h,h.return,Pe)}if(h=w,y=h.updateQueue,y!==null){var $=h.stateNode;try{var de=y.shared.hiddenCallbacks;if(de!==null)for(y.shared.hiddenCallbacks=null,y=0;y<de.length;y++)yn(de[y],$)}catch(Pe){lr(h,h.return,Pe)}}l&&j&64&&j5(w),Of(w,w.return);break;case 27:V5(w);case 26:case 5:yu(y,w,l),l&&h===null&&j&4&&F5(w),Of(w,w.return);break;case 12:yu(y,w,l);break;case 13:yu(y,w,l),l&&j&4&&Y5(y,w);break;case 22:w.memoizedState===null&&yu(y,w,l),Of(w,w.return);break;case 30:break;default:yu(y,w,l)}a=a.sibling}}function s1(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&uc(l))}function a1(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&uc(i))}function qo(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)W5(i,a,l,h),a=a.sibling}function W5(i,a,l,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:qo(i,a,l,h),y&2048&&Df(9,a);break;case 1:qo(i,a,l,h);break;case 3:qo(i,a,l,h),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&uc(i)));break;case 12:if(y&2048){qo(i,a,l,h),i=a.stateNode;try{var w=a.memoizedProps,j=w.id,$=w.onPostCommit;typeof $=="function"&&$(j,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(de){lr(a,a.return,de)}}else qo(i,a,l,h);break;case 13:qo(i,a,l,h);break;case 23:break;case 22:w=a.stateNode,j=a.alternate,a.memoizedState!==null?w._visibility&2?qo(i,a,l,h):Mf(i,a):w._visibility&2?qo(i,a,l,h):(w._visibility|=2,hh(i,a,l,h,(a.subtreeFlags&10256)!==0)),y&2048&&s1(j,a);break;case 24:qo(i,a,l,h),y&2048&&a1(a.alternate,a);break;default:qo(i,a,l,h)}}function hh(i,a,l,h,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var w=i,j=a,$=l,de=h,Pe=j.flags;switch(j.tag){case 0:case 11:case 15:hh(w,j,$,de,y),Df(8,j);break;case 23:break;case 22:var He=j.stateNode;j.memoizedState!==null?He._visibility&2?hh(w,j,$,de,y):Mf(w,j):(He._visibility|=2,hh(w,j,$,de,y)),y&&Pe&2048&&s1(j.alternate,j);break;case 24:hh(w,j,$,de,y),y&&Pe&2048&&a1(j.alternate,j);break;default:hh(w,j,$,de,y)}a=a.sibling}}function Mf(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,y=h.flags;switch(h.tag){case 22:Mf(l,h),y&2048&&s1(h.alternate,h);break;case 24:Mf(l,h),y&2048&&a1(h.alternate,h);break;default:Mf(l,h)}a=a.sibling}}var jf=8192;function fh(i){if(i.subtreeFlags&jf)for(i=i.child;i!==null;)X5(i),i=i.sibling}function X5(i){switch(i.tag){case 26:fh(i),i.flags&jf&&i.memoizedState!==null&&lT(vo,i.memoizedState,i.memoizedProps);break;case 5:fh(i);break;case 3:case 4:var a=vo;vo=Up(i.stateNode.containerInfo),fh(i),vo=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=jf,jf=16777216,fh(i),jf=a):fh(i));break;default:fh(i)}}function Q5(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Uf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Oi=h,Z5(h,i)}Q5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)J5(i),i=i.sibling}function J5(i){switch(i.tag){case 0:case 11:case 15:Uf(i),i.flags&2048&&mu(9,i,i.return);break;case 3:Uf(i);break;case 12:Uf(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Tp(i)):Uf(i);break;default:Uf(i)}}function Tp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Oi=h,Z5(h,i)}Q5(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:mu(8,a,a.return),Tp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Tp(a));break;default:Tp(a)}i=i.sibling}}function Z5(i,a){for(;Oi!==null;){var l=Oi;switch(l.tag){case 0:case 11:case 15:mu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:uc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Oi=h;else e:for(l=i;Oi!==null;){h=Oi;var y=h.sibling,w=h.return;if(H5(h),h===l){Oi=null;break e}if(y!==null){y.return=w,Oi=y;break e}Oi=w}}}var Ex={getCacheForType:function(i){var a=Yr($r),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},xx=typeof WeakMap=="function"?WeakMap:Map,Qn=0,hr=null,_n=null,Rn=0,Jn=0,fa=null,vu=!1,dh=!1,o1=!1,Pl=0,Ur=0,bu=0,wc=0,l1=0,qa=0,ph=0,Ff=null,Xs=null,u1=!1,c1=0,Np=1/0,Ip=null,_u=null,Zi=0,wu=null,mh=null,gh=0,h1=0,f1=null,ev=null,Bf=0,d1=null;function da(){if((Qn&2)!==0&&Rn!==0)return Rn&-Rn;if(se.T!==null){var i=xl;return i!==0?i:_1()}return ni()}function tv(){qa===0&&(qa=(Rn&536870912)===0||Pn?Pt():536870912);var i=za.current;return i!==null&&(i.flags|=32),qa}function pa(i,a,l){(i===hr&&(Jn===2||Jn===9)||i.cancelPendingCommit!==null)&&(yh(i,0),Au(i,Rn,qa,!1)),Et(i,l),((Qn&2)===0||i!==hr)&&(i===hr&&((Qn&2)===0&&(wc|=l),Ur===4&&Au(i,Rn,qa,!1)),Ho(i))}function nv(i,a,l){if((Qn&6)!==0)throw Error(r(327));var h=!l&&(a&124)===0&&(a&i.expiredLanes)===0||ft(i,a),y=h?Ix(i,a):g1(i,a,!0),w=h;do{if(y===0){dh&&!h&&Au(i,a,0,!1);break}else{if(l=i.current.alternate,w&&!Tx(l)){y=g1(i,a,!1),w=!1;continue}if(y===2){if(w=a,i.errorRecoveryDisabledLanes&w)var j=0;else j=i.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){a=j;e:{var $=i;y=Ff;var de=$.current.memoizedState.isDehydrated;if(de&&(yh($,j).flags|=256),j=g1($,j,!1),j!==2){if(o1&&!de){$.errorRecoveryDisabledLanes|=w,wc|=w,y=4;break e}w=Xs,Xs=y,w!==null&&(Xs===null?Xs=w:Xs.push.apply(Xs,w))}y=j}if(w=!1,y!==2)continue}}if(y===1){yh(i,0),Au(i,a,0,!0);break}e:{switch(h=i,w=y,w){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Au(h,a,qa,!vu);break e;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=c1+300-Tt(),10<y)){if(Au(h,a,qa,!vu),zt(h,0,!0)!==0)break e;h.timeoutHandle=Rv(rv.bind(null,h,l,Xs,Ip,u1,a,qa,wc,ph,vu,w,2,-0,0),y);break e}rv(h,l,Xs,Ip,u1,a,qa,wc,ph,vu,w,0,-0,0)}}break}while(!0);Ho(i)}function rv(i,a,l,h,y,w,j,$,de,Pe,He,$e,Oe,Me){if(i.timeoutHandle=-1,$e=a.subtreeFlags,($e&8192||($e&16785408)===16785408)&&($f={stylesheets:null,count:0,unsuspend:oT},X5(a),$e=uT(),$e!==null)){i.cancelPendingCommit=$e(cv.bind(null,i,a,w,l,h,y,j,$,de,He,1,Oe,Me)),Au(i,w,j,!Pe);return}cv(i,a,w,l,h,y,j,$,de)}function Tx(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],w=y.getSnapshot;y=y.value;try{if(!yr(w(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Au(i,a,l,h){a&=~l1,a&=~wc,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var y=a;0<y;){var w=31-Ke(y),j=1<<w;h[w]=-1,y&=~j}l!==0&&fn(i,l,a)}function Cp(){return(Qn&6)===0?(Vf(0),!1):!0}function p1(){if(_n!==null){if(Jn===0)var i=_n.return;else i=_n,ho=li=null,wi(i),uh=null,Rf=0,i=_n;for(;i!==null;)M5(i.alternate,i),i=i.return;_n=null}}function yh(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,Hx(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),p1(),hr=i,_n=l=Oa(i.current,null),Rn=a,Jn=0,fa=null,vu=!1,dh=ft(i,a),o1=!1,ph=qa=l1=wc=bu=Ur=0,Xs=Ff=null,u1=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var y=31-Ke(h),w=1<<y;a|=i[y],h&=~w}return Pl=a,rc(),l}function iv(i,a){yt=null,se.H=gp,a===G||a===W?(a=we(),Jn=3):a===Y?(a=we(),Jn=4):Jn=a===A5?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,fa=a,_n===null&&(Ur=1,wp(i,Ps(a,i.current)))}function sv(){var i=se.H;return se.H=gp,i===null?gp:i}function av(){var i=se.A;return se.A=Ex,i}function m1(){Ur=4,vu||(Rn&4194048)!==Rn&&za.current!==null||(dh=!0),(bu&134217727)===0&&(wc&134217727)===0||hr===null||Au(hr,Rn,qa,!1)}function g1(i,a,l){var h=Qn;Qn|=2;var y=sv(),w=av();(hr!==i||Rn!==a)&&(Ip=null,yh(i,a)),a=!1;var j=Ur;e:do try{if(Jn!==0&&_n!==null){var $=_n,de=fa;switch(Jn){case 8:p1(),j=6;break e;case 3:case 2:case 9:case 6:za.current===null&&(a=!0);var Pe=Jn;if(Jn=0,fa=null,vh(i,$,de,Pe),l&&dh){j=0;break e}break;default:Pe=Jn,Jn=0,fa=null,vh(i,$,de,Pe)}}Nx(),j=Ur;break}catch(He){iv(i,He)}while(!0);return a&&i.shellSuspendCounter++,ho=li=null,Qn=h,se.H=y,se.A=w,_n===null&&(hr=null,Rn=0,rc()),j}function Nx(){for(;_n!==null;)ov(_n)}function Ix(i,a){var l=Qn;Qn|=2;var h=sv(),y=av();hr!==i||Rn!==a?(Ip=null,Np=Tt()+500,yh(i,a)):dh=ft(i,a);e:do try{if(Jn!==0&&_n!==null){a=_n;var w=fa;t:switch(Jn){case 1:Jn=0,fa=null,vh(i,a,w,1);break;case 2:case 9:if(oe(w)){Jn=0,fa=null,lv(a);break}a=function(){Jn!==2&&Jn!==9||hr!==i||(Jn=7),Ho(i)},w.then(a,a);break e;case 3:Jn=7;break e;case 4:Jn=5;break e;case 7:oe(w)?(Jn=0,fa=null,lv(a)):(Jn=0,fa=null,vh(i,a,w,7));break;case 5:var j=null;switch(_n.tag){case 26:j=_n.memoizedState;case 5:case 27:var $=_n;if(!j||qv(j)){Jn=0,fa=null;var de=$.sibling;if(de!==null)_n=de;else{var Pe=$.return;Pe!==null?(_n=Pe,kp(Pe)):_n=null}break t}}Jn=0,fa=null,vh(i,a,w,5);break;case 6:Jn=0,fa=null,vh(i,a,w,6);break;case 8:p1(),Ur=6;break e;default:throw Error(r(462))}}Cx();break}catch(He){iv(i,He)}while(!0);return ho=li=null,se.H=h,se.A=y,Qn=l,_n!==null?0:(hr=null,Rn=0,rc(),Ur)}function Cx(){for(;_n!==null&&!re();)ov(_n)}function ov(i){var a=D5(i.alternate,i,Pl);i.memoizedProps=i.pendingProps,a===null?kp(i):_n=a}function lv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=I5(l,a,a.pendingProps,a.type,void 0,Rn);break;case 11:a=I5(l,a,a.pendingProps,a.type.render,a.ref,Rn);break;case 5:wi(a);default:M5(l,a),a=_n=sc(a,Pl),a=D5(l,a,Pl)}i.memoizedProps=i.pendingProps,a===null?kp(i):_n=a}function vh(i,a,l,h){ho=li=null,wi(a),uh=null,Rf=0;var y=a.return;try{if(vx(i,y,a,l,Rn)){Ur=1,wp(i,Ps(l,i.current)),_n=null;return}}catch(w){if(y!==null)throw _n=y,w;Ur=1,wp(i,Ps(l,i.current)),_n=null;return}a.flags&32768?(Pn||h===1?i=!0:dh||(Rn&536870912)!==0?i=!1:(vu=i=!0,(h===2||h===9||h===3||h===6)&&(h=za.current,h!==null&&h.tag===13&&(h.flags|=16384))),uv(a,i)):kp(a)}function kp(i){var a=i;do{if((a.flags&32768)!==0){uv(a,vu);return}i=a.return;var l=_x(a.alternate,a,Pl);if(l!==null){_n=l;return}if(a=a.sibling,a!==null){_n=a;return}_n=a=i}while(a!==null);Ur===0&&(Ur=5)}function uv(i,a){do{var l=wx(i.alternate,i);if(l!==null){l.flags&=32767,_n=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){_n=i;return}_n=i=l}while(i!==null);Ur=6,_n=null}function cv(i,a,l,h,y,w,j,$,de){i.cancelPendingCommit=null;do Rp();while(Zi!==0);if((Qn&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(w=a.lanes|a.childLanes,w|=Xc,Dt(i,l,w,j,$,de),i===hr&&(_n=hr=null,Rn=0),mh=a,wu=i,gh=l,h1=w,f1=y,ev=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Px(ot,function(){return mv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=se.T,se.T=null,y=ce.p,ce.p=2,j=Qn,Qn|=4;try{Ax(i,a,l)}finally{Qn=j,ce.p=y,se.T=h}}Zi=1,hv(),fv(),dv()}}function hv(){if(Zi===1){Zi=0;var i=wu,a=mh,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=se.T,se.T=null;var h=ce.p;ce.p=2;var y=Qn;Qn|=4;try{$5(a,i);var w=I1,j=nu(i.containerInfo),$=w.focusedElem,de=w.selectionRange;if(j!==$&&$&&$.ownerDocument&&tu($.ownerDocument.documentElement,$)){if(de!==null&&Pa($)){var Pe=de.start,He=de.end;if(He===void 0&&(He=Pe),"selectionStart"in $)$.selectionStart=Pe,$.selectionEnd=Math.min(He,$.value.length);else{var $e=$.ownerDocument||document,Oe=$e&&$e.defaultView||window;if(Oe.getSelection){var Me=Oe.getSelection(),Qt=$.textContent.length,Ht=Math.min(de.start,Qt),ir=de.end===void 0?Ht:Math.min(de.end,Qt);!Me.extend&&Ht>ir&&(j=ir,ir=Ht,Ht=j);var Ee=eu($,Ht),be=eu($,ir);if(Ee&&be&&(Me.rangeCount!==1||Me.anchorNode!==Ee.node||Me.anchorOffset!==Ee.offset||Me.focusNode!==be.node||Me.focusOffset!==be.offset)){var Ce=$e.createRange();Ce.setStart(Ee.node,Ee.offset),Me.removeAllRanges(),Ht>ir?(Me.addRange(Ce),Me.extend(be.node,be.offset)):(Ce.setEnd(be.node,be.offset),Me.addRange(Ce))}}}}for($e=[],Me=$;Me=Me.parentNode;)Me.nodeType===1&&$e.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<$e.length;$++){var Ge=$e[$];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}qp=!!N1,I1=N1=null}finally{Qn=y,ce.p=h,se.T=l}}i.current=a,Zi=2}}function fv(){if(Zi===2){Zi=0;var i=wu,a=mh,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=se.T,se.T=null;var h=ce.p;ce.p=2;var y=Qn;Qn|=4;try{q5(i,a.alternate,a)}finally{Qn=y,ce.p=h,se.T=l}}Zi=3}}function dv(){if(Zi===4||Zi===3){Zi=0,rt();var i=wu,a=mh,l=gh,h=ev;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Zi=5:(Zi=0,mh=wu=null,pv(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(_u=null),Ss(l),a=a.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Ne,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=se.T,y=ce.p,ce.p=2,se.T=null;try{for(var w=i.onRecoverableError,j=0;j<h.length;j++){var $=h[j];w($.value,{componentStack:$.stack})}}finally{se.T=a,ce.p=y}}(gh&3)!==0&&Rp(),Ho(i),y=i.pendingLanes,(l&4194090)!==0&&(y&42)!==0?i===d1?Bf++:(Bf=0,d1=i):Bf=0,Vf(0)}}function pv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,uc(a)))}function Rp(i){return hv(),fv(),dv(),mv()}function mv(){if(Zi!==5)return!1;var i=wu,a=h1;h1=0;var l=Ss(gh),h=se.T,y=ce.p;try{ce.p=32>l?32:l,se.T=null,l=f1,f1=null;var w=wu,j=gh;if(Zi=0,mh=wu=null,gh=0,(Qn&6)!==0)throw Error(r(331));var $=Qn;if(Qn|=4,J5(w.current),W5(w,w.current,j,l),Qn=$,Vf(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Ne,w)}catch{}return!0}finally{ce.p=y,se.T=h,pv(i,a)}}function gv(i,a,l){a=Ps(l,a),a=Gg(i.stateNode,a,2),i=Je(i,a,2),i!==null&&(Et(i,2),Ho(i))}function lr(i,a,l){if(i.tag===3)gv(i,i,l);else for(;a!==null;){if(a.tag===3){gv(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_u===null||!_u.has(h))){i=Ps(l,i),l=_5(2),h=Je(a,l,2),h!==null&&(w5(l,h,a,i),Et(h,2),Ho(h));break}}a=a.return}}function y1(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new xx;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(l)||(o1=!0,y.add(l),i=kx.bind(null,i,a,l),a.then(i,i))}function kx(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,hr===i&&(Rn&l)===l&&(Ur===4||Ur===3&&(Rn&62914560)===Rn&&300>Tt()-c1?(Qn&2)===0&&yh(i,0):l1|=l,ph===Rn&&(ph=0)),Ho(i)}function yv(i,a){a===0&&(a=Bt()),i=bl(i,a),i!==null&&(Et(i,a),Ho(i))}function Rx(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),yv(i,l)}function Lx(i,a){var l=0;switch(i.tag){case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),yv(i,l)}function Px(i,a){return it(i,a)}var Lp=null,bh=null,v1=!1,Pp=!1,b1=!1,Ac=0;function Ho(i){i!==bh&&i.next===null&&(bh===null?Lp=bh=i:bh=bh.next=i),Pp=!0,v1||(v1=!0,Ox())}function Vf(i,a){if(!b1&&Pp){b1=!0;do for(var l=!1,h=Lp;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var j=h.suspendedLanes,$=h.pingedLanes;w=(1<<31-Ke(42|i)+1)-1,w&=y&~(j&~$),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(l=!0,wv(h,w))}else w=Rn,w=zt(h,h===hr?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||ft(h,w)||(l=!0,wv(h,w));h=h.next}while(l);b1=!1}}function Dx(){vv()}function vv(){Pp=v1=!1;var i=0;Ac!==0&&(qx()&&(i=Ac),Ac=0);for(var a=Tt(),l=null,h=Lp;h!==null;){var y=h.next,w=bv(h,a);w===0?(h.next=null,l===null?Lp=y:l.next=y,y===null&&(bh=l)):(l=h,(i!==0||(w&3)!==0)&&(Pp=!0)),h=y}Vf(i)}function bv(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,w=i.pendingLanes&-62914561;0<w;){var j=31-Ke(w),$=1<<j,de=y[j];de===-1?(($&l)===0||($&h)!==0)&&(y[j]=ln($,a)):de<=a&&(i.expiredLanes|=$),w&=~$}if(a=hr,l=Rn,l=zt(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(Jn===2||Jn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&vt(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||ft(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&vt(h),Ss(l)){case 2:case 8:l=ct;break;case 32:l=ot;break;case 268435456:l=At;break;default:l=ot}return h=_v.bind(null,i),l=it(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&vt(h),i.callbackPriority=2,i.callbackNode=null,2}function _v(i,a){if(Zi!==0&&Zi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Rp()&&i.callbackNode!==l)return null;var h=Rn;return h=zt(i,i===hr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(nv(i,h,a),bv(i,Tt()),i.callbackNode!=null&&i.callbackNode===l?_v.bind(null,i):null)}function wv(i,a){if(Rp())return null;nv(i,a,!0)}function Ox(){Gx(function(){(Qn&6)!==0?it(qe,Dx):vv()})}function _1(){return Ac===0&&(Ac=Pt()),Ac}function Av(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:as(""+i)}function Sv(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function Mx(i,a,l,h,y){if(a==="submit"&&l&&l.stateNode===y){var w=Av((y[Vn]||null).action),j=h.submitter;j&&(a=(a=j[Vn]||null)?Av(a.formAction):j.getAttribute("formAction"),a!==null&&(w=a,j=null));var $=new sa("action","action",null,h,y);i.push({event:$,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ac!==0){var de=j?Sv(y,j):new FormData(y);Va(l,{pending:!0,data:de,method:y.method,action:w},null,de)}}else typeof w=="function"&&($.preventDefault(),de=j?Sv(y,j):new FormData(y),Va(l,{pending:!0,data:de,method:y.method,action:w},w,de))},currentTarget:y}]})}}for(var w1=0;w1<Wc.length;w1++){var A1=Wc[w1],jx=A1.toLowerCase(),Ux=A1[0].toUpperCase()+A1.slice(1);Ys(jx,"on"+Ux)}Ys(Da,"onAnimationEnd"),Ys(ru,"onAnimationIteration"),Ys(yl,"onAnimationStart"),Ys("dblclick","onDoubleClick"),Ys("focusin","onFocus"),Ys("focusout","onBlur"),Ys(Kc,"onTransitionRun"),Ys(Qd,"onTransitionStart"),Ys(Jd,"onTransitionCancel"),Ys(pf,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zf));function Ev(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var w=void 0;if(a)for(var j=h.length-1;0<=j;j--){var $=h[j],de=$.instance,Pe=$.currentTarget;if($=$.listener,de!==w&&y.isPropagationStopped())break e;w=$,y.currentTarget=Pe;try{w(y)}catch(He){_p(He)}y.currentTarget=null,w=de}else for(j=0;j<h.length;j++){if($=h[j],de=$.instance,Pe=$.currentTarget,$=$.listener,de!==w&&y.isPropagationStopped())break e;w=$,y.currentTarget=Pe;try{w(y)}catch(He){_p(He)}y.currentTarget=null,w=de}}}}function wn(i,a){var l=a[zn];l===void 0&&(l=a[zn]=new Set);var h=i+"__bubble";l.has(h)||(xv(a,i,2,!1),l.add(h))}function S1(i,a,l){var h=0;a&&(h|=4),xv(l,i,h,a)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function E1(i){if(!i[Dp]){i[Dp]=!0,Es.forEach(function(l){l!=="selectionchange"&&(Fx.has(l)||S1(l,!1,i),S1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Dp]||(a[Dp]=!0,S1("selectionchange",!1,a))}}function xv(i,a,l,h){switch(Wv(a)){case 2:var y=fT;break;case 8:y=dT;break;default:y=U1}l=y.bind(null,a,l,i),y=void 0,!yi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function x1(i,a,l,h,y){var w=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var j=h.tag;if(j===3||j===4){var $=h.stateNode.containerInfo;if($===y)break;if(j===4)for(j=h.return;j!==null;){var de=j.tag;if((de===3||de===4)&&j.stateNode.containerInfo===y)return;j=j.return}for(;$!==null;){if(j=Vr($),j===null)return;if(de=j.tag,de===5||de===6||de===26||de===27){h=w=j;continue e}$=$.parentNode}}h=h.return}Ja(function(){var Pe=w,He=fl(l),$e=[];e:{var Oe=mf.get(i);if(Oe!==void 0){var Me=sa,Qt=i;switch(i){case"keypress":if(Is(l)===0)break e;case"keydown":case"keyup":Me=Ft;break;case"focusin":Qt="focus",Me=cs;break;case"focusout":Qt="blur",Me=cs;break;case"beforeblur":case"afterblur":Me=cs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=aa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=$n;break;case Da:case ru:case yl:Me=oa;break;case pf:Me=T;break;case"scroll":case"scrollend":Me=Hi;break;case"wheel":Me=J;break;case"copy":case"cut":case"paste":Me=S;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=dn;break;case"toggle":case"beforetoggle":Me=De}var Ht=(a&4)!==0,ir=!Ht&&(i==="scroll"||i==="scrollend"),Ee=Ht?Oe!==null?Oe+"Capture":null:Oe;Ht=[];for(var be=Pe,Ce;be!==null;){var Ge=be;if(Ce=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||Ce===null||Ee===null||(Ge=Ia(be,Ee),Ge!=null&&Ht.push(qf(be,Ge,Ce))),ir)break;be=be.return}0<Ht.length&&(Oe=new Me(Oe,Qt,null,l,He),$e.push({event:Oe,listeners:Ht}))}}if((a&7)===0){e:{if(Oe=i==="mouseover"||i==="pointerover",Me=i==="mouseout"||i==="pointerout",Oe&&l!==qi&&(Qt=l.relatedTarget||l.fromElement)&&(Vr(Qt)||Qt[Dr]))break e;if((Me||Oe)&&(Oe=He.window===He?He:(Oe=He.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Me?(Qt=l.relatedTarget||l.toElement,Me=Pe,Qt=Qt?Vr(Qt):null,Qt!==null&&(ir=o(Qt),Ht=Qt.tag,Qt!==ir||Ht!==5&&Ht!==27&&Ht!==6)&&(Qt=null)):(Me=null,Qt=Pe),Me!==Qt)){if(Ht=aa,Ge="onMouseLeave",Ee="onMouseEnter",be="mouse",(i==="pointerout"||i==="pointerover")&&(Ht=dn,Ge="onPointerLeave",Ee="onPointerEnter",be="pointer"),ir=Me==null?Oe:ii(Me),Ce=Qt==null?Oe:ii(Qt),Oe=new Ht(Ge,be+"leave",Me,l,He),Oe.target=ir,Oe.relatedTarget=Ce,Ge=null,Vr(He)===Pe&&(Ht=new Ht(Ee,be+"enter",Qt,l,He),Ht.target=Ce,Ht.relatedTarget=ir,Ge=Ht),ir=Ge,Me&&Qt)t:{for(Ht=Me,Ee=Qt,be=0,Ce=Ht;Ce;Ce=_h(Ce))be++;for(Ce=0,Ge=Ee;Ge;Ge=_h(Ge))Ce++;for(;0<be-Ce;)Ht=_h(Ht),be--;for(;0<Ce-be;)Ee=_h(Ee),Ce--;for(;be--;){if(Ht===Ee||Ee!==null&&Ht===Ee.alternate)break t;Ht=_h(Ht),Ee=_h(Ee)}Ht=null}else Ht=null;Me!==null&&Tv($e,Oe,Me,Ht,!1),Qt!==null&&ir!==null&&Tv($e,ir,Qt,Ht,!0)}}e:{if(Oe=Pe?ii(Pe):window,Me=Oe.nodeName&&Oe.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Oe.type==="file")var _t=Ql;else if(Ra(Oe))if(to)_t=Tr;else{_t=nc;var vn=Oo}else Me=Oe.nodeName,!Me||Me.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Pe&&Co(Pe.elementType)&&(_t=Ql):_t=Jl;if(_t&&(_t=_t(i,Pe))){ml($e,_t,l,He);break e}vn&&vn(i,Oe,Pe),i==="focusout"&&Pe&&Oe.type==="number"&&Pe.memoizedProps.value!=null&&ul(Oe,"number",Oe.value)}switch(vn=Pe?ii(Pe):window,i){case"focusin":(Ra(vn)||vn.contentEditable==="true")&&(Rs=vn,io=Pe,Gs=null);break;case"focusout":Gs=io=Rs=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,Ls($e,l,He);break;case"selectionchange":if(Mo)break;case"keydown":case"keyup":Ls($e,l,He)}var Lt;if(Yt)e:{switch(i){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else _i?Wn(i,l)&&($t="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&($t="onCompositionStart");$t&&(Kn&&l.locale!=="ko"&&(_i||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&_i&&(Lt=Ro()):(ls=He,qn="value"in ls?ls.value:ls.textContent,_i=!0)),vn=Op(Pe,$t),0<vn.length&&($t=new ae($t,i,null,l,He),$e.push({event:$t,listeners:vn}),Lt?$t.data=Lt:(Lt=bi(l),Lt!==null&&($t.data=Lt)))),(Lt=gn?eo(i,l):tc(i,l))&&($t=Op(Pe,"onBeforeInput"),0<$t.length&&(vn=new ae("onBeforeInput","beforeinput",null,l,He),$e.push({event:vn,listeners:$t}),vn.data=Lt)),Mx($e,i,Pe,l,He)}Ev($e,a)})}function qf(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Op(i,a){for(var l=a+"Capture",h=[];i!==null;){var y=i,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=Ia(i,l),y!=null&&h.unshift(qf(i,y,w)),y=Ia(i,a),y!=null&&h.push(qf(i,y,w))),i.tag===3)return h;i=i.return}return[]}function _h(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Tv(i,a,l,h,y){for(var w=a._reactName,j=[];l!==null&&l!==h;){var $=l,de=$.alternate,Pe=$.stateNode;if($=$.tag,de!==null&&de===h)break;$!==5&&$!==26&&$!==27||Pe===null||(de=Pe,y?(Pe=Ia(l,w),Pe!=null&&j.unshift(qf(l,Pe,de))):y||(Pe=Ia(l,w),Pe!=null&&j.push(qf(l,Pe,de)))),l=l.return}j.length!==0&&i.push({event:a,listeners:j})}var Bx=/\r\n?/g,Vx=/\u0000|\uFFFD/g;function Nv(i){return(typeof i=="string"?i:""+i).replace(Bx,`
`).replace(Vx,"")}function Iv(i,a){return a=Nv(a),Nv(i)===a}function Mp(){}function rr(i,a,l,h,y,w){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||zi(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&zi(i,""+h);break;case"className":si(i,"class",h);break;case"tabIndex":si(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":si(i,l,h);break;case"style":hl(i,h,w);break;case"data":if(a!=="object"){si(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=as(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(l==="formAction"?(a!=="input"&&rr(i,a,"name",y.name,y,null),rr(i,a,"formEncType",y.formEncType,y,null),rr(i,a,"formMethod",y.formMethod,y,null),rr(i,a,"formTarget",y.formTarget,y,null)):(rr(i,a,"encType",y.encType,y,null),rr(i,a,"method",y.method,y,null),rr(i,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=as(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Mp);break;case"onScroll":h!=null&&wn("scroll",i);break;case"onScrollEnd":h!=null&&wn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=as(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":wn("beforetoggle",i),wn("toggle",i),Sa(i,"popover",h);break;case"xlinkActuate":Ni(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ni(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ni(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ni(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ni(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ni(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ni(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Sa(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Kl.get(l)||l,Sa(i,l,h))}}function T1(i,a,l,h,y,w){switch(l){case"style":hl(i,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?zi(i,h):(typeof h=="number"||typeof h=="bigint")&&zi(i,""+h);break;case"onScroll":h!=null&&wn("scroll",i);break;case"onScrollEnd":h!=null&&wn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Mp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xs.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),w=i[Vn]||null,w=w!=null?w[l]:null,typeof w=="function"&&i.removeEventListener(a,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Sa(i,l,h)}}}function es(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wn("error",i),wn("load",i);var h=!1,y=!1,w;for(w in l)if(l.hasOwnProperty(w)){var j=l[w];if(j!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:rr(i,a,w,j,l,null)}}y&&rr(i,a,"srcSet",l.srcSet,l,null),h&&rr(i,a,"src",l.src,l,null);return;case"input":wn("invalid",i);var $=w=j=y=null,de=null,Pe=null;for(h in l)if(l.hasOwnProperty(h)){var He=l[h];if(He!=null)switch(h){case"name":y=He;break;case"type":j=He;break;case"checked":de=He;break;case"defaultChecked":Pe=He;break;case"value":w=He;break;case"defaultValue":$=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(r(137,a));break;default:rr(i,a,h,He,l,null)}}Io(i,w,$,de,Pe,j,y,!1),mi(i);return;case"select":wn("invalid",i),h=j=w=null;for(y in l)if(l.hasOwnProperty(y)&&($=l[y],$!=null))switch(y){case"value":w=$;break;case"defaultValue":j=$;break;case"multiple":h=$;default:rr(i,a,y,$,l,null)}a=w,l=j,i.multiple=!!h,a!=null?Na(i,!!h,a,!1):l!=null&&Na(i,!!h,l,!0);return;case"textarea":wn("invalid",i),w=y=h=null;for(j in l)if(l.hasOwnProperty(j)&&($=l[j],$!=null))switch(j){case"value":h=$;break;case"defaultValue":y=$;break;case"children":w=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:rr(i,a,j,$,l,null)}cl(i,h,y,w),mi(i);return;case"option":for(de in l)if(l.hasOwnProperty(de)&&(h=l[de],h!=null))switch(de){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:rr(i,a,de,h,l,null)}return;case"dialog":wn("beforetoggle",i),wn("toggle",i),wn("cancel",i),wn("close",i);break;case"iframe":case"object":wn("load",i);break;case"video":case"audio":for(h=0;h<zf.length;h++)wn(zf[h],i);break;case"image":wn("error",i),wn("load",i);break;case"details":wn("toggle",i);break;case"embed":case"source":case"link":wn("error",i),wn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in l)if(l.hasOwnProperty(Pe)&&(h=l[Pe],h!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:rr(i,a,Pe,h,l,null)}return;default:if(Co(a)){for(He in l)l.hasOwnProperty(He)&&(h=l[He],h!==void 0&&T1(i,a,He,h,l,void 0));return}}for($ in l)l.hasOwnProperty($)&&(h=l[$],h!=null&&rr(i,a,$,h,l,null))}function zx(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,j=null,$=null,de=null,Pe=null,He=null;for(Me in l){var $e=l[Me];if(l.hasOwnProperty(Me)&&$e!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":de=$e;default:h.hasOwnProperty(Me)||rr(i,a,Me,null,h,$e)}}for(var Oe in h){var Me=h[Oe];if($e=l[Oe],h.hasOwnProperty(Oe)&&(Me!=null||$e!=null))switch(Oe){case"type":w=Me;break;case"name":y=Me;break;case"checked":Pe=Me;break;case"defaultChecked":He=Me;break;case"value":j=Me;break;case"defaultValue":$=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,a));break;default:Me!==$e&&rr(i,a,Oe,Me,h,$e)}}Ts(i,j,$,de,Pe,He,w,y);return;case"select":Me=j=$=Oe=null;for(w in l)if(de=l[w],l.hasOwnProperty(w)&&de!=null)switch(w){case"value":break;case"multiple":Me=de;default:h.hasOwnProperty(w)||rr(i,a,w,null,h,de)}for(y in h)if(w=h[y],de=l[y],h.hasOwnProperty(y)&&(w!=null||de!=null))switch(y){case"value":Oe=w;break;case"defaultValue":$=w;break;case"multiple":j=w;default:w!==de&&rr(i,a,y,w,h,de)}a=$,l=j,h=Me,Oe!=null?Na(i,!!l,Oe,!1):!!h!=!!l&&(a!=null?Na(i,!!l,a,!0):Na(i,!!l,l?[]:"",!1));return;case"textarea":Me=Oe=null;for($ in l)if(y=l[$],l.hasOwnProperty($)&&y!=null&&!h.hasOwnProperty($))switch($){case"value":break;case"children":break;default:rr(i,a,$,null,h,y)}for(j in h)if(y=h[j],w=l[j],h.hasOwnProperty(j)&&(y!=null||w!=null))switch(j){case"value":Oe=y;break;case"defaultValue":Me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==w&&rr(i,a,j,y,h,w)}Ns(i,Oe,Me);return;case"option":for(var Qt in l)if(Oe=l[Qt],l.hasOwnProperty(Qt)&&Oe!=null&&!h.hasOwnProperty(Qt))switch(Qt){case"selected":i.selected=!1;break;default:rr(i,a,Qt,null,h,Oe)}for(de in h)if(Oe=h[de],Me=l[de],h.hasOwnProperty(de)&&Oe!==Me&&(Oe!=null||Me!=null))switch(de){case"selected":i.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:rr(i,a,de,Oe,h,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in l)Oe=l[Ht],l.hasOwnProperty(Ht)&&Oe!=null&&!h.hasOwnProperty(Ht)&&rr(i,a,Ht,null,h,Oe);for(Pe in h)if(Oe=h[Pe],Me=l[Pe],h.hasOwnProperty(Pe)&&Oe!==Me&&(Oe!=null||Me!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(r(137,a));break;default:rr(i,a,Pe,Oe,h,Me)}return;default:if(Co(a)){for(var ir in l)Oe=l[ir],l.hasOwnProperty(ir)&&Oe!==void 0&&!h.hasOwnProperty(ir)&&T1(i,a,ir,void 0,h,Oe);for(He in h)Oe=h[He],Me=l[He],!h.hasOwnProperty(He)||Oe===Me||Oe===void 0&&Me===void 0||T1(i,a,He,Oe,h,Me);return}}for(var Ee in l)Oe=l[Ee],l.hasOwnProperty(Ee)&&Oe!=null&&!h.hasOwnProperty(Ee)&&rr(i,a,Ee,null,h,Oe);for($e in h)Oe=h[$e],Me=l[$e],!h.hasOwnProperty($e)||Oe===Me||Oe==null&&Me==null||rr(i,a,$e,Oe,h,Me)}var N1=null,I1=null;function jp(i){return i.nodeType===9?i:i.ownerDocument}function Cv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kv(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function C1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var k1=null;function qx(){var i=window.event;return i&&i.type==="popstate"?i===k1?!1:(k1=i,!0):(k1=null,!1)}var Rv=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,Lv=typeof Promise=="function"?Promise:void 0,Gx=typeof queueMicrotask=="function"?queueMicrotask:typeof Lv<"u"?function(i){return Lv.resolve(null).then(i).catch(Yx)}:Rv;function Yx(i){setTimeout(function(){throw i})}function Su(i){return i==="head"}function Pv(i,a){var l=a,h=0,y=0;do{var w=l.nextSibling;if(i.removeChild(l),w&&w.nodeType===8)if(l=w.data,l==="/$"){if(0<h&&8>h){l=h;var j=i.ownerDocument;if(l&1&&Hf(j.documentElement),l&2&&Hf(j.body),l&4)for(l=j.head,Hf(l),j=l.firstChild;j;){var $=j.nextSibling,de=j.nodeName;j[Fi]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&j.rel.toLowerCase()==="stylesheet"||l.removeChild(j),j=$}}if(y===0){i.removeChild(w),Jf(a);return}y--}else l==="$"||l==="$?"||l==="$!"?y++:h=l.charCodeAt(0)-48;else h=0;l=w}while(l);Jf(a)}function R1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":R1(l),Ti(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function $x(i,a,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Fi])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(w=i.getAttribute("rel"),w==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(w!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(w=i.getAttribute("src"),(w!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===w)return i}else return i;if(i=bo(i.nextSibling),i===null)break}return null}function Kx(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=bo(i.nextSibling),i===null))return null;return i}function L1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function Wx(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function bo(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var P1=null;function Dv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function Ov(i,a,l){switch(a=jp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Hf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ti(i)}var Ha=new Map,Mv=new Set;function Up(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Dl=ce.d;ce.d={f:Xx,r:Qx,D:Jx,C:Zx,L:eT,m:tT,X:rT,S:nT,M:iT};function Xx(){var i=Dl.f(),a=Cp();return i||a}function Qx(i){var a=Or(i);a!==null&&a.tag===5&&a.type==="form"?yc(a):Dl.r(i)}var wh=typeof document>"u"?null:document;function jv(i,a,l){var h=wh;if(h&&typeof a=="string"&&a){var y=mn(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Mv.has(y)||(Mv.add(y),i={rel:i,crossOrigin:l,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),es(a,"link",i),Gn(a),h.head.appendChild(a)))}}function Jx(i){Dl.D(i),jv("dns-prefetch",i,null)}function Zx(i,a){Dl.C(i,a),jv("preconnect",i,a)}function eT(i,a,l){Dl.L(i,a,l);var h=wh;if(h&&i&&a){var y='link[rel="preload"][as="'+mn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+mn(l.imageSizes)+'"]')):y+='[href="'+mn(i)+'"]';var w=y;switch(a){case"style":w=Ah(i);break;case"script":w=Sh(i)}Ha.has(w)||(i=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ha.set(w,i),h.querySelector(y)!==null||a==="style"&&h.querySelector(Gf(w))||a==="script"&&h.querySelector(Yf(w))||(a=h.createElement("link"),es(a,"link",i),Gn(a),h.head.appendChild(a)))}}function tT(i,a){Dl.m(i,a);var l=wh;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+mn(h)+'"][href="'+mn(i)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Sh(i)}if(!Ha.has(w)&&(i=p({rel:"modulepreload",href:i},a),Ha.set(w,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yf(w)))return}h=l.createElement("link"),es(h,"link",i),Gn(h),l.head.appendChild(h)}}}function nT(i,a,l){Dl.S(i,a,l);var h=wh;if(h&&i){var y=zr(h).hoistableStyles,w=Ah(i);a=a||"default";var j=y.get(w);if(!j){var $={loading:0,preload:null};if(j=h.querySelector(Gf(w)))$.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ha.get(w))&&D1(i,l);var de=j=h.createElement("link");Gn(de),es(de,"link",i),de._p=new Promise(function(Pe,He){de.onload=Pe,de.onerror=He}),de.addEventListener("load",function(){$.loading|=1}),de.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Fp(j,a,h)}j={type:"stylesheet",instance:j,count:1,state:$},y.set(w,j)}}}function rT(i,a){Dl.X(i,a);var l=wh;if(l&&i){var h=zr(l).hoistableScripts,y=Sh(i),w=h.get(y);w||(w=l.querySelector(Yf(y)),w||(i=p({src:i,async:!0},a),(a=Ha.get(y))&&O1(i,a),w=l.createElement("script"),Gn(w),es(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function iT(i,a){Dl.M(i,a);var l=wh;if(l&&i){var h=zr(l).hoistableScripts,y=Sh(i),w=h.get(y);w||(w=l.querySelector(Yf(y)),w||(i=p({src:i,async:!0,type:"module"},a),(a=Ha.get(y))&&O1(i,a),w=l.createElement("script"),Gn(w),es(w,"link",i),l.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function Uv(i,a,l,h){var y=(y=le.current)?Up(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ah(l.href),l=zr(y).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ah(l.href);var w=zr(y).hoistableStyles,j=w.get(i);if(j||(y=y.ownerDocument||y,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(i,j),(w=y.querySelector(Gf(i)))&&!w._p&&(j.instance=w,j.state.loading=5),Ha.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ha.set(i,l),w||sT(y,i,l,j.state))),a&&h===null)throw Error(r(528,""));return j}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Sh(l),l=zr(y).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ah(i){return'href="'+mn(i)+'"'}function Gf(i){return'link[rel="stylesheet"]['+i+"]"}function Fv(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function sT(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),es(a,"link",l),Gn(a),i.head.appendChild(a))}function Sh(i){return'[src="'+mn(i)+'"]'}function Yf(i){return"script[async]"+i}function Bv(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+mn(l.href)+'"]');if(h)return a.instance=h,Gn(h),h;var y=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Gn(h),es(h,"style",y),Fp(h,l.precedence,i),a.instance=h;case"stylesheet":y=Ah(l.href);var w=i.querySelector(Gf(y));if(w)return a.state.loading|=4,a.instance=w,Gn(w),w;h=Fv(l),(y=Ha.get(y))&&D1(h,y),w=(i.ownerDocument||i).createElement("link"),Gn(w);var j=w;return j._p=new Promise(function($,de){j.onload=$,j.onerror=de}),es(w,"link",h),a.state.loading|=4,Fp(w,l.precedence,i),a.instance=w;case"script":return w=Sh(l.src),(y=i.querySelector(Yf(w)))?(a.instance=y,Gn(y),y):(h=l,(y=Ha.get(w))&&(h=p({},l),O1(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),Gn(y),es(y,"link",h),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Fp(h,l.precedence,i));return a.instance}function Fp(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,j=0;j<h.length;j++){var $=h[j];if($.dataset.precedence===a)w=$;else if(w!==y)break}w?w.parentNode.insertBefore(i,w.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function D1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function O1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Bp=null;function Vv(i,a,l){if(Bp===null){var h=new Map,y=Bp=new Map;y.set(l,h)}else y=Bp,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var w=l[y];if(!(w[Fi]||w[jn]||i==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var j=w.getAttribute(a)||"";j=i+j;var $=h.get(j);$?$.push(w):h.set(j,[w])}}return h}function zv(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function aT(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function qv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var $f=null;function oT(){}function lT(i,a,l){if($f===null)throw Error(r(475));var h=$f;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Ah(l.href),w=i.querySelector(Gf(y));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Vp.bind(h),i.then(h,h)),a.state.loading|=4,a.instance=w,Gn(w);return}w=i.ownerDocument||i,l=Fv(l),(y=Ha.get(y))&&D1(l,y),w=w.createElement("link"),Gn(w);var j=w;j._p=new Promise(function($,de){j.onload=$,j.onerror=de}),es(w,"link",l),a.instance=w}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Vp.bind(h),i.addEventListener("load",a),i.addEventListener("error",a))}}function uT(){if($f===null)throw Error(r(475));var i=$f;return i.stylesheets&&i.count===0&&M1(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&M1(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Vp(){if(this.count--,this.count===0){if(this.stylesheets)M1(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var zp=null;function M1(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,zp=new Map,a.forEach(cT,i),zp=null,Vp.call(i))}function cT(i,a){if(!(a.state.loading&4)){var l=zp.get(i);if(l)var h=l.get(null);else{l=new Map,zp.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var j=y[w];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(l.set(j.dataset.precedence,j),h=j)}h&&l.set(null,h)}y=a.instance,j=y.getAttribute("data-precedence"),w=l.get(j)||h,w===h&&l.set(null,y),l.set(j,y),this.count++,h=Vp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var Kf={$$typeof:K,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function hT(i,a,l,h,y,w,j,$){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mn(0),this.hiddenUpdates=Mn(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Hv(i,a,l,h,y,w,j,$,de,Pe,He,$e){return i=new hT(i,a,l,j,$,de,Pe,$e),a=1,w===!0&&(a|=24),w=Li(3,null,null,a),i.current=w,w.stateNode=i,a=yf(),a.refCount++,i.pooledCache=a,a.refCount++,w.memoizedState={element:h,isDehydrated:l,cache:a},ke(w),i}function Gv(i){return i?(i=oi,i):oi}function Yv(i,a,l,h,y,w){y=Gv(y),h.context===null?h.context=y:h.pendingContext=y,h=Be(a),h.payload={element:l},w=w===void 0?null:w,w!==null&&(h.callback=w),l=Je(i,h,a),l!==null&&(pa(l,i,a),Ye(l,i,a))}function $v(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function j1(i,a){$v(i,a),(i=i.alternate)&&$v(i,a)}function Kv(i){if(i.tag===13){var a=bl(i,67108864);a!==null&&pa(a,i,67108864),j1(i,67108864)}}var qp=!0;function fT(i,a,l,h){var y=se.T;se.T=null;var w=ce.p;try{ce.p=2,U1(i,a,l,h)}finally{ce.p=w,se.T=y}}function dT(i,a,l,h){var y=se.T;se.T=null;var w=ce.p;try{ce.p=8,U1(i,a,l,h)}finally{ce.p=w,se.T=y}}function U1(i,a,l,h){if(qp){var y=F1(h);if(y===null)x1(i,a,h,Hp,l),Xv(i,h);else if(mT(y,i,a,l,h))h.stopPropagation();else if(Xv(i,h),a&4&&-1<pT.indexOf(i)){for(;y!==null;){var w=Or(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var j=Rt(w.pendingLanes);if(j!==0){var $=w;for($.pendingLanes|=2,$.entangledLanes|=2;j;){var de=1<<31-Ke(j);$.entanglements[1]|=de,j&=~de}Ho(w),(Qn&6)===0&&(Np=Tt()+500,Vf(0))}}break;case 13:$=bl(w,2),$!==null&&pa($,w,2),Cp(),j1(w,2)}if(w=F1(h),w===null&&x1(i,a,h,Hp,l),w===y)break;y=w}y!==null&&h.stopPropagation()}else x1(i,a,h,null,l)}}function F1(i){return i=fl(i),B1(i)}var Hp=null;function B1(i){if(Hp=null,i=Vr(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Hp=i,null}function Wv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case qe:return 2;case ct:return 8;case ot:case It:return 32;case At:return 268435456;default:return 32}default:return 32}}var V1=!1,Eu=null,xu=null,Tu=null,Wf=new Map,Xf=new Map,Nu=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xv(i,a){switch(i){case"focusin":case"focusout":Eu=null;break;case"dragenter":case"dragleave":xu=null;break;case"mouseover":case"mouseout":Tu=null;break;case"pointerover":case"pointerout":Wf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xf.delete(a.pointerId)}}function Qf(i,a,l,h,y,w){return i===null||i.nativeEvent!==w?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},a!==null&&(a=Or(a),a!==null&&Kv(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function mT(i,a,l,h,y){switch(a){case"focusin":return Eu=Qf(Eu,i,a,l,h,y),!0;case"dragenter":return xu=Qf(xu,i,a,l,h,y),!0;case"mouseover":return Tu=Qf(Tu,i,a,l,h,y),!0;case"pointerover":var w=y.pointerId;return Wf.set(w,Qf(Wf.get(w)||null,i,a,l,h,y)),!0;case"gotpointercapture":return w=y.pointerId,Xf.set(w,Qf(Xf.get(w)||null,i,a,l,h,y)),!0}return!1}function Qv(i){var a=Vr(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,jt(i.priority,function(){if(l.tag===13){var h=da();h=Pr(h);var y=bl(l,h);y!==null&&pa(y,l,h),j1(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=F1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);qi=h,l.target.dispatchEvent(h),qi=null}else return a=Or(l),a!==null&&Kv(a),i.blockedOn=l,!1;a.shift()}return!0}function Jv(i,a,l){Gp(i)&&l.delete(a)}function gT(){V1=!1,Eu!==null&&Gp(Eu)&&(Eu=null),xu!==null&&Gp(xu)&&(xu=null),Tu!==null&&Gp(Tu)&&(Tu=null),Wf.forEach(Jv),Xf.forEach(Jv)}function Yp(i,a){i.blockedOn===a&&(i.blockedOn=null,V1||(V1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gT)))}var $p=null;function Zv(i){$p!==i&&($p=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$p===i&&($p=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],y=i[a+2];if(typeof h!="function"){if(B1(h||l)===null)continue;break}var w=Or(l);w!==null&&(i.splice(a,3),a-=3,Va(w,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function Jf(i){function a(de){return Yp(de,i)}Eu!==null&&Yp(Eu,i),xu!==null&&Yp(xu,i),Tu!==null&&Yp(Tu,i),Wf.forEach(a),Xf.forEach(a);for(var l=0;l<Nu.length;l++){var h=Nu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Nu.length&&(l=Nu[0],l.blockedOn===null);)Qv(l),l.blockedOn===null&&Nu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],w=l[h+1],j=y[Vn]||null;if(typeof w=="function")j||Zv(l);else if(j){var $=null;if(w&&w.hasAttribute("formAction")){if(y=w,j=w[Vn]||null)$=j.formAction;else if(B1(y)!==null)continue}else $=j.action;typeof $=="function"?l[h+1]=$:(l.splice(h,3),h-=3),Zv(l)}}}function z1(i){this._internalRoot=i}Kp.prototype.render=z1.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=da();Yv(l,h,i,a,null,null)},Kp.prototype.unmount=z1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Yv(i.current,2,null,i,null,null),Cp(),a[Dr]=null}};function Kp(i){this._internalRoot=i}Kp.prototype.unstable_scheduleHydration=function(i){if(i){var a=ni();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Nu.length&&a!==0&&a<Nu[l].priority;l++);Nu.splice(l,0,i),l===0&&Qv(i)}};var eb=e.version;if(eb!=="19.1.1")throw Error(r(527,eb,"19.1.1"));ce.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?d(i):null,i=i===null?null:i.stateNode,i};var yT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wp.isDisabled&&Wp.supportsFiber)try{Ne=Wp.inject(yT),Fe=Wp}catch{}}return ed.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",y=g5,w=y5,j=v5,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(w=a.onCaughtError),a.onRecoverableError!==void 0&&(j=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&($=a.unstable_transitionCallbacks)),a=Hv(i,1,!1,null,null,l,h,y,w,j,$,null),i[Dr]=a.current,E1(i),new z1(a)},ed.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,y="",w=g5,j=y5,$=v5,de=null,Pe=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(w=l.onUncaughtError),l.onCaughtError!==void 0&&(j=l.onCaughtError),l.onRecoverableError!==void 0&&($=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(de=l.unstable_transitionCallbacks),l.formState!==void 0&&(Pe=l.formState)),a=Hv(i,1,!0,a,l??null,h,y,w,j,$,de,Pe),a.context=Gv(null),l=a.current,h=da(),h=Pr(h),y=Be(h),y.callback=null,Je(l,y,h),l=h,a.current.lanes=l,Et(a,l),Ho(a),i[Dr]=a.current,E1(i),new Kp(a)},ed.version="19.1.1",ed}var cb;function kT(){if(cb)return G1.exports;cb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),G1.exports=CT(),G1.exports}var RT=kT();const LT=ig(RT),PT=()=>{};var hb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},DT=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},$A={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,p=o>>2,_=(o&3)<<4|c>>4;let A=(c&15)<<2|d>>6,v=d&63;f||(v=64,u||(A=64)),r.push(t[p],t[_],t[A],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):DT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||_==null)throw new OT;const A=o<<2|c>>4;if(r.push(A),d!==64){const v=c<<4&240|d>>2;if(r.push(v),_!==64){const M=d<<6&192|_;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class OT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MT=function(n){const e=YA(n);return $A.encodeByteArray(e,!0)},Rm=function(n){return MT(n).replace(/\./g,"")},KA=function(n){try{return $A.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=()=>jT().__FIREBASE_DEFAULTS__,FT=()=>{if(typeof process>"u"||typeof hb>"u")return;const n=hb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KA(n[1]);return e&&JSON.parse(e)},sg=()=>{try{return PT()||UT()||FT()||BT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WA=n=>{var e,t;return(t=(e=sg())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},VT=n=>{const e=WA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},XA=()=>{var n;return(n=sg())==null?void 0:n.config},QA=n=>{var e;return(e=sg())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rm(JSON.stringify(t)),Rm(JSON.stringify(u)),""].join(".")}const dd={};function HT(){const n={prod:[],emulator:[]};for(const e of Object.keys(dd))dd[e]?n.emulator.push(e):n.prod.push(e);return n}function GT(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let fb=!1;function ZA(n,e){if(typeof window>"u"||typeof document>"u"||!nf(window.location.host)||dd[n]===e||dd[n]||fb)return;dd[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",o=HT().prod.length>0;function u(){const A=document.getElementById(r);A&&A.remove()}function c(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function f(A,v){A.setAttribute("width","24"),A.setAttribute("id",v),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function d(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{fb=!0,u()},A}function p(A,v){A.setAttribute("id",v),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function _(){const A=GT(r),v=t("text"),M=document.getElementById(v)||document.createElement("span"),U=t("learnmore"),z=document.getElementById(U)||document.createElement("a"),L=t("preprendIcon"),Q=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const K=A.element;c(K),p(z,U);const te=d();f(Q,L),K.append(Q,M,z,te),document.body.appendChild(K)}o?(M.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ws())}function $T(){var e;const n=(e=sg())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function WT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XT(){const n=ws();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function QT(){return!$T()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t4(){try{return typeof indexedDB=="object"}catch{return!1}}function n4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}function JT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="FirebaseError";class xo extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZT,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?e6(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new xo(s,c,r)}}function e6(n,e){return n.replace(t6,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const t6=/\{\$([^}]+)}/g;function n6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(db(o)&&db(u)){if(!zu(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function db(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function od(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function ld(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function r6(n,e){const t=new i6(n,e);return t.subscribe.bind(t)}class i6{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");s6(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=W1),s.error===void 0&&(s.error=W1),s.complete===void 0&&(s.complete=W1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s6(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function W1(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=1e3,o6=2,l6=14400*1e3,u6=.5;function pb(n,e=a6,t=o6){const r=e*Math.pow(t,n),s=Math.round(u6*r*(Math.random()-.5)*2);return Math.min(l6,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n){return n&&n._delegate?n._delegate:n}class So{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new zT;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f6(e))try{this.getOrInitializeService({instanceIdentifier:Sc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Sc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sc){return this.instances.has(e)}getOptions(e=Sc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Sc){return this.component?this.component.multipleInstances?e:Sc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h6(n){return n===Sc?void 0:n}function f6(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new c6(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xn||(xn={}));const p6={debug:xn.DEBUG,verbose:xn.VERBOSE,info:xn.INFO,warn:xn.WARN,error:xn.ERROR,silent:xn.SILENT},m6=xn.INFO,g6={[xn.DEBUG]:"log",[xn.VERBOSE]:"log",[xn.INFO]:"info",[xn.WARN]:"warn",[xn.ERROR]:"error"},y6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=g6[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=m6,this._logHandler=y6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xn.DEBUG,...e),this._logHandler(this,xn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xn.VERBOSE,...e),this._logHandler(this,xn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xn.INFO,...e),this._logHandler(this,xn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xn.WARN,...e),this._logHandler(this,xn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xn.ERROR,...e),this._logHandler(this,xn.ERROR,...e)}}const v6=(n,e)=>e.some(t=>n instanceof t);let mb,gb;function b6(){return mb||(mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _6(){return gb||(gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r4=new WeakMap,G0=new WeakMap,i4=new WeakMap,X1=new WeakMap,V2=new WeakMap;function w6(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Uu(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&r4.set(t,n)}).catch(()=>{}),V2.set(e,n),e}function A6(n){if(G0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});G0.set(n,e)}let Y0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return G0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||i4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Uu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function S6(n){Y0=n(Y0)}function E6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Q1(this),e,...t);return i4.set(r,e.sort?e.sort():[e]),Uu(r)}:_6().includes(n)?function(...e){return n.apply(Q1(this),e),Uu(r4.get(this))}:function(...e){return Uu(n.apply(Q1(this),e))}}function x6(n){return typeof n=="function"?E6(n):(n instanceof IDBTransaction&&A6(n),v6(n,b6())?new Proxy(n,Y0):n)}function Uu(n){if(n instanceof IDBRequest)return w6(n);if(X1.has(n))return X1.get(n);const e=x6(n);return e!==n&&(X1.set(n,e),V2.set(e,n)),e}const Q1=n=>V2.get(n);function s4(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=Uu(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Uu(u.result),f.oldVersion,f.newVersion,Uu(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const T6=["get","getKey","getAll","getAllKeys","count"],N6=["put","add","delete","clear"],J1=new Map;function yb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(J1.get(e))return J1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=N6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||T6.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&f.done]))[0]};return J1.set(e,o),o}S6(n=>({...n,get:(e,t,r)=>yb(e,t)||n.get(e,t,r),has:(e,t)=>!!yb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(C6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function C6(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $0="@firebase/app",vb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new ag("@firebase/app"),k6="@firebase/app-compat",R6="@firebase/analytics-compat",L6="@firebase/analytics",P6="@firebase/app-check-compat",D6="@firebase/app-check",O6="@firebase/auth",M6="@firebase/auth-compat",j6="@firebase/database",U6="@firebase/data-connect",F6="@firebase/database-compat",B6="@firebase/functions",V6="@firebase/functions-compat",z6="@firebase/installations",q6="@firebase/installations-compat",H6="@firebase/messaging",G6="@firebase/messaging-compat",Y6="@firebase/performance",$6="@firebase/performance-compat",K6="@firebase/remote-config",W6="@firebase/remote-config-compat",X6="@firebase/storage",Q6="@firebase/storage-compat",J6="@firebase/firestore",Z6="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",nN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="[DEFAULT]",rN={[$0]:"fire-core",[k6]:"fire-core-compat",[L6]:"fire-analytics",[R6]:"fire-analytics-compat",[D6]:"fire-app-check",[P6]:"fire-app-check-compat",[O6]:"fire-auth",[M6]:"fire-auth-compat",[j6]:"fire-rtdb",[U6]:"fire-data-connect",[F6]:"fire-rtdb-compat",[B6]:"fire-fn",[V6]:"fire-fn-compat",[z6]:"fire-iid",[q6]:"fire-iid-compat",[H6]:"fire-fcm",[G6]:"fire-fcm-compat",[Y6]:"fire-perf",[$6]:"fire-perf-compat",[K6]:"fire-rc",[W6]:"fire-rc-compat",[X6]:"fire-gcs",[Q6]:"fire-gcs-compat",[J6]:"fire-fst",[eN]:"fire-fst-compat",[Z6]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=new Map,iN=new Map,W0=new Map;function bb(n,e){try{n.container.addComponent(e)}catch(t){zl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function il(n){const e=n.name;if(W0.has(e))return zl.debug(`There were multiple attempts to register component ${e}.`),!1;W0.set(e,n);for(const t of Lm.values())bb(t,n);for(const t of iN.values())bb(t,n);return!0}function Bc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ya(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fu=new Fc("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=nN;function a4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:K0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Fu.create("bad-app-name",{appName:String(s)});if(t||(t=XA()),!t)throw Fu.create("no-options");const o=Lm.get(s);if(o){if(zu(t,o.options)&&zu(r,o.config))return o;throw Fu.create("duplicate-app",{appName:s})}const u=new d6(s);for(const f of W0.values())u.addComponent(f);const c=new aN(t,r,u);return Lm.set(s,c),c}function z2(n=K0){const e=Lm.get(n);if(!e&&n===K0&&XA())return a4();if(!e)throw Fu.create("no-app",{appName:n});return e}function $a(n,e,t){let r=rN[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zl.warn(u.join(" "));return}il(new So(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",lN=1,xd="firebase-heartbeat-store";let Z1=null;function o4(){return Z1||(Z1=s4(oN,lN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Fu.create("idb-open",{originalErrorMessage:n.message})})),Z1}async function uN(n){try{const t=(await o4()).transaction(xd),r=await t.objectStore(xd).get(l4(n));return await t.done,r}catch(e){if(e instanceof xo)zl.warn(e.message);else{const t=Fu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zl.warn(t.message)}}}async function _b(n,e){try{const r=(await o4()).transaction(xd,"readwrite");await r.objectStore(xd).put(e,l4(n)),await r.done}catch(t){if(t instanceof xo)zl.warn(t.message);else{const r=Fu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zl.warn(r.message)}}}function l4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=1024,hN=30;class fN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>hN){const u=mN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=wb(),{heartbeatsToSend:r,unsentEntries:s}=dN(this._heartbeatsCache.heartbeats),o=Rm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zl.warn(t),""}}}function wb(){return new Date().toISOString().substring(0,10)}function dN(n,e=cN){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Ab(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Ab(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class pN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t4()?n4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _b(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return _b(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ab(n){return Rm(JSON.stringify({version:2,heartbeats:n})).length}function mN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(n){il(new So("platform-logger",e=>new I6(e),"PRIVATE")),il(new So("heartbeat",e=>new fN(e),"PRIVATE")),$a($0,vb,n),$a($0,vb,"esm2020"),$a("fire-js","")}gN("");var yN="firebase",vN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$a(yN,vN,"app");var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bu,u4;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,P){function R(){}R.prototype=P.prototype,V.F=P.prototype,V.prototype=new R,V.prototype.constructor=V,V.D=function(H,N,x){for(var k=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)k[Z-2]=arguments[Z];return P.prototype[N].apply(H,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,P,R){R||(R=0);const H=Array(16);if(typeof P=="string")for(var N=0;N<16;++N)H[N]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(N=0;N<16;++N)H[N]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=V.g[0],R=V.g[1],N=V.g[2];let x=V.g[3],k;k=P+(x^R&(N^x))+H[0]+3614090360&4294967295,P=R+(k<<7&4294967295|k>>>25),k=x+(N^P&(R^N))+H[1]+3905402710&4294967295,x=P+(k<<12&4294967295|k>>>20),k=N+(R^x&(P^R))+H[2]+606105819&4294967295,N=x+(k<<17&4294967295|k>>>15),k=R+(P^N&(x^P))+H[3]+3250441966&4294967295,R=N+(k<<22&4294967295|k>>>10),k=P+(x^R&(N^x))+H[4]+4118548399&4294967295,P=R+(k<<7&4294967295|k>>>25),k=x+(N^P&(R^N))+H[5]+1200080426&4294967295,x=P+(k<<12&4294967295|k>>>20),k=N+(R^x&(P^R))+H[6]+2821735955&4294967295,N=x+(k<<17&4294967295|k>>>15),k=R+(P^N&(x^P))+H[7]+4249261313&4294967295,R=N+(k<<22&4294967295|k>>>10),k=P+(x^R&(N^x))+H[8]+1770035416&4294967295,P=R+(k<<7&4294967295|k>>>25),k=x+(N^P&(R^N))+H[9]+2336552879&4294967295,x=P+(k<<12&4294967295|k>>>20),k=N+(R^x&(P^R))+H[10]+4294925233&4294967295,N=x+(k<<17&4294967295|k>>>15),k=R+(P^N&(x^P))+H[11]+2304563134&4294967295,R=N+(k<<22&4294967295|k>>>10),k=P+(x^R&(N^x))+H[12]+1804603682&4294967295,P=R+(k<<7&4294967295|k>>>25),k=x+(N^P&(R^N))+H[13]+4254626195&4294967295,x=P+(k<<12&4294967295|k>>>20),k=N+(R^x&(P^R))+H[14]+2792965006&4294967295,N=x+(k<<17&4294967295|k>>>15),k=R+(P^N&(x^P))+H[15]+1236535329&4294967295,R=N+(k<<22&4294967295|k>>>10),k=P+(N^x&(R^N))+H[1]+4129170786&4294967295,P=R+(k<<5&4294967295|k>>>27),k=x+(R^N&(P^R))+H[6]+3225465664&4294967295,x=P+(k<<9&4294967295|k>>>23),k=N+(P^R&(x^P))+H[11]+643717713&4294967295,N=x+(k<<14&4294967295|k>>>18),k=R+(x^P&(N^x))+H[0]+3921069994&4294967295,R=N+(k<<20&4294967295|k>>>12),k=P+(N^x&(R^N))+H[5]+3593408605&4294967295,P=R+(k<<5&4294967295|k>>>27),k=x+(R^N&(P^R))+H[10]+38016083&4294967295,x=P+(k<<9&4294967295|k>>>23),k=N+(P^R&(x^P))+H[15]+3634488961&4294967295,N=x+(k<<14&4294967295|k>>>18),k=R+(x^P&(N^x))+H[4]+3889429448&4294967295,R=N+(k<<20&4294967295|k>>>12),k=P+(N^x&(R^N))+H[9]+568446438&4294967295,P=R+(k<<5&4294967295|k>>>27),k=x+(R^N&(P^R))+H[14]+3275163606&4294967295,x=P+(k<<9&4294967295|k>>>23),k=N+(P^R&(x^P))+H[3]+4107603335&4294967295,N=x+(k<<14&4294967295|k>>>18),k=R+(x^P&(N^x))+H[8]+1163531501&4294967295,R=N+(k<<20&4294967295|k>>>12),k=P+(N^x&(R^N))+H[13]+2850285829&4294967295,P=R+(k<<5&4294967295|k>>>27),k=x+(R^N&(P^R))+H[2]+4243563512&4294967295,x=P+(k<<9&4294967295|k>>>23),k=N+(P^R&(x^P))+H[7]+1735328473&4294967295,N=x+(k<<14&4294967295|k>>>18),k=R+(x^P&(N^x))+H[12]+2368359562&4294967295,R=N+(k<<20&4294967295|k>>>12),k=P+(R^N^x)+H[5]+4294588738&4294967295,P=R+(k<<4&4294967295|k>>>28),k=x+(P^R^N)+H[8]+2272392833&4294967295,x=P+(k<<11&4294967295|k>>>21),k=N+(x^P^R)+H[11]+1839030562&4294967295,N=x+(k<<16&4294967295|k>>>16),k=R+(N^x^P)+H[14]+4259657740&4294967295,R=N+(k<<23&4294967295|k>>>9),k=P+(R^N^x)+H[1]+2763975236&4294967295,P=R+(k<<4&4294967295|k>>>28),k=x+(P^R^N)+H[4]+1272893353&4294967295,x=P+(k<<11&4294967295|k>>>21),k=N+(x^P^R)+H[7]+4139469664&4294967295,N=x+(k<<16&4294967295|k>>>16),k=R+(N^x^P)+H[10]+3200236656&4294967295,R=N+(k<<23&4294967295|k>>>9),k=P+(R^N^x)+H[13]+681279174&4294967295,P=R+(k<<4&4294967295|k>>>28),k=x+(P^R^N)+H[0]+3936430074&4294967295,x=P+(k<<11&4294967295|k>>>21),k=N+(x^P^R)+H[3]+3572445317&4294967295,N=x+(k<<16&4294967295|k>>>16),k=R+(N^x^P)+H[6]+76029189&4294967295,R=N+(k<<23&4294967295|k>>>9),k=P+(R^N^x)+H[9]+3654602809&4294967295,P=R+(k<<4&4294967295|k>>>28),k=x+(P^R^N)+H[12]+3873151461&4294967295,x=P+(k<<11&4294967295|k>>>21),k=N+(x^P^R)+H[15]+530742520&4294967295,N=x+(k<<16&4294967295|k>>>16),k=R+(N^x^P)+H[2]+3299628645&4294967295,R=N+(k<<23&4294967295|k>>>9),k=P+(N^(R|~x))+H[0]+4096336452&4294967295,P=R+(k<<6&4294967295|k>>>26),k=x+(R^(P|~N))+H[7]+1126891415&4294967295,x=P+(k<<10&4294967295|k>>>22),k=N+(P^(x|~R))+H[14]+2878612391&4294967295,N=x+(k<<15&4294967295|k>>>17),k=R+(x^(N|~P))+H[5]+4237533241&4294967295,R=N+(k<<21&4294967295|k>>>11),k=P+(N^(R|~x))+H[12]+1700485571&4294967295,P=R+(k<<6&4294967295|k>>>26),k=x+(R^(P|~N))+H[3]+2399980690&4294967295,x=P+(k<<10&4294967295|k>>>22),k=N+(P^(x|~R))+H[10]+4293915773&4294967295,N=x+(k<<15&4294967295|k>>>17),k=R+(x^(N|~P))+H[1]+2240044497&4294967295,R=N+(k<<21&4294967295|k>>>11),k=P+(N^(R|~x))+H[8]+1873313359&4294967295,P=R+(k<<6&4294967295|k>>>26),k=x+(R^(P|~N))+H[15]+4264355552&4294967295,x=P+(k<<10&4294967295|k>>>22),k=N+(P^(x|~R))+H[6]+2734768916&4294967295,N=x+(k<<15&4294967295|k>>>17),k=R+(x^(N|~P))+H[13]+1309151649&4294967295,R=N+(k<<21&4294967295|k>>>11),k=P+(N^(R|~x))+H[4]+4149444226&4294967295,P=R+(k<<6&4294967295|k>>>26),k=x+(R^(P|~N))+H[11]+3174756917&4294967295,x=P+(k<<10&4294967295|k>>>22),k=N+(P^(x|~R))+H[2]+718787259&4294967295,N=x+(k<<15&4294967295|k>>>17),k=R+(x^(N|~P))+H[9]+3951481745&4294967295,V.g[0]=V.g[0]+P&4294967295,V.g[1]=V.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+x&4294967295}r.prototype.v=function(V,P){P===void 0&&(P=V.length);const R=P-this.blockSize,H=this.C;let N=this.h,x=0;for(;x<P;){if(N==0)for(;x<=R;)s(this,V,x),x+=this.blockSize;if(typeof V=="string"){for(;x<P;)if(H[N++]=V.charCodeAt(x++),N==this.blockSize){s(this,H),N=0;break}}else for(;x<P;)if(H[N++]=V[x++],N==this.blockSize){s(this,H),N=0;break}}this.h=N,this.o+=P},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var P=1;P<V.length-8;++P)V[P]=0;P=this.o*8;for(var R=V.length-8;R<V.length;++R)V[R]=P&255,P/=256;for(this.v(V),V=Array(16),P=0,R=0;R<4;++R)for(let H=0;H<32;H+=8)V[P++]=this.g[R]>>>H&255;return V};function o(V,P){var R=c;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=P(V)}function u(V,P){this.h=P;const R=[];let H=!0;for(let N=V.length-1;N>=0;N--){const x=V[N]|0;H&&x==P||(R[N]=x,H=!1)}this.g=R}var c={};function f(V){return-128<=V&&V<128?o(V,function(P){return new u([P|0],P<0?-1:0)}):new u([V|0],V<0?-1:0)}function d(V){if(isNaN(V)||!isFinite(V))return _;if(V<0)return z(d(-V));const P=[];let R=1;for(let H=0;V>=R;H++)P[H]=V/R|0,R*=4294967296;return new u(P,0)}function p(V,P){if(V.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(V.charAt(0)=="-")return z(p(V.substring(1),P));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(P,8));let H=_;for(let x=0;x<V.length;x+=8){var N=Math.min(8,V.length-x);const k=parseInt(V.substring(x,x+N),P);N<8?(N=d(Math.pow(P,N)),H=H.j(N).add(d(k))):(H=H.j(R),H=H.add(d(k)))}return H}var _=f(0),A=f(1),v=f(16777216);n=u.prototype,n.m=function(){if(U(this))return-z(this).m();let V=0,P=1;for(let R=0;R<this.g.length;R++){const H=this.i(R);V+=(H>=0?H:4294967296+H)*P,P*=4294967296}return V},n.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(U(this))return"-"+z(this).toString(V);const P=d(Math.pow(V,6));var R=this;let H="";for(;;){const N=te(R,P).g;R=L(R,N.j(P));let x=((R.g.length>0?R.g[0]:R.h)>>>0).toString(V);if(R=N,M(R))return x+H;for(;x.length<6;)x="0"+x;H=x+H}},n.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(let P=0;P<V.g.length;P++)if(V.g[P]!=0)return!1;return!0}function U(V){return V.h==-1}n.l=function(V){return V=L(this,V),U(V)?-1:M(V)?0:1};function z(V){const P=V.g.length,R=[];for(let H=0;H<P;H++)R[H]=~V.g[H];return new u(R,~V.h).add(A)}n.abs=function(){return U(this)?z(this):this},n.add=function(V){const P=Math.max(this.g.length,V.g.length),R=[];let H=0;for(let N=0;N<=P;N++){let x=H+(this.i(N)&65535)+(V.i(N)&65535),k=(x>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);H=k>>>16,x&=65535,k&=65535,R[N]=k<<16|x}return new u(R,R[R.length-1]&-2147483648?-1:0)};function L(V,P){return V.add(z(P))}n.j=function(V){if(M(this)||M(V))return _;if(U(this))return U(V)?z(this).j(z(V)):z(z(this).j(V));if(U(V))return z(this.j(z(V)));if(this.l(v)<0&&V.l(v)<0)return d(this.m()*V.m());const P=this.g.length+V.g.length,R=[];for(var H=0;H<2*P;H++)R[H]=0;for(H=0;H<this.g.length;H++)for(let N=0;N<V.g.length;N++){const x=this.i(H)>>>16,k=this.i(H)&65535,Z=V.i(N)>>>16,fe=V.i(N)&65535;R[2*H+2*N]+=k*fe,Q(R,2*H+2*N),R[2*H+2*N+1]+=x*fe,Q(R,2*H+2*N+1),R[2*H+2*N+1]+=k*Z,Q(R,2*H+2*N+1),R[2*H+2*N+2]+=x*Z,Q(R,2*H+2*N+2)}for(V=0;V<P;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=P;V<2*P;V++)R[V]=0;return new u(R,0)};function Q(V,P){for(;(V[P]&65535)!=V[P];)V[P+1]+=V[P]>>>16,V[P]&=65535,P++}function K(V,P){this.g=V,this.h=P}function te(V,P){if(M(P))throw Error("division by zero");if(M(V))return new K(_,_);if(U(V))return P=te(z(V),P),new K(z(P.g),z(P.h));if(U(P))return P=te(V,z(P)),new K(z(P.g),P.h);if(V.g.length>30){if(U(V)||U(P))throw Error("slowDivide_ only works with positive integers.");for(var R=A,H=P;H.l(V)<=0;)R=me(R),H=me(H);var N=ue(R,1),x=ue(H,1);for(H=ue(H,2),R=ue(R,2);!M(H);){var k=x.add(H);k.l(V)<=0&&(N=N.add(R),x=k),H=ue(H,1),R=ue(R,1)}return P=L(V,N.j(P)),new K(N,P)}for(N=_;V.l(P)>=0;){for(R=Math.max(1,Math.floor(V.m()/P.m())),H=Math.ceil(Math.log(R)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),x=d(R),k=x.j(P);U(k)||k.l(V)>0;)R-=H,x=d(R),k=x.j(P);M(x)&&(x=A),N=N.add(x),V=L(V,k)}return new K(N,V)}n.B=function(V){return te(this,V).h},n.and=function(V){const P=Math.max(this.g.length,V.g.length),R=[];for(let H=0;H<P;H++)R[H]=this.i(H)&V.i(H);return new u(R,this.h&V.h)},n.or=function(V){const P=Math.max(this.g.length,V.g.length),R=[];for(let H=0;H<P;H++)R[H]=this.i(H)|V.i(H);return new u(R,this.h|V.h)},n.xor=function(V){const P=Math.max(this.g.length,V.g.length),R=[];for(let H=0;H<P;H++)R[H]=this.i(H)^V.i(H);return new u(R,this.h^V.h)};function me(V){const P=V.g.length+1,R=[];for(let H=0;H<P;H++)R[H]=V.i(H)<<1|V.i(H-1)>>>31;return new u(R,V.h)}function ue(V,P){const R=P>>5;P%=32;const H=V.g.length-R,N=[];for(let x=0;x<H;x++)N[x]=P>0?V.i(x+R)>>>P|V.i(x+R+1)<<32-P:V.i(x+R);return new u(N,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u4=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=p,Bu=u}).apply(typeof Sb<"u"?Sb:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c4,ud,h4,pm,X0,f4,d4,p4;(function(){var n,e=Object.defineProperty;function t(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var T=0;T<g.length;++T){var O=g[T];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function s(g,T){if(T)e:{var O=r;g=g.split(".");for(var J=0;J<g.length-1;J++){var xe=g[J];if(!(xe in O))break e;O=O[xe]}g=g[g.length-1],J=O[g],T=T(J),T!=J&&T!=null&&e(O,g,{configurable:!0,writable:!0,value:T})}}s("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(g){return g||function(T){var O=[],J;for(J in T)Object.prototype.hasOwnProperty.call(T,J)&&O.push([J,T[J]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function f(g,T,O){return g.call.apply(g.bind,arguments)}function d(g,T,O){return d=f,d.apply(null,arguments)}function p(g,T){var O=Array.prototype.slice.call(arguments,1);return function(){var J=O.slice();return J.push.apply(J,arguments),g.apply(this,J)}}function _(g,T){function O(){}O.prototype=T.prototype,g.Z=T.prototype,g.prototype=new O,g.prototype.constructor=g,g.Ob=function(J,xe,De){for(var tt=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)tt[Yt-2]=arguments[Yt];return T.prototype[xe].apply(J,tt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function v(g){const T=g.length;if(T>0){const O=Array(T);for(let J=0;J<T;J++)O[J]=g[J];return O}return[]}function M(g,T){for(let J=1;J<arguments.length;J++){const xe=arguments[J];var O=typeof xe;if(O=O!="object"?O:xe?Array.isArray(xe)?"array":O:"null",O=="array"||O=="object"&&typeof xe.length=="number"){O=g.length||0;const De=xe.length||0;g.length=O+De;for(let tt=0;tt<De;tt++)g[O+tt]=xe[tt]}else g.push(xe)}}class U{constructor(T,O){this.i=T,this.j=O,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function z(g){u.setTimeout(()=>{throw g},0)}function L(){var g=V;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class Q{constructor(){this.h=this.g=null}add(T,O){const J=K.get();J.set(T,O),this.h?this.h.next=J:this.g=J,this.h=J}}var K=new U(()=>new te,g=>g.reset());class te{constructor(){this.next=this.g=this.h=null}set(T,O){this.h=T,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ue=!1,V=new Q,P=()=>{const g=Promise.resolve(void 0);me=()=>{g.then(R)}};function R(){for(var g;g=L();){try{g.h.call(g.g)}catch(O){z(O)}var T=K;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}ue=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const O=()=>{};u.addEventListener("test",O,T),u.removeEventListener("test",O,T)}catch{}return g})();function k(g){return/^[\s\xa0]*$/.test(g)}function Z(g,T){N.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}_(Z,N),Z.prototype.init=function(g,T){const O=this.type=g.type,J=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(O=="mouseover"?T=g.fromElement:O=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),se=0;function ce(g,T,O,J,xe){this.listener=g,this.proxy=null,this.src=T,this.type=O,this.capture=!!J,this.ha=xe,this.key=++se,this.da=this.fa=!1}function pe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ie(g,T,O){for(const J in g)T.call(O,g[J],J,g)}function D(g,T){for(const O in g)T.call(void 0,g[O],O,g)}function ge(g){const T={};for(const O in g)T[O]=g[O];return T}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(g,T){let O,J;for(let xe=1;xe<arguments.length;xe++){J=arguments[xe];for(O in J)g[O]=J[O];for(let De=0;De<F.length;De++)O=F[De],Object.prototype.hasOwnProperty.call(J,O)&&(g[O]=J[O])}}function ne(g){this.src=g,this.g={},this.h=0}ne.prototype.add=function(g,T,O,J,xe){const De=g.toString();g=this.g[De],g||(g=this.g[De]=[],this.h++);const tt=le(g,T,J,xe);return tt>-1?(T=g[tt],O||(T.fa=!1)):(T=new ce(T,this.src,De,!!J,xe),T.fa=O,g.push(T)),T};function he(g,T){const O=T.type;if(O in g.g){var J=g.g[O],xe=Array.prototype.indexOf.call(J,T,void 0),De;(De=xe>=0)&&Array.prototype.splice.call(J,xe,1),De&&(pe(T),g.g[O].length==0&&(delete g.g[O],g.h--))}}function le(g,T,O,J){for(let xe=0;xe<g.length;++xe){const De=g[xe];if(!De.da&&De.listener==T&&De.capture==!!O&&De.ha==J)return xe}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),Se={};function Re(g,T,O,J,xe){if(Array.isArray(T)){for(let De=0;De<T.length;De++)Re(g,T[De],O,J,xe);return null}return O=Nt(O),g&&g[fe]?g.J(T,O,c(J)?!!J.capture:!1,xe):Ue(g,T,O,!1,J,xe)}function Ue(g,T,O,J,xe,De){if(!T)throw Error("Invalid event type");const tt=c(xe)?!!xe.capture:!!xe;let Yt=rt(g);if(Yt||(g[_e]=Yt=new ne(g)),O=Yt.add(T,O,J,tt,De),O.proxy)return O;if(J=Qe(),O.proxy=J,J.src=g,J.listener=O,g.addEventListener)x||(xe=tt),xe===void 0&&(xe=!1),g.addEventListener(T.toString(),J,xe);else if(g.attachEvent)g.attachEvent(vt(T.toString()),J);else if(g.addListener&&g.removeListener)g.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return O}function Qe(){function g(O){return T.call(g.src,g.listener,O)}const T=re;return g}function at(g,T,O,J,xe){if(Array.isArray(T))for(var De=0;De<T.length;De++)at(g,T[De],O,J,xe);else J=c(J)?!!J.capture:!!J,O=Nt(O),g&&g[fe]?(g=g.i,De=String(T).toString(),De in g.g&&(T=g.g[De],O=le(T,O,J,xe),O>-1&&(pe(T[O]),Array.prototype.splice.call(T,O,1),T.length==0&&(delete g.g[De],g.h--)))):g&&(g=rt(g))&&(T=g.g[T.toString()],g=-1,T&&(g=le(T,O,J,xe)),(O=g>-1?T[g]:null)&&it(O))}function it(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[fe])he(T.i,g);else{var O=g.type,J=g.proxy;T.removeEventListener?T.removeEventListener(O,J,g.capture):T.detachEvent?T.detachEvent(vt(O),J):T.addListener&&T.removeListener&&T.removeListener(J),(O=rt(T))?(he(O,g),O.h==0&&(O.src=null,T[_e]=null)):pe(g)}}}function vt(g){return g in Se?Se[g]:Se[g]="on"+g}function re(g,T){if(g.da)g=!0;else{T=new Z(T,this);const O=g.listener,J=g.ha||g.src;g.fa&&it(g),g=O.call(J,T)}return g}function rt(g){return g=g[_e],g instanceof ne?g:null}var Tt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nt(g){return typeof g=="function"?g:(g[Tt]||(g[Tt]=function(T){return g.handleEvent(T)}),g[Tt])}function qe(){H.call(this),this.i=new ne(this),this.M=this,this.G=null}_(qe,H),qe.prototype[fe]=!0,qe.prototype.removeEventListener=function(g,T,O,J){at(this,g,T,O,J)};function ct(g,T){var O,J=g.G;if(J)for(O=[];J;J=J.G)O.push(J);if(g=g.M,J=T.type||T,typeof T=="string")T=new N(T,g);else if(T instanceof N)T.target=T.target||g;else{var xe=T;T=new N(J,g),I(T,xe)}xe=!0;let De,tt;if(O)for(tt=O.length-1;tt>=0;tt--)De=T.g=O[tt],xe=ot(De,J,!0,T)&&xe;if(De=T.g=g,xe=ot(De,J,!0,T)&&xe,xe=ot(De,J,!1,T)&&xe,O)for(tt=0;tt<O.length;tt++)De=T.g=O[tt],xe=ot(De,J,!1,T)&&xe}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const O=g.g[T];for(let J=0;J<O.length;J++)pe(O[J]);delete g.g[T],g.h--}}this.G=null},qe.prototype.J=function(g,T,O,J){return this.i.add(String(g),T,!1,O,J)},qe.prototype.K=function(g,T,O,J){return this.i.add(String(g),T,!0,O,J)};function ot(g,T,O,J){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let xe=!0;for(let De=0;De<T.length;++De){const tt=T[De];if(tt&&!tt.da&&tt.capture==O){const Yt=tt.listener,Dn=tt.ha||tt.src;tt.fa&&he(g.i,tt),xe=Yt.call(Dn,J)!==!1&&xe}}return xe&&!J.defaultPrevented}function It(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:u.setTimeout(g,T||0)}function At(g){g.g=It(()=>{g.g=null,g.i&&(g.i=!1,At(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class An extends H{constructor(T,O){super(),this.m=T,this.l=O,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nn(g){H.call(this),this.h=g,this.g={}}_(nn,H);var Ne=[];function Fe(g){Ie(g.g,function(T,O){this.g.hasOwnProperty(O)&&it(T)},g),g.g={}}nn.prototype.N=function(){nn.Z.N.call(this),Fe(this)},nn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var et=u.JSON.stringify,Ke=u.JSON.parse,lt=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function ut(){}function Cn(){}var Ot={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mt(){N.call(this,"d")}_(Mt,N);function Rt(){N.call(this,"c")}_(Rt,N);var zt={},ft=null;function ln(){return ft=ft||new qe}zt.Ia="serverreachability";function Pt(g){N.call(this,zt.Ia,g)}_(Pt,N);function Bt(g){const T=ln();ct(T,new Pt(T))}zt.STAT_EVENT="statevent";function Mn(g,T){N.call(this,zt.STAT_EVENT,g),this.stat=T}_(Mn,N);function Et(g){const T=ln();ct(T,new Mn(T,g))}zt.Ja="timingevent";function Dt(g,T){N.call(this,zt.Ja,g),this.size=T}_(Dt,N);function fn(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},T)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function Pr(g,T,O,J,xe,De){g.info(function(){if(g.g)if(De){var tt="",Yt=De.split("&");for(let gn=0;gn<Yt.length;gn++){var Dn=Yt[gn].split("=");if(Dn.length>1){const Kn=Dn[0];Dn=Dn[1];const Hr=Kn.split("_");tt=Hr.length>=2&&Hr[1]=="type"?tt+(Kn+"="+Dn+"&"):tt+(Kn+"=redacted&")}}}else tt=null;else tt=De;return"XMLHTTP REQ ("+J+") [attempt "+xe+"]: "+T+`
`+O+`
`+tt})}function Ss(g,T,O,J,xe,De,tt){g.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+xe+"]: "+T+`
`+O+`
`+De+" "+tt})}function ni(g,T,O,J){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+ri(g,O)+(J?" "+J:"")})}function jt(g,T){g.info(function(){return"TIMEOUT: "+T})}is.prototype.info=function(){};function ri(g,T){if(!g.g)return T;if(!T)return null;try{const De=JSON.parse(T);if(De){for(g=0;g<De.length;g++)if(Array.isArray(De[g])){var O=De[g];if(!(O.length<2)){var J=O[1];if(Array.isArray(J)&&!(J.length<1)){var xe=J[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(let tt=1;tt<J.length;tt++)J[tt]=""}}}}return et(De)}catch{return T}}var jn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dr;function zn(){}_(zn,ut),zn.prototype.g=function(){return new XMLHttpRequest},Dr=new zn;function cr(g){return encodeURIComponent(String(g))}function Br(g){var T=1;g=g.split(":");const O=[];for(;T>0&&g.length;)O.push(g.shift()),T--;return g.length&&O.push(g.join(":")),O}function pi(g,T,O,J){this.j=g,this.i=T,this.l=O,this.S=J||1,this.V=new nn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}var Ti={},Vr={};function Or(g,T,O){g.M=1,g.A=qs(sr(T)),g.u=O,g.R=!0,ii(g,null)}function ii(g,T){g.F=Date.now(),xs(g),g.B=sr(g.A);var O=g.B,J=g.S;Array.isArray(J)||(J=[String(J)]),Kl(O.i,"t",J),g.C=0,O=g.j.L,g.h=new Fi,g.g=ht(g.j,O?T:null,!g.u),g.P>0&&(g.O=new An(d(g.Y,g,g.g),g.P)),T=g.V,O=g.g,J=g.ba;var xe="readystatechange";Array.isArray(xe)||(xe&&(Ne[0]=xe.toString()),xe=Ne);for(let De=0;De<xe.length;De++){const tt=Re(O,xe[De],J||T.handleEvent,!1,T.h||T);if(!tt)break;T.g[tt.key]=tt}T=g.J?ge(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),Bt(),Pr(g.i,g.v,g.B,g.l,g.S,g.u)}pi.prototype.ba=function(g){g=g.target;const T=this.O;T&&Mr(g)==3?T.j():this.Y(g)},pi.prototype.Y=function(g){try{if(g==this.g)e:{const Yt=Mr(this.g),Dn=this.g.ya(),gn=this.g.ca();if(!(Yt<3)&&(Yt!=3||this.g&&(this.h.h||this.g.la()||sa(this.g)))){this.K||Yt!=4||Dn==7||(Dn==8||gn<=0?Bt(3):Bt(2)),Vi(this);var T=this.g.ca();this.X=T;var O=zr(this);if(this.o=T==200,Ss(this.i,this.v,this.B,this.l,this.S,Yt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var J,xe=this.g;if((J=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(J)){var De=J;break t}}De=null}if(g=De)ni(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Aa(this,g);else{this.o=!1,this.m=3,Et(12),Bs(this),Fs(this);break e}}if(this.R){g=!0;let Kn;for(;!this.K&&this.C<O.length;)if(Kn=Es(this,O),Kn==Vr){Yt==4&&(this.m=4,Et(14),g=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Ti){this.m=4,Et(15),ni(this.i,this.l,O,"[Invalid Chunk]"),g=!1;break}else ni(this.i,this.l,Kn,null),Aa(this,Kn);if(Gn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||O.length!=0||this.h.h||(this.m=1,Et(16),g=!1),this.o=this.o&&g,!g)ni(this.i,this.l,O,"[Invalid Chunked Response]"),Bs(this),Fs(this);else if(O.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Lo(tt),tt.P=!0,Et(11))}}else ni(this.i,this.l,O,null),Aa(this,O);Yt==4&&Bs(this),this.o&&!this.K&&(Yt==4?ae(this.j,this):(this.o=!1,xs(this)))}else Ca(this.g),T==400&&O.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Bs(this),Fs(this)}}}catch{}finally{}};function zr(g){if(!Gn(g))return g.g.la();const T=sa(g.g);if(T==="")return"";let O="";const J=T.length,xe=Mr(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Bs(g),Fs(g),"";g.h.i=new u.TextDecoder}for(let De=0;De<J;De++)g.h.h=!0,O+=g.h.i.decode(T[De],{stream:!(xe&&De==J-1)});return T.length=0,g.h.g+=O,g.C=0,g.h.g}function Gn(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Es(g,T){var O=g.C,J=T.indexOf(`
`,O);return J==-1?Vr:(O=Number(T.substring(O,J)),isNaN(O)?Ti:(J+=1,J+O>T.length?Vr:(T=T.slice(J,J+O),g.C=J+O,T)))}pi.prototype.cancel=function(){this.K=!0,Bs(this)};function xs(g){g.T=Date.now()+g.H,Bi(g,g.H)}function Bi(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=fn(d(g.aa,g),T)}function Vi(g){g.D&&(u.clearTimeout(g.D),g.D=null)}pi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(jt(this.i,this.B),this.M!=2&&(Bt(),Et(17)),Bs(this),this.m=2,Fs(this)):Bi(this,this.T-g)};function Fs(g){g.j.I==0||g.K||ae(g.j,g)}function Bs(g){Vi(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,Fe(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function Aa(g,T){try{var O=g.j;if(O.I!=0&&(O.g==g||Ea(O.h,g))){if(!g.L&&Ea(O.h,g)&&O.I==3){try{var J=O.Ba.g.parse(T)}catch{J=null}if(Array.isArray(J)&&J.length==3){var xe=J;if(xe[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<g.F)B(O),us(O);else break e;oa(O),Et(18)}}else O.xa=xe[1],0<O.xa-O.K&&xe[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=fn(d(O.Va,O),6e3));Ni(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ae(O,11)}else if((g.L||O.g==g)&&B(O),!k(T))for(xe=O.Ba.g.parse(T),T=0;T<xe.length;T++){let gn=xe[T];const Kn=gn[0];if(!(Kn<=O.K))if(O.K=Kn,gn=gn[1],O.I==2)if(gn[0]=="c"){O.M=gn[1],O.ba=gn[2];const Hr=gn[3];Hr!=null&&(O.ka=Hr,O.j.info("VER="+O.ka));const vi=gn[4];vi!=null&&(O.za=vi,O.j.info("SVER="+O.za));const Wn=gn[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(J=1.5*Wn,O.O=J,O.j.info("backChannelRequestTimeoutMs_="+J)),J=O;const bi=g.g;if(bi){const _i=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var De=J.h;De.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(xa(De,De.h),De.h=null))}if(J.G){const eo=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;eo&&(J.wa=eo,In(J.J,J.G,eo))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-g.F,O.j.info("Handshake RTT: "+O.T+"ms")),J=O;var tt=g;if(J.na=We(J,J.L?J.ba:null,J.W),tt.L){Vs(J.h,tt);var Yt=tt,Dn=J.O;Dn&&(Yt.H=Dn),Yt.D&&(Vi(Yt),xs(Yt)),J.g=tt}else pl(J);O.i.length>0&&aa(O)}else gn[0]!="stop"&&gn[0]!="close"||Ae(O,7);else O.I==3&&(gn[0]=="stop"||gn[0]=="close"?gn[0]=="stop"?Ae(O,7):Hs(O):gn[0]!="noop"&&O.l&&O.l.qa(gn),O.A=0)}}Bt(4)}catch{}}var $l=class{constructor(g,T){this.g=g,this.map=T}};function Sa(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function si(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ni(g){return g.h?1:g.g?g.g.size:0}function Ea(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function xa(g,T){g.g?g.g.add(T):g.h=T}function Vs(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Sa.prototype.cancel=function(){if(this.i=Xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Xa(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const O of g.g.values())T=T.concat(O.G);return T}return v(g.i)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(g,T){if(g){g=g.split("&");for(let O=0;O<g.length;O++){const J=g[O].indexOf("=");let xe,De=null;J>=0?(xe=g[O].substring(0,J),De=g[O].substring(J+1)):xe=g[O],T(xe,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function Ii(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Ii?(this.l=g.l,Yn(this,g.j),this.o=g.o,this.g=g.g,Ta(this,g.u),this.h=g.h,mi(this,ko(g.i)),this.m=g.m):g&&(T=String(g).match(Qa))?(this.l=!1,Yn(this,T[1]||"",!0),this.o=ai(T[2]||""),this.g=ai(T[3]||"",!0),Ta(this,T[4]),this.h=ai(T[5]||"",!0),mi(this,T[6]||"",!0),this.m=ai(T[7]||"")):(this.l=!1,this.i=new zi(null,this.l))}Ii.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(mn(T,Io,!0),":");var O=this.g;return(O||T=="file")&&(g.push("//"),(T=this.o)&&g.push(mn(T,Io,!0),"@"),g.push(cr(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&g.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&g.push("/"),g.push(mn(O,O.charAt(0)=="/"?Na:ul,!0))),(O=this.i.toString())&&g.push("?",O),(O=this.m)&&g.push("#",mn(O,cl)),g.join("")},Ii.prototype.resolve=function(g){const T=sr(this);let O=!!g.j;O?Yn(T,g.j):O=!!g.o,O?T.o=g.o:O=!!g.g,O?T.g=g.g:O=g.u!=null;var J=g.h;if(O)Ta(T,g.u);else if(O=!!g.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var xe=T.h.lastIndexOf("/");xe!=-1&&(J=T.h.slice(0,xe+1)+J)}if(xe=J,xe==".."||xe==".")J="";else if(xe.indexOf("./")!=-1||xe.indexOf("/.")!=-1){J=xe.lastIndexOf("/",0)==0,xe=xe.split("/");const De=[];for(let tt=0;tt<xe.length;){const Yt=xe[tt++];Yt=="."?J&&tt==xe.length&&De.push(""):Yt==".."?((De.length>1||De.length==1&&De[0]!="")&&De.pop(),J&&tt==xe.length&&De.push("")):(De.push(Yt),J=!0)}J=De.join("/")}else J=xe}return O?T.h=J:O=g.i.toString()!=="",O?mi(T,ko(g.i)):O=!!g.m,O&&(T.m=g.m),T};function sr(g){return new Ii(g)}function Yn(g,T,O){g.j=O?ai(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function Ta(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function mi(g,T,O){T instanceof zi?(g.i=T,qi(g.i,g.l)):(O||(T=mn(T,Ns)),g.i=new zi(T,g.l))}function In(g,T,O){g.i.set(T,O)}function qs(g){return In(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function ai(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function mn(g,T,O){return typeof g=="string"?(g=encodeURI(g).replace(T,Ts),O&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ts(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Io=/[#\/\?@]/g,ul=/[#\?:]/g,Na=/[#\?]/g,Ns=/[#\?@]/g,cl=/#/g;function zi(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function ss(g){g.g||(g.g=new Map,g.h=0,g.i&&zs(g.i,function(T,O){g.add(decodeURIComponent(T.replace(/\+/g," ")),O)}))}n=zi.prototype,n.add=function(g,T){ss(this),this.i=null,g=as(this,g);let O=this.g.get(g);return O||this.g.set(g,O=[]),O.push(T),this.h+=1,this};function ra(g,T){ss(g),T=as(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function hl(g,T){return ss(g),T=as(g,T),g.g.has(T)}n.forEach=function(g,T){ss(this),this.g.forEach(function(O,J){O.forEach(function(xe){g.call(T,xe,J,this)},this)},this)};function Co(g,T){ss(g);let O=[];if(typeof T=="string")hl(g,T)&&(O=O.concat(g.g.get(as(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)O=O.concat(g[T]);return O}n.set=function(g,T){return ss(this),this.i=null,g=as(this,g),hl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},n.get=function(g,T){return g?(g=Co(this,g),g.length>0?String(g[0]):T):T};function Kl(g,T,O){ra(g,T),O.length>0&&(g.i=null,g.g.set(as(g,T),v(O)),g.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let J=0;J<T.length;J++){var O=T[J];const xe=cr(O);O=Co(this,O);for(let De=0;De<O.length;De++){let tt=xe;O[De]!==""&&(tt+="="+cr(O[De])),g.push(tt)}}return this.i=g.join("&")};function ko(g){const T=new zi;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function as(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function qi(g,T){T&&!g.j&&(ss(g),g.i=null,g.g.forEach(function(O,J){const xe=J.toLowerCase();J!=xe&&(ra(this,J),Kl(this,xe,O))},g)),g.j=T}function fl(g,T){const O=new is;if(u.Image){const J=new Image;J.onload=p(qr,O,"TestLoadImage: loaded",!0,T,J),J.onerror=p(qr,O,"TestLoadImage: error",!1,T,J),J.onabort=p(qr,O,"TestLoadImage: abort",!1,T,J),J.ontimeout=p(qr,O,"TestLoadImage: timeout",!1,T,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=g}else T(!1)}function os(g,T){const O=new is,J=new AbortController,xe=setTimeout(()=>{J.abort(),qr(O,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:J.signal}).then(De=>{clearTimeout(xe),De.ok?qr(O,"TestPingServer: ok",!0,T):qr(O,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(xe),qr(O,"TestPingServer: error",!1,T)})}function qr(g,T,O,J,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),J(O)}catch{}}function Wl(){this.g=new lt}function Ut(g){this.i=g.Sb||null,this.h=g.ab||!1}_(Ut,ut),Ut.prototype.g=function(){return new Ja(this.i,this.h)};function Ja(g,T){qe.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Ja,qe),n=Ja.prototype,n.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,yi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||u).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ia(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ia(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?gi(this):yi(this),this.readyState==3&&Ia(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,gi(this))},n.Na=function(g){this.g&&(this.response=g,gi(this))},n.ga=function(){this.g&&gi(this)};function gi(g){g.readyState=4,g.l=null,g.j=null,g.B=null,yi(g)}n.setRequestHeader=function(g,T){this.A.append(g,T)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var O=T.next();!O.done;)O=O.value,g.push(O[0]+": "+O[1]),O=T.next();return g.join(`\r
`)};function yi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ci(g){let T="";return Ie(g,function(O,J){T+=J,T+=":",T+=O,T+=`\r
`}),T}function ls(g,T,O){e:{for(J in O){var J=!1;break e}J=!0}J||(O=Ci(O),typeof g=="string"?O!=null&&cr(O):In(g,T,O))}function qn(g){qe.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(qn,qe);var ia=/^https?$/i,Ro=["POST","PUT"];n=qn.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,T,O,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dr.g(),this.g.onreadystatechange=A(d(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(De){Is(this,De);return}if(g=O||"",O=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var xe in J)O.set(xe,J[xe]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const De of J.keys())O.set(De,J.get(De));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(O.keys()).find(De=>De.toLowerCase()=="content-type"),xe=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(Ro,T,void 0)>=0)||J||xe||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,tt]of O)this.g.setRequestHeader(De,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(De){Is(this,De)}};function Is(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,Za(g),xr(g)}function Za(g){g.A||(g.A=!0,ct(g,"complete"),ct(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,ct(this,"complete"),ct(this,"abort"),xr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),qn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Cs(this):this.Xa())},n.Xa=function(){Cs(this)};function Cs(g){if(g.h&&typeof o<"u"){if(g.v&&Mr(g)==4)setTimeout(g.Ca.bind(g),0);else if(ct(g,"readystatechange"),Mr(g)==4){g.h=!1;try{const De=g.ca();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var O;if(!(O=T)){var J;if(J=De===0){let tt=String(g.D).match(Qa)[1]||null;!tt&&u.self&&u.self.location&&(tt=u.self.location.protocol.slice(0,-1)),J=!ia.test(tt?tt.toLowerCase():"")}O=J}if(O)ct(g,"complete"),ct(g,"success");else{g.o=6;try{var xe=Mr(g)>2?g.g.statusText:""}catch{xe=""}g.l=xe+" ["+g.ca()+"]",Za(g)}}finally{xr(g)}}}}function xr(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const O=g.g;g.g=null,T||ct(g,"ready");try{O.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Mr(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Mr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),Ke(T)}};function sa(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ca(g){const T={};g=(g.g&&Mr(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<g.length;J++){if(k(g[J]))continue;var O=Br(g[J]);const xe=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const De=T[xe]||[];T[xe]=De,De.push(O)}D(T,function(J){return J.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(g,T,O){return O&&O.internalChannelParams&&O.internalChannelParams[g]||T}function ka(g){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,g),this.Za=Hi("retryDelaySeedMs",1e4,g),this.Ta=Hi("forwardChannelMaxRetries",2,g),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Sa(g&&g.concurrentRequestLimit),this.Ba=new Wl,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ka.prototype,n.ka=8,n.I=1,n.connect=function(g,T,O,J){Et(0),this.W=g,this.H=T||{},O&&J!==void 0&&(this.H.OSID=O,this.H.OAID=J),this.F=this.X,this.J=We(this,null,this.W),aa(this)};function Hs(g){if(ks(g),g.I==3){var T=g.V++,O=sr(g.J);if(In(O,"SID",g.M),In(O,"RID",T),In(O,"TYPE","terminate"),Gi(g,O),T=new pi(g,g.j,T),T.M=2,T.A=qs(sr(O)),O=!1,u.navigator&&u.navigator.sendBeacon)try{O=u.navigator.sendBeacon(T.A.toString(),"")}catch{}!O&&u.Image&&(new Image().src=T.A,O=!0),O||(T.g=ht(T.j,null),T.g.ea(T.A)),T.F=Date.now(),xs(T)}ze(g)}function us(g){g.g&&(Lo(g),g.g.cancel(),g.g=null)}function ks(g){us(g),g.v&&(u.clearTimeout(g.v),g.v=null),B(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function aa(g){if(!si(g.h)&&!g.m){g.m=!0;var T=g.Ea;me||P(),ue||(me(),ue=!0),V.add(T,g),g.D=0}}function Xl(g,T){return Ni(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=fn(d(g.Ea,g,T),ye(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const xe=new pi(this,this.j,g);let De=this.o;if(this.U&&(De?(De=ge(De),I(De,this.U)):De=this.U),this.u!==null||this.R||(xe.J=De,De=null),this.S)e:{for(var T=0,O=0;O<this.i.length;O++){t:{var J=this.i[O];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(T+=J,T>4096){T=O;break e}if(T===4096||O===this.i.length-1){T=O+1;break e}}T=1e3}else T=1e3;T=cs(this,xe,T),O=sr(this.J),In(O,"RID",g),In(O,"CVER",22),this.G&&In(O,"X-HTTP-Session-Id",this.G),Gi(this,O),De&&(this.R?T="headers="+cr(Ci(De))+"&"+T:this.u&&ls(O,this.u,De)),xa(this.h,xe),this.Ra&&In(O,"TYPE","init"),this.S?(In(O,"$req",T),In(O,"SID","null"),xe.U=!0,Or(xe,O,null)):Or(xe,O,T),this.I=2}}else this.I==3&&(g?dl(this,g):this.i.length==0||si(this.h)||dl(this))};function dl(g,T){var O;T?O=T.l:O=g.V++;const J=sr(g.J);In(J,"SID",g.M),In(J,"RID",O),In(J,"AID",g.K),Gi(g,J),g.u&&g.o&&ls(J,g.u,g.o),O=new pi(g,g.j,O,g.D+1),g.u===null&&(O.J=g.o),T&&(g.i=T.G.concat(g.i)),T=cs(g,O,1e3),O.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),xa(g.h,O),Or(O,J,T)}function Gi(g,T){g.H&&Ie(g.H,function(O,J){In(T,J,O)}),g.l&&Ie({},function(O,J){In(T,J,O)})}function cs(g,T,O){O=Math.min(g.i.length,O);const J=g.l?d(g.l.Ka,g.l,g):null;e:{var xe=g.i;let Yt=-1;for(;;){const Dn=["count="+O];Yt==-1?O>0?(Yt=xe[0].g,Dn.push("ofs="+Yt)):Yt=0:Dn.push("ofs="+Yt);let gn=!0;for(let Kn=0;Kn<O;Kn++){var De=xe[Kn].g;const Hr=xe[Kn].map;if(De-=Yt,De<0)Yt=Math.max(0,xe[Kn].g-100),gn=!1;else try{De="req"+De+"_"||"";try{var tt=Hr instanceof Map?Hr:Object.entries(Hr);for(const[vi,Wn]of tt){let bi=Wn;c(Wn)&&(bi=et(Wn)),Dn.push(De+vi+"="+encodeURIComponent(bi))}}catch(vi){throw Dn.push(De+"type="+encodeURIComponent("_badmap")),vi}}catch{J&&J(Hr)}}if(gn){tt=Dn.join("&");break e}}tt=void 0}return g=g.i.splice(0,O),T.G=g,tt}function pl(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;me||P(),ue||(me(),ue=!0),V.add(T,g),g.A=0}}function oa(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=fn(d(g.Da,g),ye(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,S(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=fn(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),us(this),S(this))};function Lo(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function S(g){g.g=new pi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=sr(g.na);In(T,"RID","rpc"),In(T,"SID",g.M),In(T,"AID",g.K),In(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&In(T,"TO",g.ia),In(T,"TYPE","xmlhttp"),Gi(g,T),g.u&&g.o&&ls(T,g.u,g.o),g.O&&(g.g.H=g.O);var O=g.g;g=g.ba,O.M=1,O.A=qs(sr(T)),O.u=null,O.R=!0,ii(O,g)}n.Va=function(){this.C!=null&&(this.C=null,us(this),oa(this),Et(19))};function B(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function ae(g,T){var O=null;if(g.g==T){B(g),Lo(g),g.g=null;var J=2}else if(Ea(g.h,T))O=T.G,Vs(g.h,T),J=1;else return;if(g.I!=0){if(T.o)if(J==1){O=T.u?T.u.length:0,T=Date.now()-T.F;var xe=g.D;J=ln(),ct(J,new Dt(J,O)),aa(g)}else pl(g);else if(xe=T.m,xe==3||xe==0&&T.X>0||!(J==1&&Xl(g,T)||J==2&&oa(g)))switch(O&&O.length>0&&(T=g.h,T.i=T.i.concat(O)),xe){case 1:Ae(g,5);break;case 4:Ae(g,10);break;case 3:Ae(g,6);break;default:Ae(g,2)}}}function ye(g,T){let O=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(O*=2),O*T}function Ae(g,T){if(g.j.info("Error code "+T),T==2){var O=d(g.bb,g),J=g.Ua;const xe=!J;J=new Ii(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yn(J,"https"),qs(J),xe?fl(J.toString(),O):os(J.toString(),O)}else Et(2);g.I=0,g.l&&g.l.pa(T),ze(g),ks(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function ze(g){if(g.I=0,g.ja=[],g.l){const T=Xa(g.h);(T.length!=0||g.i.length!=0)&&(M(g.ja,T),M(g.ja,g.i),g.h.i.length=0,v(g.i),g.i.length=0),g.l.oa()}}function We(g,T,O){var J=O instanceof Ii?sr(O):new Ii(O);if(J.g!="")T&&(J.g=T+"."+J.g),Ta(J,J.u);else{var xe=u.location;J=xe.protocol,T=T?T+"."+xe.hostname:xe.hostname,xe=+xe.port;const De=new Ii(null);J&&Yn(De,J),T&&(De.g=T),xe&&Ta(De,xe),O&&(De.h=O),J=De}return O=g.G,T=g.wa,O&&T&&In(J,O,T),In(J,"VER",g.ka),Gi(g,J),J}function ht(g,T,O){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new qn(new Ut({ab:O})):new qn(g.ma),T.Fa(g.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bt(){}n=bt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ft(){}Ft.prototype.g=function(g,T){return new Ct(g,T)};function Ct(g,T){qe.call(this),this.g=new ka(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!k(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!k(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new $n(this)}_(Ct,qe),Ct.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){Hs(this.g)},Ct.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var O={};O.__data__=g,g=O}else this.v&&(O={},O.__data__=et(g),g=O);T.i.push(new $l(T.Ya++,g)),T.I==3&&aa(T)},Ct.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Ct.Z.N.call(this)};function dn(g){Mt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const O in T){g=O;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}_(dn,Mt);function tr(){Rt.call(this),this.status=1}_(tr,Rt);function $n(g){this.g=g}_($n,bt),$n.prototype.ra=function(){ct(this.g,"a")},$n.prototype.qa=function(g){ct(this.g,new dn(g))},$n.prototype.pa=function(g){ct(this.g,new tr)},$n.prototype.oa=function(){ct(this.g,"b")},Ft.prototype.createWebChannel=Ft.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,p4=function(){return new Ft},d4=function(){return ln()},f4=zt,X0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jn.NO_ERROR=0,jn.TIMEOUT=8,jn.HTTP_ERROR=6,pm=jn,Vn.COMPLETE="complete",h4=Vn,Cn.EventType=Ot,Ot.OPEN="a",Ot.CLOSE="b",Ot.ERROR="c",Ot.MESSAGE="d",qe.prototype.listen=qe.prototype.J,ud=Cn,qn.prototype.listenOnce=qn.prototype.K,qn.prototype.getLastError=qn.prototype.Ha,qn.prototype.getLastErrorCode=qn.prototype.ya,qn.prototype.getStatus=qn.prototype.ca,qn.prototype.getResponseJson=qn.prototype.La,qn.prototype.getResponseText=qn.prototype.la,qn.prototype.send=qn.prototype.ea,qn.prototype.setWithCredentials=qn.prototype.Fa,c4=qn}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});const Eb="@firebase/firestore",xb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sf="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new ag("@firebase/firestore");function Ch(){return Rc.logLevel}function pt(n,...e){if(Rc.logLevel<=xn.DEBUG){const t=e.map(q2);Rc.debug(`Firestore (${sf}): ${n}`,...t)}}function ql(n,...e){if(Rc.logLevel<=xn.ERROR){const t=e.map(q2);Rc.error(`Firestore (${sf}): ${n}`,...t)}}function Kh(n,...e){if(Rc.logLevel<=xn.WARN){const t=e.map(q2);Rc.warn(`Firestore (${sf}): ${n}`,...t)}}function q2(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,m4(n,r,t)}function m4(n,e,t){let r=`FIRESTORE (${sf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ql(r),new Error(r)}function Hn(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||m4(e,s,r)}function on(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends xo{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bs.UNAUTHENTICATED)))}shutdown(){}}class _N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class wN{constructor(e){this.t=e,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Hn(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Vu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vu,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vu)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Hn(typeof r.accessToken=="string",31837,{l:r}),new g4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Hn(e===null||typeof e=="string",2055,{h:e}),new bs(e)}}class AN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new AN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(bs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ya(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Hn(this.o===void 0,3512);const r=o=>{o.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,pt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Hn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=xN(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Tn(n,e){return n<e?-1:n>e?1:0}function Q0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return e0(s)===e0(o)?Tn(s,o):e0(s)?1:-1}return Tn(n.length,e.length)}const TN=55296,NN=57343;function e0(n){const e=n.charCodeAt(0);return e>=TN&&e<=NN}function Wh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__name__";class Ko{constructor(e,t,r){t===void 0?t=0:t>e.length&&Wt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Wt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ko.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ko?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Ko.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Tn(e.length,t.length)}static compareSegments(e,t){const r=Ko.isNumericId(e),s=Ko.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Ko.extractNumericId(e).compare(Ko.extractNumericId(t)):Q0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bu.fromString(e.substring(4,e.length-2))}}class Rr extends Ko{construct(e,t,r){return new Rr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new xt(Ze.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Rr(t)}static emptyPath(){return new Rr([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ns extends Ko{construct(e,t,r){return new ns(e,t,r)}static isValidIdentifier(e){return IN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ns.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nb}static keyField(){return new ns([Nb])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new xt(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new xt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new xt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ns(t)}static emptyPath(){return new ns([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(Rr.fromString(e))}static fromName(e){return new Vt(Rr.fromString(e).popFirst(5))}static empty(){return new Vt(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new Rr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n,e,t){if(!t)throw new xt(Ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kN(n,e,t,r){if(e===!0&&r===!0)throw new xt(Ze.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ib(n){if(!Vt.isDocumentKey(n))throw new xt(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function y4(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function G2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Wt(12329,{type:typeof n})}function Qo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=G2(n);throw new xt(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,e){const t={typeString:n};return e&&(t.value=e),t}function Fd(n,e){if(!y4(n))throw new xt(Ze.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new xt(Ze.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=-62135596800,kb=1e6;class mr{static now(){return mr.fromMillis(Date.now())}static fromDate(e){return mr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*kb);return new mr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Cb)throw new xt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kb}_compareTo(e){return this.seconds===e.seconds?Tn(this.nanoseconds,e.nanoseconds):Tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fd(e,mr._jsonSchema))return new mr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mr._jsonSchemaVersion="firestore/timestamp/1.0",mr._jsonSchema={type:hi("string",mr._jsonSchemaVersion),seconds:hi("number"),nanoseconds:hi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{static fromTimestamp(e){return new sn(e)}static min(){return new sn(new mr(0,0))}static max(){return new sn(new mr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td=-1;function RN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=sn.fromTimestamp(r===1e9?new mr(t+1,0):new mr(t,r));return new qu(s,Vt.empty(),e)}function LN(n){return new qu(n.readTime,n.key,Td)}class qu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new qu(sn.min(),Vt.empty(),Td)}static max(){return new qu(sn.max(),Vt.empty(),Td)}}function PN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Vt.comparator(n.documentKey,e.documentKey),t!==0?t:Tn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ON{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(n){if(n.code!==Ze.FAILED_PRECONDITION||n.message!==DN)throw n;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xe(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Xe?t:Xe.resolve(t)}catch(t){return Xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Xe.reject(t)}static resolve(e){return new Xe(((t,r)=>{t(e)}))}static reject(e){return new Xe(((t,r)=>{r(e)}))}static waitFor(e){return new Xe(((t,r)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=Xe.resolve(!1);for(const r of e)t=t.next((s=>s?Xe.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Xe(((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((p=>{u[d]=p,++c,c===o&&r(u)}),(p=>s(p)))}}))}static doWhile(e,t){return new Xe(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function MN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function of(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}og.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=-1;function lg(n){return n==null}function Pm(n){return n===0&&1/n==-1/0}function jN(n){return typeof n=="number"&&Number.isInteger(n)&&!Pm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="";function UN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rb(e)),e=FN(n.get(t),e);return Rb(e)}function FN(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case v4:t+="";break;default:t+=o}}return t}function Rb(n){return n+v4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function b4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,t){this.comparator=e,this.root=t||ts.EMPTY}insert(e,t){return new Lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ts.BLACK,null,null))}remove(e){return new Lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ts.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qp(this.root,e,this.comparator,!0)}}class Qp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ts{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??ts.RED,this.left=s??ts.EMPTY,this.right=o??ts.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new ts(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ts.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ts.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ts.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ts.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Wt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Wt(27949);return e+(this.isRed()?0:1)}}ts.EMPTY=null,ts.RED=!0,ts.BLACK=!1;ts.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt(57766)}get value(){throw Wt(16141)}get color(){throw Wt(16727)}get left(){throw Wt(29726)}get right(){throw Wt(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new ts(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.comparator=e,this.data=new Lr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pb(this.data.getIterator())}getIteratorFrom(e){return new Pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof xi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new xi(this.comparator);return t.data=e,t}}class Pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.fields=e,e.sort(ns.comparator)}static empty(){return new va([])}unionWith(e){let t=new xi(ns.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new va(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _4("Invalid base64 string: "+o):o}})(e);return new rs(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new rs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rs.EMPTY_BYTE_STRING=new rs("");const BN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hu(n){if(Hn(!!n,39018),typeof n=="string"){let e=0;const t=BN.exec(n);if(Hn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Jr(n.seconds),nanos:Jr(n.nanos)}}function Jr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gu(n){return typeof n=="string"?rs.fromBase64String(n):rs.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="server_timestamp",A4="__type__",S4="__previous_value__",E4="__local_write_time__";function $2(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[A4])==null?void 0:r.stringValue)===w4}function ug(n){const e=n.mapValue.fields[S4];return $2(e)?ug(e):e}function Nd(n){const e=Hu(n.mapValue.fields[E4].timestampValue);return new mr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t,r,s,o,u,c,f,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=p}}const Dm="(default)";class Id{constructor(e,t){this.projectId=e,this.database=t||Dm}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database===Dm}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="__type__",zN="__max__",Jp={mapValue:{}},T4="__vector__",Om="value";function Yu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$2(n)?4:HN(n)?9007199254740991:qN(n)?10:11:Wt(28295,{value:n})}function sl(n,e){if(n===e)return!0;const t=Yu(n);if(t!==Yu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nd(n).isEqual(Nd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Hu(s.timestampValue),c=Hu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Gu(s.bytesValue).isEqual(Gu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Jr(s.geoPointValue.latitude)===Jr(o.geoPointValue.latitude)&&Jr(s.geoPointValue.longitude)===Jr(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Jr(s.integerValue)===Jr(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Jr(s.doubleValue),c=Jr(o.doubleValue);return u===c?Pm(u)===Pm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return Wh(n.arrayValue.values||[],e.arrayValue.values||[],sl);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(Lb(u)!==Lb(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!sl(u[f],c[f])))return!1;return!0})(n,e);default:return Wt(52216,{left:n})}}function Cd(n,e){return(n.values||[]).find((t=>sl(t,e)))!==void 0}function Xh(n,e){if(n===e)return 0;const t=Yu(n),r=Yu(e);if(t!==r)return Tn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Tn(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=Jr(o.integerValue||o.doubleValue),f=Jr(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return Db(n.timestampValue,e.timestampValue);case 4:return Db(Nd(n),Nd(e));case 5:return Q0(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=Gu(o),f=Gu(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const p=Tn(c[d],f[d]);if(p!==0)return p}return Tn(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=Tn(Jr(o.latitude),Jr(u.latitude));return c!==0?c:Tn(Jr(o.longitude),Jr(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Ob(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var A,v,M,U;const c=o.fields||{},f=u.fields||{},d=(A=c[Om])==null?void 0:A.arrayValue,p=(v=f[Om])==null?void 0:v.arrayValue,_=Tn(((M=d==null?void 0:d.values)==null?void 0:M.length)||0,((U=p==null?void 0:p.values)==null?void 0:U.length)||0);return _!==0?_:Ob(d,p)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Jp.mapValue&&u===Jp.mapValue)return 0;if(o===Jp.mapValue)return 1;if(u===Jp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let _=0;_<f.length&&_<p.length;++_){const A=Q0(f[_],p[_]);if(A!==0)return A;const v=Xh(c[f[_]],d[p[_]]);if(v!==0)return v}return Tn(f.length,p.length)})(n.mapValue,e.mapValue);default:throw Wt(23264,{he:t})}}function Db(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Tn(n,e);const t=Hu(n),r=Hu(e),s=Tn(t.seconds,r.seconds);return s!==0?s:Tn(t.nanos,r.nanos)}function Ob(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Xh(t[s],r[s]);if(o)return o}return Tn(t.length,r.length)}function Qh(n){return J0(n)}function J0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Hu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Gu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Vt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=J0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${J0(t.fields[u])}`;return s+"}"})(n.mapValue):Wt(61005,{value:n})}function mm(n){switch(Yu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ug(n);return e?16+mm(e):16;case 5:return 2*n.stringValue.length;case 6:return Gu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+mm(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Xu(r.fields,((o,u)=>{s+=o.length+mm(u)})),s})(n.mapValue);default:throw Wt(13486,{value:n})}}function Z0(n){return!!n&&"integerValue"in n}function K2(n){return!!n&&"arrayValue"in n}function Mb(n){return!!n&&"nullValue"in n}function jb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gm(n){return!!n&&"mapValue"in n}function qN(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[x4])==null?void 0:r.stringValue)===T4}function pd(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Xu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=pd(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pd(n.arrayValue.values[t]);return e}return{...n}}function HN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.value=e}static empty(){return new Zs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pd(t)}setAll(e){let t=ns.emptyPath(),r={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=pd(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());gm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];gm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Xu(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Zs(pd(this.value))}}function N4(n){const e=[];return Xu(n.fields,((t,r)=>{const s=new ns([t]);if(gm(r)){const o=N4(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new va(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new _s(e,0,sn.min(),sn.min(),sn.min(),Zs.empty(),0)}static newFoundDocument(e,t,r,s){return new _s(e,1,t,sn.min(),r,s,0)}static newNoDocument(e,t){return new _s(e,2,t,sn.min(),sn.min(),Zs.empty(),0)}static newUnknownDocument(e,t){return new _s(e,3,t,sn.min(),sn.min(),Zs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(sn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _s&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _s(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t){this.position=e,this.inclusive=t}}function Ub(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Vt.comparator(Vt.fromName(u.referenceValue),t.key):r=Xh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Fb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sl(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,t="asc"){this.field=e,this.dir=t}}function GN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{}class Ei extends I4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $N(e,t,r):t==="array-contains"?new XN(e,r):t==="in"?new QN(e,r):t==="not-in"?new JN(e,r):t==="array-contains-any"?new ZN(e,r):new Ei(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new KN(e,r):new WN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xh(t,this.value)):t!==null&&Yu(this.value)===Yu(t)&&this.matchesComparison(Xh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class al extends I4{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new al(e,t)}matches(e){return C4(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C4(n){return n.op==="and"}function k4(n){return YN(n)&&C4(n)}function YN(n){for(const e of n.filters)if(e instanceof al)return!1;return!0}function e2(n){if(n instanceof Ei)return n.field.canonicalString()+n.op.toString()+Qh(n.value);if(k4(n))return n.filters.map((e=>e2(e))).join(",");{const e=n.filters.map((t=>e2(t))).join(",");return`${n.op}(${e})`}}function R4(n,e){return n instanceof Ei?(function(r,s){return s instanceof Ei&&r.op===s.op&&r.field.isEqual(s.field)&&sl(r.value,s.value)})(n,e):n instanceof al?(function(r,s){return s instanceof al&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,c)=>o&&R4(u,s.filters[c])),!0):!1})(n,e):void Wt(19439)}function L4(n){return n instanceof Ei?(function(t){return`${t.field.canonicalString()} ${t.op} ${Qh(t.value)}`})(n):n instanceof al?(function(t){return t.op.toString()+" {"+t.getFilters().map(L4).join(" ,")+"}"})(n):"Filter"}class $N extends Ei{constructor(e,t,r){super(e,t,r),this.key=Vt.fromName(r.referenceValue)}matches(e){const t=Vt.comparator(e.key,this.key);return this.matchesComparison(t)}}class KN extends Ei{constructor(e,t){super(e,"in",t),this.keys=P4("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class WN extends Ei{constructor(e,t){super(e,"not-in",t),this.keys=P4("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function P4(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Vt.fromName(r.referenceValue)))}class XN extends Ei{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return K2(t)&&Cd(t.arrayValue,this.value)}}class QN extends Ei{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cd(this.value.arrayValue,t)}}class JN extends Ei{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cd(this.value.arrayValue,t)}}class ZN extends Ei{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!K2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Cd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function Bb(n,e=null,t=[],r=[],s=null,o=null,u=null){return new eI(n,e,t,r,s,o,u)}function W2(n){const e=on(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>e2(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),lg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Qh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Qh(r))).join(",")),e.Te=t}return e.Te}function X2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!R4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Fb(n.startAt,e.startAt)&&Fb(n.endAt,e.endAt)}function t2(n){return Vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tI(n,e,t,r,s,o,u,c){return new cg(n,e,t,r,s,o,u,c)}function hg(n){return new cg(n)}function Vb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nI(n){return n.collectionGroup!==null}function md(n){const e=on(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new xi(ns.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new jm(o,r))})),t.has(ns.keyField().canonicalString())||e.Ie.push(new jm(ns.keyField(),r))}return e.Ie}function Jo(n){const e=on(n);return e.Ee||(e.Ee=rI(e,md(n))),e.Ee}function rI(n,e){if(n.limitType==="F")return Bb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new jm(s.field,o)}));const t=n.endAt?new Mm(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Mm(n.startAt.position,n.startAt.inclusive):null;return Bb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function n2(n,e,t){return new cg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function fg(n,e){return X2(Jo(n),Jo(e))&&n.limitType===e.limitType}function D4(n){return`${W2(Jo(n))}|lt:${n.limitType}`}function kh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>L4(s))).join(", ")}]`),lg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Qh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Qh(s))).join(",")),`Target(${r})`})(Jo(n))}; limitType=${n.limitType})`}function dg(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Vt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of md(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,c,f){const d=Ub(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,md(r),s)||r.endAt&&!(function(u,c,f){const d=Ub(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,md(r),s))})(n,e)}function iI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function O4(n){return(e,t)=>{let r=!1;for(const s of md(n)){const o=sI(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function sI(n,e,t){const r=n.field.isKeyField()?Vt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Xh(f,d):Wt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Wt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xu(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return b4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=new Lr(Vt.comparator);function Hl(){return aI}const M4=new Lr(Vt.comparator);function cd(...n){let e=M4;for(const t of n)e=e.insert(t.key,t);return e}function j4(n){let e=M4;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Tc(){return gd()}function U4(){return gd()}function gd(){return new Vc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const oI=new Lr(Vt.comparator),lI=new xi(Vt.comparator);function Nn(...n){let e=lI;for(const t of n)e=e.add(t);return e}const uI=new xi(Tn);function cI(){return uI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pm(e)?"-0":e}}function F4(n){return{integerValue:""+n}}function B4(n,e){return jN(e)?F4(e):Q2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this._=void 0}}function hI(n,e,t){return n instanceof Um?(function(s,o){const u={fields:{[A4]:{stringValue:w4},[E4]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&$2(o)&&(o=ug(o)),o&&(u.fields[S4]=o),{mapValue:u}})(t,e):n instanceof kd?z4(n,e):n instanceof Rd?q4(n,e):(function(s,o){const u=V4(s,o),c=zb(u)+zb(s.Ae);return Z0(u)&&Z0(s.Ae)?F4(c):Q2(s.serializer,c)})(n,e)}function fI(n,e,t){return n instanceof kd?z4(n,e):n instanceof Rd?q4(n,e):t}function V4(n,e){return n instanceof Ld?(function(r){return Z0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Um extends pg{}class kd extends pg{constructor(e){super(),this.elements=e}}function z4(n,e){const t=H4(e);for(const r of n.elements)t.some((s=>sl(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Rd extends pg{constructor(e){super(),this.elements=e}}function q4(n,e){let t=H4(e);for(const r of n.elements)t=t.filter((s=>!sl(s,r)));return{arrayValue:{values:t}}}class Ld extends pg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function zb(n){return Jr(n.integerValue||n.doubleValue)}function H4(n){return K2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t){this.field=e,this.transform=t}}function pI(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof kd&&s instanceof kd||r instanceof Rd&&s instanceof Rd?Wh(r.elements,s.elements,sl):r instanceof Ld&&s instanceof Ld?sl(r.Ae,s.Ae):r instanceof Um&&s instanceof Um})(n.transform,e.transform)}class mI{constructor(e,t){this.version=e,this.transformResults=t}}class Zo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zo}static exists(e){return new Zo(void 0,e)}static updateTime(e){return new Zo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ym(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class mg{}function G4(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new $4(n.key,Zo.none()):new Bd(n.key,n.data,Zo.none());{const t=n.data,r=Zs.empty();let s=new xi(ns.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Qu(n.key,r,new va(s.toArray()),Zo.none())}}function gI(n,e,t){n instanceof Bd?(function(s,o,u){const c=s.value.clone(),f=Hb(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Qu?(function(s,o,u){if(!ym(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=Hb(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(Y4(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function yd(n,e,t,r){return n instanceof Bd?(function(o,u,c,f){if(!ym(o.precondition,u))return c;const d=o.value.clone(),p=Gb(o.fieldTransforms,f,u);return d.setAll(p),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Qu?(function(o,u,c,f){if(!ym(o.precondition,u))return c;const d=Gb(o.fieldTransforms,f,u),p=u.data;return p.setAll(Y4(o)),p.setAll(d),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(o,u,c){return ym(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function yI(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=V4(r.transform,s||null);o!=null&&(t===null&&(t=Zs.empty()),t.set(r.field,o))}return t||null}function qb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wh(r,s,((o,u)=>pI(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bd extends mg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qu extends mg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Y4(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Hb(n,e,t){const r=new Map;Hn(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,fI(u,c,t[s]))}return r}function Gb(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,hI(o,u,e))}return r}class $4 extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vI extends mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&gI(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=yd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=yd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=U4();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=G4(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(sn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Nn())}isEqual(e){return this.batchId===e.batchId&&Wh(this.mutations,e.mutations,((t,r)=>qb(t,r)))&&Wh(this.baseMutations,e.baseMutations,((t,r)=>qb(t,r)))}}class J2{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Hn(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return oI})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new J2(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui,Ln;function AI(n){switch(n){case Ze.OK:return Wt(64938);case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0;default:return Wt(15467,{code:n})}}function K4(n){if(n===void 0)return ql("GRPC error has no .code"),Ze.UNKNOWN;switch(n){case ui.OK:return Ze.OK;case ui.CANCELLED:return Ze.CANCELLED;case ui.UNKNOWN:return Ze.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Ze.INTERNAL;case ui.UNAVAILABLE:return Ze.UNAVAILABLE;case ui.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case ui.NOT_FOUND:return Ze.NOT_FOUND;case ui.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case ui.ABORTED:return Ze.ABORTED;case ui.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case ui.DATA_LOSS:return Ze.DATA_LOSS;default:return Wt(39323,{code:n})}}(Ln=ui||(ui={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Bu([4294967295,4294967295],0);function Yb(n){const e=SI().encode(n),t=new u4;return t.update(e),new Uint8Array(t.digest())}function $b(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Bu([t,r],0),new Bu([s,o],0)]}class Z2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new hd(`Invalid padding: ${t}`);if(r<0)throw new hd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new hd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Bu.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Bu.fromNumber(r)));return s.compare(EI)===1&&(s=new Bu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Yb(e),[r,s]=$b(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Z2(o,s,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=Yb(e),[r,s]=$b(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class hd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Vd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new gg(sn.min(),s,new Lr(Tn),Hl(),Nn())}}class Vd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vd(r,t,Nn(),Nn(),Nn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class W4{constructor(e,t){this.targetId=e,this.Ce=t}}class X4{constructor(e,t,r=rs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Kb{constructor(){this.ve=0,this.Fe=Wb(),this.Me=rs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nn(),t=Nn(),r=Nn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Wt(38017,{changeType:o})}})),new Vd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Wb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Hn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hl(),this.Je=Zp(),this.He=Zp(),this.Ye=new Lr(Tn)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Wt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(t2(o))if(r===0){const u=new Vt(o.path);this.et(t,u,_s.newNoDocument(u,sn.min()))}else Hn(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=Gu(r).toUint8Array()}catch(f){if(f instanceof _4)return Kh("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Z2(u,s,o)}catch(f){return Kh(f instanceof hd?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&t2(c.target)){const f=new Vt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,_s.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=Nn();this.He.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new gg(e,t,this.Ye,this.je,r);return this.je=Hl(),this.Je=Zp(),this.He=Zp(),this.Ye=new Lr(Tn),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Kb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new xi(Tn),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new xi(Tn),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||pt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zp(){return new Lr(Vt.comparator)}function Wb(){return new Lr(Vt.comparator)}const TI={asc:"ASCENDING",desc:"DESCENDING"},NI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},II={and:"AND",or:"OR"};class CI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function r2(n,e){return n.useProto3Json||lg(e)?e:{value:e}}function Fm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kI(n,e){return Fm(n,e.toTimestamp())}function el(n){return Hn(!!n,49232),sn.fromTimestamp((function(t){const r=Hu(t);return new mr(r.seconds,r.nanos)})(n))}function ey(n,e){return i2(n,e).canonicalString()}function i2(n,e){const t=(function(s){return new Rr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function J4(n){const e=Rr.fromString(n);return Hn(rS(e),10190,{key:e.toString()}),e}function s2(n,e){return ey(n.databaseId,e.path)}function t0(n,e){const t=J4(e);if(t.get(1)!==n.databaseId.projectId)throw new xt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Vt(eS(t))}function Z4(n,e){return ey(n.databaseId,e)}function RI(n){const e=J4(n);return e.length===4?Rr.emptyPath():eS(e)}function a2(n){return new Rr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eS(n){return Hn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Xb(n,e,t){return{name:s2(n,e),fields:t.value.mapValue.fields}}function LI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Wt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(Hn(p===void 0||typeof p=="string",58123),rs.fromBase64String(p||"")):(Hn(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),rs.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const p=d.code===void 0?Ze.UNKNOWN:K4(d.code);return new xt(p,d.message||"")})(u);t=new X4(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=t0(n,r.document.name),o=el(r.document.updateTime),u=r.document.createTime?el(r.document.createTime):sn.min(),c=new Zs({mapValue:{fields:r.document.fields}}),f=_s.newFoundDocument(s,o,u,c),d=r.targetIds||[],p=r.removedTargetIds||[];t=new vm(d,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=t0(n,r.document),o=r.readTime?el(r.readTime):sn.min(),u=_s.newNoDocument(s,o),c=r.removedTargetIds||[];t=new vm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=t0(n,r.document),o=r.removedTargetIds||[];t=new vm([],o,s,null)}else{if(!("filter"in e))return Wt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new wI(s,o),c=r.targetId;t=new W4(c,u)}}return t}function PI(n,e){let t;if(e instanceof Bd)t={update:Xb(n,e.key,e.value)};else if(e instanceof $4)t={delete:s2(n,e.key)};else if(e instanceof Qu)t={update:Xb(n,e.key,e.data),updateMask:zI(e.fieldMask)};else{if(!(e instanceof vI))return Wt(16599,{Vt:e.type});t={verify:s2(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof Um)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof kd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Rd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ld)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw Wt(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:kI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Wt(27497)})(n,e.precondition)),t}function DI(n,e){return n&&n.length>0?(Hn(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?el(s.updateTime):el(o);return u.isEqual(sn.min())&&(u=el(o)),new mI(u,s.transformResults||[])})(t,e)))):[]}function OI(n,e){return{documents:[Z4(n,e.path)]}}function MI(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Z4(n,s);const o=(function(d){if(d.length!==0)return nS(al.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((p=>(function(A){return{field:Rh(A.field),direction:FI(A.dir)}})(p)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=r2(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function jI(n){let e=RI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Hn(r===1,65062);const p=t.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=(function(_){const A=tS(_);return A instanceof al&&k4(A)?A.getFilters():[A]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((A=>(function(M){return new jm(Lh(M.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(A)))})(t.orderBy));let c=null;t.limit&&(c=(function(_){let A;return A=typeof _=="object"?_.value:_,lg(A)?null:A})(t.limit));let f=null;t.startAt&&(f=(function(_){const A=!!_.before,v=_.values||[];return new Mm(v,A)})(t.startAt));let d=null;return t.endAt&&(d=(function(_){const A=!_.before,v=_.values||[];return new Mm(v,A)})(t.endAt)),tI(e,s,u,o,c,"F",f,d)}function UI(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Lh(t.unaryFilter.field);return Ei.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Lh(t.unaryFilter.field);return Ei.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Lh(t.unaryFilter.field);return Ei.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Lh(t.unaryFilter.field);return Ei.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Wt(61313);default:return Wt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ei.create(Lh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Wt(58110);default:return Wt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return al.create(t.compositeFilter.filters.map((r=>tS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Wt(1026)}})(t.compositeFilter.op))})(n):Wt(30097,{filter:n})}function FI(n){return TI[n]}function BI(n){return NI[n]}function VI(n){return II[n]}function Rh(n){return{fieldPath:n.canonicalString()}}function Lh(n){return ns.fromServerFormat(n.fieldPath)}function nS(n){return n instanceof Ei?(function(t){if(t.op==="=="){if(jb(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jb(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NOT_NAN"}};if(Mb(t.value))return{unaryFilter:{field:Rh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rh(t.field),op:BI(t.op),value:t.value}}})(n):n instanceof al?(function(t){const r=t.getFilters().map((s=>nS(s)));return r.length===1?r[0]:{compositeFilter:{op:VI(t.op),filters:r}}})(n):Wt(54877,{filter:n})}function zI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function rS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,t,r,s,o=sn.min(),u=sn.min(),c=rs.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Mu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.yt=e}}function HI(n){const e=jI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?n2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Cn=new YI}addToCollectionParentIndex(e,t){return this.Cn.add(t),Xe.resolve()}getCollectionParents(e,t){return Xe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Xe.resolve()}deleteFieldIndex(e,t){return Xe.resolve()}deleteAllFieldIndexes(e){return Xe.resolve()}createTargetIndexes(e,t){return Xe.resolve()}getDocumentsMatchingTarget(e,t){return Xe.resolve(null)}getIndexType(e,t){return Xe.resolve(0)}getFieldIndexes(e,t){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,t){return Xe.resolve(qu.min())}getMinOffsetFromCollectionGroup(e,t){return Xe.resolve(qu.min())}updateCollectionGroup(e,t,r){return Xe.resolve()}updateIndexEntries(e,t){return Xe.resolve()}}class YI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new xi(Rr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xi(Rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iS=41943040;class Js{static withCacheSize(e){return new Js(e,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(iS,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jh(0)}static cr(){return new Jh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LruGarbageCollector",$I=1048576;function Zb([n,e],[t,r]){const s=Tn(n,t);return s===0?Tn(e,r):s}class KI{constructor(e){this.Ir=e,this.buffer=new xi(Zb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Zb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pt(Jb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){of(t)?pt(Jb,"Ignoring IndexedDB error during garbage collection: ",t):await af(t)}await this.Vr(3e5)}))}}class XI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Xe.resolve(og.ce);const r=new KI(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(Qb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,c,f,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,c=Date.now(),this.removeTargets(e,r,t)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(d=Date.now(),Ch()<=xn.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-p}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function QI(n,e){return new XI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.changes=new Vc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_s.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Xe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&yd(r.mutation,s,va.empty(),mr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Nn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Nn()){const s=Tc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=cd();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Tc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Nn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,s){let o=Hl();const u=gd(),c=(function(){return gd()})();return t.forEach(((f,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Qu)?o=o.insert(d.key,d):p!==void 0?(u.set(d.key,p.mutation.getFieldMask()),yd(p.mutation,d,p.mutation.getFieldMask(),mr.now())):u.set(d.key,va.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,p)=>u.set(d,p))),t.forEach(((d,p)=>c.set(d,new ZI(p,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=gd();let s=new Lr(((u,c)=>u-c)),o=Nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let p=r.get(f)||va.empty();p=c.applyToLocalView(d,p),r.set(f,p);const _=(s.get(c.batchId)||Nn()).add(f);s=s.insert(c.batchId,_)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,p=f.value,_=U4();p.forEach((A=>{if(!o.has(A)){const v=G4(t.get(A),r.get(A));v!==null&&_.set(A,v),o=o.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,_))}return Xe.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Vt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Xe.resolve(Tc());let c=Td,f=o;return u.next((d=>Xe.forEach(d,((p,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),o.get(p)?Xe.resolve():this.remoteDocumentCache.getEntry(e,p).next((A=>{f=f.insert(p,A)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Nn()))).next((p=>({batchId:c,changes:j4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vt(t)).next((r=>{let s=cd();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=cd();return this.indexManager.getCollectionParents(e,o).next((c=>Xe.forEach(c,(f=>{const d=(function(_,A){return new cg(A,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((p=>{p.forEach(((_,A)=>{u=u.insert(_,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const p=d.getKey();u.get(p)===null&&(u=u.insert(p,_s.newInvalidDocument(p)))}));let c=cd();return u.forEach(((f,d)=>{const p=o.get(f);p!==void 0&&yd(p.mutation,d,va.empty(),mr.now()),dg(t,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Xe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:el(s.createTime)}})(t)),Xe.resolve()}getNamedQuery(e,t){return Xe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:HI(s.bundledQuery),readTime:el(s.readTime)}})(t)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(){this.overlays=new Lr(Vt.comparator),this.qr=new Map}getOverlay(e,t){return Xe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Tc();return Xe.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),Xe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Xe.resolve()}getOverlaysForCollection(e,t,r){const s=Tc(),o=t.length+1,u=new Vt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Xe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Lr(((d,p)=>d-p));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Tc(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=Tc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,p)=>c.set(d,p))),!(c.size()>=s)););return Xe.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new _I(t,r));let o=this.qr.get(t);o===void 0&&(o=Nn(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.sessionToken=rs.EMPTY_BYTE_STRING}getSessionToken(e){return Xe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(){this.Qr=new xi(ji.$r),this.Ur=new xi(ji.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new ji(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new ji(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Vt(new Rr([])),r=new ji(t,e),s=new ji(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Vt(new Rr([])),r=new ji(t,e),s=new ji(t,e+1);let o=Nn();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new ji(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ji{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Vt.comparator(e.key,t.key)||Tn(e.Yr,t.Yr)}static Kr(e,t){return Tn(e.Yr,t.Yr)||Vt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new xi(ji.$r)}checkEmpty(e){return Xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new bI(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.Zr=this.Zr.add(new ji(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Xe.resolve(u)}lookupMutationBatch(e,t){return Xe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return Xe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.mutationQueue.length===0?Y2:this.tr-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ji(t,0),s=new ji(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const c=this.Xr(u.Yr);o.push(c)})),Xe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xi(Tn);return t.forEach((s=>{const o=new ji(s,0),u=new ji(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(c=>{r=r.add(c.Yr)}))})),Xe.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Vt.isDocumentKey(o)||(o=o.child(""));const u=new ji(new Vt(o),0);let c=new xi(Tn);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Yr)),!0)}),u),Xe.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Hn(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Xe.forEach(t.mutations,(s=>{const o=new ji(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new ji(t,0),s=this.Zr.firstAfterOrEqual(r);return Xe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.ri=e,this.docs=(function(){return new Lr(Vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Xe.resolve(r?r.document.mutableCopy():_s.newInvalidDocument(t))}getEntries(e,t){let r=Hl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():_s.newInvalidDocument(s))})),Xe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Hl();const u=t.path,c=new Vt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||PN(LN(p),r)<=0||(s.has(p.key)||dg(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Xe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Wt(9500)}ii(e,t){return Xe.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new aC(this)}getSize(e){return Xe.resolve(this.size)}}class aC extends JI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Xe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.persistence=e,this.si=new Vc((t=>W2(t)),X2),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.oi=0,this._i=new ty,this.targetCount=0,this.ai=Jh.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Xe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Jh(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Xe.resolve()}updateTargetData(e,t){return this.Pr(t),Xe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Xe.waitFor(o).next((()=>s))}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Xe.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Xe.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Xe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Xe.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Xe.resolve(r)}containsKey(e,t){return Xe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t){this.ui={},this.overlays={},this.ci=new og(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=e(this),this.Pi=new oC(this),this.indexManager=new GI,this.remoteDocumentCache=(function(s){return new sC(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new qI(t),this.Ii=new tC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new iC(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){pt("MemoryPersistence","Starting transaction:",e);const s=new lC(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return Xe.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class lC extends ON{constructor(e){super(),this.currentSequenceNumber=e}}class ny{constructor(e){this.persistence=e,this.Ri=new ty,this.Vi=null}static mi(e){return new ny(e)}get fi(){if(this.Vi)return this.Vi;throw Wt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Xe.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Xe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Xe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.fi,(r=>{const s=Vt.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,sn.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Xe.or([()=>Xe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Bm{constructor(e,t){this.persistence=e,this.pi=new Vc((r=>UN(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=QI(this,t)}static mi(e,t){return new Bm(e,t)}Ei(){}di(e){return Xe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Xe.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?Xe.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((c=>{c||(r++,o.removeEntry(u,sn.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Xe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Xe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mm(e.data.value)),t}br(e,t,r){return Xe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Xe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Nn(),s=Nn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new ry(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QT()?8:MN(ws())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new uC;return this.Ss(e,t,u).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,u,c.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Ch()<=xn.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",kh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Xe.resolve()):(Ch()<=xn.DEBUG&&pt("QueryEngine","Query:",kh(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ch()<=xn.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",kh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jo(t))):Xe.resolve())}ys(e,t){if(Vb(t))return Xe.resolve(null);let r=Jo(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=n2(t,null,"F"),r=Jo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Nn(...o);return this.ps.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.Ds(t,c);return this.Cs(t,d,u,f.readTime)?this.ys(e,n2(t,null,"F")):this.vs(e,d,t,f)}))))})))))}ws(e,t,r,s){return Vb(t)||s.isEqual(sn.min())?Xe.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?Xe.resolve(null):(Ch()<=xn.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),kh(t)),this.vs(e,u,t,RN(s,Td)).next((c=>c)))}))}Ds(e,t){let r=new xi(O4(e));return t.forEach(((s,o)=>{dg(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return Ch()<=xn.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",kh(t)),this.ps.getDocumentsMatchingQuery(e,t,qu.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="LocalStore",hC=3e8;class fC{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Lr(Tn),this.xs=new Vc((o=>W2(o)),X2),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function dC(n,e,t,r){return new fC(n,e,t,r)}async function aS(n,e){const t=on(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=Nn();for(const d of s){u.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){c.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function pC(n,e){const t=on(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,p){const _=d.batch,A=_.keys();let v=Xe.resolve();return A.forEach((M=>{v=v.next((()=>p.getEntry(f,M))).next((U=>{const z=d.docVersions.get(M);Hn(z!==null,48541),U.version.compareTo(z)<0&&(_.applyToRemoteDocument(U,d),U.isValidDocument()&&(U.setReadTime(d.commitVersion),p.addEntry(U)))}))})),v.next((()=>c.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Nn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function oS(n){const e=on(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function mC(n,e){const t=on(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((p,_)=>{const A=s.get(_);if(!A)return;c.push(t.Pi.removeMatchingKeys(o,p.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,p.addedDocuments,_))));let v=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?v=v.withResumeToken(rs.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,r)),s=s.insert(_,v),(function(U,z,L){return U.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=hC?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(A,v,p)&&c.push(t.Pi.updateTargetData(o,v))}));let f=Hl(),d=Nn();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(gC(o,u,e.documentUpdates).next((p=>{f=p.ks,d=p.qs}))),!r.isEqual(sn.min())){const p=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(p)}return Xe.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.Ms=s,o)))}function gC(n,e,t){let r=Nn(),s=Nn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Hl();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(sn.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):pt(iy,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function yC(n,e){const t=on(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Y2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vC(n,e){const t=on(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,Xe.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new Mu(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function o2(n,e,t){const r=on(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!of(u))throw u;pt(iy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function e_(n,e,t){const r=on(n);let s=sn.min(),o=Nn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,p){const _=on(f),A=_.xs.get(p);return A!==void 0?Xe.resolve(_.Ms.get(A)):_.Pi.getTargetData(d,p)})(r,u,Jo(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:sn.min(),t?o:Nn()))).next((c=>(bC(r,iI(e),c),{documents:c,Qs:o})))))}function bC(n,e,t){let r=n.Os.get(e)||sn.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class t_{constructor(){this.activeTargetIds=cI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _C{constructor(){this.Mo=new t_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new t_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class r_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(n_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pt(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em=null;function l2(){return em===null?em=(function(){return 268435456+Math.round(2147483648*Math.random())})():em++,"0x"+em.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Dm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=l2(),c=this.zo(e,t.toUriEncodedString());pt(n0,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:d}=new URL(c),p=nf(d);return this.Jo(e,c,f,r,p).then((_=>(pt(n0,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw Kh(n0,`RPC '${e}' ${u} failed with error: `,_,"url: ",c,"request:",r),_}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=AC[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class xC extends SC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=l2();return new Promise(((c,f)=>{const d=new c4;d.setWithCredentials(!0),d.listenOnce(h4.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case pm.NO_ERROR:const _=d.getResponseJson();pt(ps,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),c(_);break;case pm.TIMEOUT:pt(ps,`RPC '${e}' ${u} timed out`),f(new xt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case pm.HTTP_ERROR:const A=d.getStatus();if(pt(ps,`RPC '${e}' ${u} failed with status:`,A,"response text:",d.getResponseText()),A>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const M=v==null?void 0:v.error;if(M&&M.status&&M.message){const U=(function(L){const Q=L.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(Q)>=0?Q:Ze.UNKNOWN})(M.status);f(new xt(U,M.message))}else f(new xt(Ze.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new xt(Ze.UNAVAILABLE,"Connection failed."));break;default:Wt(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pt(ps,`RPC '${e}' ${u} completed.`)}}));const p=JSON.stringify(s);pt(ps,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",p,r,15)}))}T_(e,t,r){const s=l2(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=p4(),c=d4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const p=o.join("");pt(ps,`Creating RPC '${e}' stream ${s}: ${p}`,f);const _=u.createWebChannel(p,f);this.I_(_);let A=!1,v=!1;const M=new EC({Yo:z=>{v?pt(ps,`Not sending because RPC '${e}' stream ${s} is closed:`,z):(A||(pt(ps,`Opening RPC '${e}' stream ${s} transport.`),_.open(),A=!0),pt(ps,`RPC '${e}' stream ${s} sending:`,z),_.send(z))},Zo:()=>_.close()}),U=(z,L,Q)=>{z.listen(L,(K=>{try{Q(K)}catch(te){setTimeout((()=>{throw te}),0)}}))};return U(_,ud.EventType.OPEN,(()=>{v||(pt(ps,`RPC '${e}' stream ${s} transport opened.`),M.o_())})),U(_,ud.EventType.CLOSE,(()=>{v||(v=!0,pt(ps,`RPC '${e}' stream ${s} transport closed`),M.a_(),this.E_(_))})),U(_,ud.EventType.ERROR,(z=>{v||(v=!0,Kh(ps,`RPC '${e}' stream ${s} transport errored. Name:`,z.name,"Message:",z.message),M.a_(new xt(Ze.UNAVAILABLE,"The operation could not be completed")))})),U(_,ud.EventType.MESSAGE,(z=>{var L;if(!v){const Q=z.data[0];Hn(!!Q,16349);const K=Q,te=(K==null?void 0:K.error)||((L=K[0])==null?void 0:L.error);if(te){pt(ps,`RPC '${e}' stream ${s} received error:`,te);const me=te.status;let ue=(function(R){const H=ui[R];if(H!==void 0)return K4(H)})(me),V=te.message;ue===void 0&&(ue=Ze.INTERNAL,V="Unknown error status: "+me+" with message "+te.message),v=!0,M.a_(new xt(ue,V)),_.close()}else pt(ps,`RPC '${e}' stream ${s} received:`,Q),M.u_(Q)}})),U(c,f4.STAT_EVENT,(z=>{z.stat===X0.PROXY?pt(ps,`RPC '${e}' stream ${s} detected buffering proxy`):z.stat===X0.NOPROXY&&pt(ps,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function r0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(n){return new CI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&pt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="PersistentStream";class uS{constructor(e,t,r,s,o,u,c,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ze.RESOURCE_EXHAUSTED?(ql(t.toString()),ql("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new xt(Ze.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pt(i_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(pt(i_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TC extends uS{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=LI(this.serializer,e),r=(function(o){if(!("targetChange"in o))return sn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?sn.min():u.readTime?el(u.readTime):sn.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=a2(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=t2(f)?{documents:OI(o,f)}:{query:MI(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=Q4(o,u.resumeToken);const d=r2(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(sn.min())>0){c.readTime=Fm(o,u.snapshotVersion.toTimestamp());const d=r2(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=UI(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=a2(this.serializer),t.removeTarget=e,this.q_(t)}}class NC extends uS{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Hn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Hn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Hn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=DI(e.writeResults,e.commitTime),r=el(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=a2(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>PI(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class CC extends IC{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new xt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,i2(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xt(Ze.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Ho(e,i2(t,r),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(Ze.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ql(t),this.aa=!1):pt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc="RemoteStore";class RC{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{zc(this)&&(pt(Lc,"Restarting streams for network reachability change."),await(async function(f){const d=on(f);d.Ea.add(4),await zd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await vg(d)})(this))}))})),this.Ra=new kC(r,s)}}async function vg(n){if(zc(n))for(const e of n.da)await e(!0)}async function zd(n){for(const e of n.da)await e(!1)}function cS(n,e){const t=on(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ly(t)?oy(t):lf(t).O_()&&ay(t,e))}function sy(n,e){const t=on(n),r=lf(t);t.Ia.delete(e),r.O_()&&hS(t,e),t.Ia.size===0&&(r.O_()?r.L_():zc(t)&&t.Ra.set("Unknown"))}function ay(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(sn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lf(n).Y_(e)}function hS(n,e){n.Va.Ue(e),lf(n).Z_(e)}function oy(n){n.Va=new xI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),lf(n).start(),n.Ra.ua()}function ly(n){return zc(n)&&!lf(n).x_()&&n.Ia.size>0}function zc(n){return on(n).Ea.size===0}function fS(n){n.Va=void 0}async function LC(n){n.Ra.set("Online")}async function PC(n){n.Ia.forEach(((e,t)=>{ay(n,e)}))}async function DC(n,e){fS(n),ly(n)?(n.Ra.ha(e),oy(n)):n.Ra.set("Unknown")}async function OC(n,e,t){if(n.Ra.set("Online"),e instanceof X4&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.Va.removeTarget(c))})(n,e)}catch(r){pt(Lc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vm(n,r)}else if(e instanceof vm?n.Va.Ze(e):e instanceof W4?n.Va.st(e):n.Va.tt(e),!t.isEqual(sn.min()))try{const r=await oS(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.Va.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(rs.EMPTY_BYTE_STRING,p.snapshotVersion)),hS(o,f);const _=new Mu(p.target,f,d,p.sequenceNumber);ay(o,_)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){pt(Lc,"Failed to raise snapshot:",r),await Vm(n,r)}}async function Vm(n,e,t){if(!of(e))throw e;n.Ea.add(1),await zd(n),n.Ra.set("Offline"),t||(t=()=>oS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(Lc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await vg(n)}))}function dS(n,e){return e().catch((t=>Vm(n,t,e)))}async function bg(n){const e=on(n),t=$u(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Y2;for(;MC(e);)try{const s=await yC(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,jC(e,s)}catch(s){await Vm(e,s)}pS(e)&&mS(e)}function MC(n){return zc(n)&&n.Ta.length<10}function jC(n,e){n.Ta.push(e);const t=$u(n);t.O_()&&t.X_&&t.ea(e.mutations)}function pS(n){return zc(n)&&!$u(n).x_()&&n.Ta.length>0}function mS(n){$u(n).start()}async function UC(n){$u(n).ra()}async function FC(n){const e=$u(n);for(const t of n.Ta)e.ea(t.mutations)}async function BC(n,e,t){const r=n.Ta.shift(),s=J2.from(r,e,t);await dS(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await bg(n)}async function VC(n,e){e&&$u(n).X_&&await(async function(r,s){if((function(u){return AI(u)&&u!==Ze.ABORTED})(s.code)){const o=r.Ta.shift();$u(r).B_(),await dS(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await bg(r)}})(n,e),pS(n)&&mS(n)}async function s_(n,e){const t=on(n);t.asyncQueue.verifyOperationInProgress(),pt(Lc,"RemoteStore received new credentials");const r=zc(t);t.Ea.add(3),await zd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vg(t)}async function zC(n,e){const t=on(n);e?(t.Ea.delete(2),await vg(t)):e||(t.Ea.add(2),await zd(t),t.Ra.set("Unknown"))}function lf(n){return n.ma||(n.ma=(function(t,r,s){const o=on(t);return o.sa(),new TC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:LC.bind(null,n),t_:PC.bind(null,n),r_:DC.bind(null,n),H_:OC.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),ly(n)?oy(n):n.Ra.set("Unknown")):(await n.ma.stop(),fS(n))}))),n.ma}function $u(n){return n.fa||(n.fa=(function(t,r,s){const o=on(t);return o.sa(),new NC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:UC.bind(null,n),r_:VC.bind(null,n),ta:FC.bind(null,n),na:BC.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await bg(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(Lc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new uy(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,e){if(ql("AsyncQueue",`${e}: ${n}`),of(n))return new xt(Ze.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{static emptySet(e){return new Mh(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Vt.comparator(t.key,r.key):(t,r)=>Vt.comparator(t.key,r.key),this.keyedMap=cd(),this.sortedSet=new Lr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Mh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ga=new Lr(Vt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Wt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Zh{constructor(e,t,r,s,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Zh(e,t,Mh.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HC{constructor(){this.queries=o_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=on(t),o=s.queries;s.queries=o_(),o.forEach(((u,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new xt(Ze.ABORTED,"Firestore shutting down"))}}function o_(){return new Vc((n=>D4(n)),fg)}async function gS(n,e){const t=on(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new qC,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=cy(u,`Initialization of query '${kh(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&hy(t)}async function yS(n,e){const t=on(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function GC(n,e){const t=on(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.Sa)c.Fa(s)&&(r=!0);u.wa=s}}r&&hy(t)}function YC(n,e,t){const r=on(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function hy(n){n.Ca.forEach((e=>{e.next()}))}var u2,l_;(l_=u2||(u2={})).Ma="default",l_.Cache="cache";class vS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Zh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==u2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class $C{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nn(),this.mutatedKeys=Nn(),this.eu=O4(e),this.tu=new Mh(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new a_,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,_)=>{const A=s.get(p),v=dg(this.query,_)?_:null,M=!!A&&this.mutatedKeys.has(A.key),U=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let z=!1;A&&v?A.data.isEqual(v.data)?M!==U&&(r.track({type:3,doc:v}),z=!0):this.su(A,v)||(r.track({type:2,doc:v}),z=!0,(f&&this.eu(v,f)>0||d&&this.eu(v,d)<0)&&(c=!0)):!A&&v?(r.track({type:0,doc:v}),z=!0):A&&!v&&(r.track({type:1,doc:A}),z=!0,(f||d)&&(c=!0)),z&&(v?(u=u.add(v),o=U?o.add(p):o.delete(p)):(u=u.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const p=this.query.limitType==="F"?u.last():u.first();u=u.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:u,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((p,_)=>(function(v,M){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt(20277,{Rt:z})}};return U(v)-U(M)})(p.type,_.type)||this.eu(p.doc,_.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,d=f!==this.Za;return this.Za=f,u.length!==0||d?{snapshot:new Zh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new _S(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new bS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Nn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Zh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fy="SyncEngine";class KC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class WC{constructor(e){this.key=e,this.hu=!1}}class XC{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Vc((c=>D4(c)),fg),this.Iu=new Map,this.Eu=new Set,this.du=new Lr(Vt.comparator),this.Au=new Map,this.Ru=new ty,this.Vu={},this.mu=new Map,this.fu=Jh.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QC(n,e,t=!0){const r=TS(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await wS(r,e,t,!0),s}async function JC(n,e){const t=TS(n);await wS(t,e,!0,!1)}async function wS(n,e,t,r){const s=await vC(n.localStore,Jo(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await ZC(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&cS(n.remoteStore,s),c}async function ZC(n,e,t,r,s){n.pu=(_,A,v)=>(async function(U,z,L,Q){let K=z.view.ru(L);K.Cs&&(K=await e_(U.localStore,z.query,!1).then((({documents:V})=>z.view.ru(V,K))));const te=Q&&Q.targetChanges.get(z.targetId),me=Q&&Q.targetMismatches.get(z.targetId)!=null,ue=z.view.applyChanges(K,U.isPrimaryClient,te,me);return c_(U,z.targetId,ue.au),ue.snapshot})(n,_,A,v);const o=await e_(n.localStore,e,!0),u=new $C(e,o.Qs),c=u.ru(o.documents),f=Vd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,f);c_(n,t,d.au);const p=new KC(e,t,u);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function ek(n,e,t){const r=on(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!fg(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await o2(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&sy(r.remoteStore,s.targetId),c2(r,s.targetId)})).catch(af)):(c2(r,s.targetId),await o2(r.localStore,s.targetId,!0))}async function tk(n,e){const t=on(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),sy(t.remoteStore,r.targetId))}async function nk(n,e,t){const r=uk(n);try{const s=await(function(u,c){const f=on(u),d=mr.now(),p=c.reduce(((v,M)=>v.add(M.key)),Nn());let _,A;return f.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let M=Hl(),U=Nn();return f.Ns.getEntries(v,p).next((z=>{M=z,M.forEach(((L,Q)=>{Q.isValidDocument()||(U=U.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(v,M))).next((z=>{_=z;const L=[];for(const Q of c){const K=yI(Q,_.get(Q.key).overlayedDocument);K!=null&&L.push(new Qu(Q.key,K,N4(K.value.mapValue),Zo.exists(!0)))}return f.mutationQueue.addMutationBatch(v,d,L,c)})).next((z=>{A=z;const L=z.applyToLocalDocumentSet(_,U);return f.documentOverlayCache.saveOverlays(v,z.batchId,L)}))})).then((()=>({batchId:A.batchId,changes:j4(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.Vu[u.currentUser.toKey()];d||(d=new Lr(Tn)),d=d.insert(c,f),u.Vu[u.currentUser.toKey()]=d})(r,s.batchId,t),await qd(r,s.changes),await bg(r.remoteStore)}catch(s){const o=cy(s,"Failed to persist write");t.reject(o)}}async function AS(n,e){const t=on(n);try{const r=await mC(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Hn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Hn(u.hu,14607):s.removedDocuments.size>0&&(Hn(u.hu,42227),u.hu=!1))})),await qd(t,r,e)}catch(r){await af(r)}}function u_(n,e,t){const r=on(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=on(u);f.onlineState=c;let d=!1;f.queries.forEach(((p,_)=>{for(const A of _.Sa)A.va(c)&&(d=!0)})),d&&hy(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rk(n,e,t){const r=on(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new Lr(Vt.comparator);u=u.insert(o,_s.newNoDocument(o,sn.min()));const c=Nn().add(o),f=new gg(sn.min(),new Map,new Lr(Tn),u,c);await AS(r,f),r.du=r.du.remove(o),r.Au.delete(e),dy(r)}else await o2(r.localStore,e,!1).then((()=>c2(r,e,t))).catch(af)}async function ik(n,e){const t=on(n),r=e.batch.batchId;try{const s=await pC(t.localStore,e);ES(t,r,null),SS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await qd(t,s)}catch(s){await af(s)}}async function sk(n,e,t){const r=on(n);try{const s=await(function(u,c){const f=on(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return f.mutationQueue.lookupMutationBatch(d,c).next((_=>(Hn(_!==null,37113),p=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>f.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);ES(r,e,t),SS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await qd(r,s)}catch(s){await af(s)}}function SS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function ES(n,e,t){const r=on(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function c2(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||xS(n,r)}))}function xS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(sy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),dy(n))}function c_(n,e,t){for(const r of t)r instanceof bS?(n.Ru.addReference(r.key,e),ak(n,r)):r instanceof _S?(pt(fy,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||xS(n,r.key)):Wt(19791,{wu:r})}function ak(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(pt(fy,"New document in limbo: "+t),n.Eu.add(r),dy(n))}function dy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Vt(Rr.fromString(e)),r=n.fu.next();n.Au.set(r,new WC(t)),n.du=n.du.insert(t,r),cS(n.remoteStore,new Mu(Jo(hg(t.path)),r,"TargetPurposeLimboResolution",og.ce))}}async function qd(n,e,t){const r=on(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{var p;if((d||t)&&r.isPrimaryClient){const _=d?!d.fromCache:(p=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){s.push(d);const _=ry.As(f.targetId,d);o.push(_)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,d){const p=on(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Xe.forEach(d,(A=>Xe.forEach(A.Es,(v=>p.persistence.referenceDelegate.addReference(_,A.targetId,v))).next((()=>Xe.forEach(A.ds,(v=>p.persistence.referenceDelegate.removeReference(_,A.targetId,v)))))))))}catch(_){if(!of(_))throw _;pt(iy,"Failed to update sequence numbers: "+_)}for(const _ of d){const A=_.targetId;if(!_.fromCache){const v=p.Ms.get(A),M=v.snapshotVersion,U=v.withLastLimboFreeSnapshotVersion(M);p.Ms=p.Ms.insert(A,U)}}})(r.localStore,o))}async function ok(n,e){const t=on(n);if(!t.currentUser.isEqual(e)){pt(fy,"User change. New user:",e.toKey());const r=await aS(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new xt(Ze.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qd(t,r.Ls)}}function lk(n,e){const t=on(n),r=t.Au.get(e);if(r&&r.hu)return Nn().add(r.key);{let s=Nn();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}function TS(n){const e=on(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rk.bind(null,e),e.Pu.H_=GC.bind(null,e.eventManager),e.Pu.yu=YC.bind(null,e.eventManager),e}function uk(n){const e=on(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sk.bind(null,e),e}class zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return dC(this.persistence,new cC,e.initialUser,this.serializer)}Cu(e){return new sS(ny.mi,this.serializer)}Du(e){return new _C}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zm.provider={build:()=>new zm};class ck extends zm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Hn(this.persistence.referenceDelegate instanceof Bm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new sS((r=>Bm.mi(r,t)),this.serializer)}}class h2{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await zC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HC})()}createDatastore(e){const t=yg(e.databaseInfo.databaseId),r=(function(o){return new xC(o)})(e.databaseInfo);return(function(o,u,c,f){return new CC(o,u,c,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,c){return new RC(r,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>u_(this.syncEngine,t,0)),(function(){return r_.v()?new r_:new wC})())}createSyncEngine(e,t){return(function(s,o,u,c,f,d,p){const _=new XC(s,o,u,c,f,d);return p&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=on(s);pt(Lc,"RemoteStore shutting down."),o.Ea.add(5),await zd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}h2.provider={build:()=>new h2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ql("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="FirestoreClient";class hk{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=bs.UNAUTHENTICATED,this.clientId=H2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{pt(Ku,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(pt(Ku,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=cy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function i0(n,e){n.asyncQueue.verifyOperationInProgress(),pt(Ku,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await aS(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function h_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await fk(n);pt(Ku,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>s_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>s_(e.remoteStore,s))),n._onlineComponents=e}async function fk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(Ku,"Using user provided OfflineComponentProvider");try{await i0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ze.FAILED_PRECONDITION||s.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Kh("Error using user provided cache. Falling back to memory cache: "+t),await i0(n,new zm)}}else pt(Ku,"Using default OfflineComponentProvider"),await i0(n,new ck(void 0));return n._offlineComponents}async function IS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(Ku,"Using user provided OnlineComponentProvider"),await h_(n,n._uninitializedComponentsProvider._online)):(pt(Ku,"Using default OnlineComponentProvider"),await h_(n,new h2))),n._onlineComponents}function dk(n){return IS(n).then((e=>e.syncEngine))}async function f2(n){const e=await IS(n),t=e.eventManager;return t.onListen=QC.bind(null,e.syncEngine),t.onUnlisten=ek.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tk.bind(null,e.syncEngine),t}function pk(n,e,t={}){const r=new Vu;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const p=new NS({next:A=>{p.Nu(),u.enqueueAndForget((()=>yS(o,_)));const v=A.docs.has(c);!v&&A.fromCache?d.reject(new xt(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&A.fromCache&&f&&f.source==="server"?d.reject(new xt(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(A)},error:A=>d.reject(A)}),_=new vS(hg(c.path),p,{includeMetadataChanges:!0,qa:!0});return gS(o,_)})(await f2(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firestore.googleapis.com",d_=!0;class p_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kS,this.ssl=d_}else this.host=e.host,this.ssl=e.ssl??d_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$I)throw new xt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class py{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bN;switch(r.type){case"firstParty":return new SN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xt(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=f_.get(t);r&&(pt("ComponentProvider","Removing Datastore"),f_.delete(t),r.terminate())})(this),Promise.resolve()}}function mk(n,e,t,r={}){var d;n=Qo(n,py);const s=nf(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(JA(`https://${c}`),ZA("Firestore",!0)),o.host!==kS&&o.host!==c&&Kh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:r};if(!zu(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,_;if(typeof r.mockUserToken=="string")p=r.mockUserToken,_=bs.MOCK_USER;else{p=qT(r.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new xt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bs(A)}n._authCredentials=new _N(new g4(p,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _g(this.firestore,e,this._query)}}class fi{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}toJSON(){return{type:fi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Fd(t,fi._jsonSchema))return new fi(e,r||null,new Vt(Rr.fromString(t.referencePath)))}}fi._jsonSchemaVersion="firestore/documentReference/1.0",fi._jsonSchema={type:hi("string",fi._jsonSchemaVersion),referencePath:hi("string")};class Pd extends _g{constructor(e,t,r){super(e,t,hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new Vt(e))}withConverter(e){return new Pd(this.firestore,e,this._path)}}function qc(n,e,...t){if(n=di(n),arguments.length===1&&(e=H2.newId()),CN("doc","path",e),n instanceof py){const r=Rr.fromString(e,...t);return Ib(r),new fi(n,null,new Vt(r))}{if(!(n instanceof fi||n instanceof Pd))throw new xt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rr.fromString(e,...t));return Ib(r),new fi(n.firestore,n instanceof Pd?n.converter:null,new Vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class g_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lS(this,"async_queue_retry"),this._c=()=>{const r=r0();r&&pt(m_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=r0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=r0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!of(e))throw e;pt(m_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ql("INTERNAL UNHANDLED ERROR: ",y_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=uy.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Wt(47125,{Pc:y_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function y_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ef extends py{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new g_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g_(e),this._firestoreClient=void 0,await e}}}function RS(n,e){const t=typeof n=="object"?n:z2(),r=typeof n=="string"?n:Dm,s=Bc(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=VT("firestore");o&&mk(s,...o)}return s}function my(n){if(n._terminated)throw new xt(Ze.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gk(n),n._firestoreClient}function gk(n){var r,s,o;const e=n._freezeSettings(),t=(function(c,f,d,p){return new VN(c,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,CS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new hk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(rs.fromBase64String(e))}catch(t){throw new xt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ya(rs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ya._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fd(e,Ya._jsonSchema))return Ya.fromBase64String(e.bytes)}}Ya._jsonSchemaVersion="firestore/bytes/1.0",Ya._jsonSchema={type:hi("string",Ya._jsonSchemaVersion),bytes:hi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ns(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Tn(this._lat,e._lat)||Tn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tl._jsonSchemaVersion}}static fromJSON(e){if(Fd(e,tl._jsonSchema))return new tl(e.latitude,e.longitude)}}tl._jsonSchemaVersion="firestore/geoPoint/1.0",tl._jsonSchema={type:hi("string",tl._jsonSchemaVersion),latitude:hi("number"),longitude:hi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fd(e,nl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new nl(e.vectorValues);throw new xt(Ze.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nl._jsonSchemaVersion="firestore/vectorValue/1.0",nl._jsonSchema={type:hi("string",nl._jsonSchemaVersion),vectorValues:hi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class vk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bd(e,this.data,t,this.fieldTransforms)}}class LS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt(40011,{Ac:n})}}class gy{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PS(this.Ac)&&yk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yg(e)}Cc(e,t,r,s=!1){return new gy({Ac:e,methodName:t,Dc:r,path:ns.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DS(n){const e=n._freezeSettings(),t=yg(n._databaseId);return new bk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _k(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);vy("Data must be an object, but it was:",u,r);const c=OS(r,u);let f,d;if(o.merge)f=new va(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const p=[];for(const _ of o.mergeFields){const A=d2(e,_,t);if(!u.contains(A))throw new xt(Ze.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);jS(p,A)||p.push(A)}f=new va(p),d=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=u.fieldTransforms;return new vk(new Zs(c),f,d)}class Sg extends Ag{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sg}}class yy extends Ag{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Ld(e.serializer,B4(e.serializer,this.Fc));return new dI(e.path,t)}isEqual(e){return e instanceof yy&&this.Fc===e.Fc}}function wk(n,e,t,r){const s=n.Cc(1,e,t);vy("Data must be an object, but it was:",s,r);const o=[],u=Zs.empty();Xu(r,((f,d)=>{const p=by(e,f,t);d=di(d);const _=s.yc(p);if(d instanceof Sg)o.push(p);else{const A=Eg(d,_);A!=null&&(o.push(p),u.set(p,A))}}));const c=new va(o);return new LS(u,c,s.fieldTransforms)}function Ak(n,e,t,r,s,o){const u=n.Cc(1,e,t),c=[d2(e,r,t)],f=[s];if(o.length%2!=0)throw new xt(Ze.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<o.length;A+=2)c.push(d2(e,o[A])),f.push(o[A+1]);const d=[],p=Zs.empty();for(let A=c.length-1;A>=0;--A)if(!jS(d,c[A])){const v=c[A];let M=f[A];M=di(M);const U=u.yc(v);if(M instanceof Sg)d.push(v);else{const z=Eg(M,U);z!=null&&(d.push(v),p.set(v,z))}}const _=new va(d);return new LS(p,_,u.fieldTransforms)}function Eg(n,e){if(MS(n=di(n)))return vy("Unsupported field value:",e,n),OS(n,e);if(n instanceof Ag)return(function(r,s){if(!PS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const c of r){let f=Eg(c,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=di(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mr.fromDate(r);return{timestampValue:Fm(s.serializer,o)}}if(r instanceof mr){const o=new mr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fm(s.serializer,o)}}if(r instanceof tl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ya)return{bytesValue:Q4(s.serializer,r._byteString)};if(r instanceof fi){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ey(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof nl)return(function(u,c){return{mapValue:{fields:{[x4]:{stringValue:T4},[Om]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return Q2(c.serializer,d)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${G2(r)}`)})(n,e)}function OS(n,e){const t={};return b4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xu(n,((r,s)=>{const o=Eg(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function MS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mr||n instanceof tl||n instanceof Ya||n instanceof fi||n instanceof Ag||n instanceof nl)}function vy(n,e,t){if(!MS(t)||!y4(t)){const r=G2(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function d2(n,e,t){if((e=di(e))instanceof wg)return e._internalPath;if(typeof e=="string")return by(n,e);throw qm("Field path arguments must be of type string or ",n,!1,void 0,t)}const Sk=new RegExp("[~\\*/\\[\\]]");function by(n,e,t){if(e.search(Sk)>=0)throw qm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wg(...e.split("."))._internalPath}catch{throw qm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qm(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new xt(Ze.INVALID_ARGUMENT,c+n+f)}function jS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ek(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ek extends US{data(){return super.data()}}function FS(n,e){return typeof e=="string"?by(n,e):e instanceof wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tk{convertValue(e,t="none"){switch(Yu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Wt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xu(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){var r,s,o;const t=(o=(s=(r=e.fields)==null?void 0:r[Om].arrayValue)==null?void 0:s.values)==null?void 0:o.map((u=>Jr(u.doubleValue)));return new nl(t)}convertGeoPoint(e){return new tl(Jr(e.latitude),Jr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ug(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nd(e));default:return null}}convertTimestamp(e){const t=Hu(e);return new mr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rr.fromString(e);Hn(rS(r),9688,{name:e});const s=new Id(r.get(1),r.get(3)),o=new Vt(r.popFirst(5));return s.isEqual(t)||ql(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class fd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cc extends US{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(FS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(Ze.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Cc._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Cc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cc._jsonSchema={type:hi("string",Cc._jsonSchemaVersion),bundleSource:hi("string","DocumentSnapshot"),bundleName:hi("string"),bundle:hi("string")};class bm extends Cc{data(e={}){return super.data(e)}}class jh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new fd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new bm(this._firestore,this._userDataWriter,r.key,r,new fd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new bm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new bm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new fd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),p=u.indexOf(c.doc.key)),{type:Ik(c.type),doc:f,oldIndex:d,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(Ze.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=H2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ik(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n){n=Qo(n,fi);const e=Qo(n.firestore,ef);return pk(my(e),n._key).then((t=>qS(e,n,t)))}jh._jsonSchemaVersion="firestore/querySnapshot/1.0",jh._jsonSchema={type:hi("string",jh._jsonSchemaVersion),bundleSource:hi("string","QuerySnapshot"),bundleName:hi("string"),bundle:hi("string")};class BS extends Tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}function _y(n,e,t){n=Qo(n,fi);const r=Qo(n.firestore,ef),s=Nk(n.converter,e);return zS(r,[_k(DS(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Zo.none())])}function VS(n,e,t,...r){n=Qo(n,fi);const s=Qo(n.firestore,ef),o=DS(s);let u;return u=typeof(e=di(e))=="string"||e instanceof wg?Ak(o,"updateDoc",n._key,e,t,r):wk(o,"updateDoc",n._key,e),zS(s,[u.toMutation(n._key,Zo.exists(!0))])}function Ck(n,...e){var f,d,p;n=di(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||v_(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(v_(e[r])){const _=e[r];e[r]=(f=_.next)==null?void 0:f.bind(_),e[r+1]=(d=_.error)==null?void 0:d.bind(_),e[r+2]=(p=_.complete)==null?void 0:p.bind(_)}let o,u,c;if(n instanceof fi)u=Qo(n.firestore,ef),c=hg(n._key.path),o={next:_=>{e[r]&&e[r](qS(u,n,_))},error:e[r+1],complete:e[r+2]};else{const _=Qo(n,_g);u=Qo(_.firestore,ef),c=_._query;const A=new BS(u);o={next:v=>{e[r]&&e[r](new jh(u,A,_,v))},error:e[r+1],complete:e[r+2]},xk(n._query)}return(function(A,v,M,U){const z=new NS(U),L=new vS(v,z,M);return A.asyncQueue.enqueueAndForget((async()=>gS(await f2(A),L))),()=>{z.Nu(),A.asyncQueue.enqueueAndForget((async()=>yS(await f2(A),L)))}})(my(u),c,s,o)}function zS(n,e){return(function(r,s){const o=new Vu;return r.asyncQueue.enqueueAndForget((async()=>nk(await dk(r),s,o))),o.promise})(my(n),e)}function qS(n,e,t){const r=t.docs.get(e._key),s=new BS(n);return new Cc(n,s,e._key,r,new fd(t.hasPendingWrites,t.fromCache),e.converter)}function b_(n){return new yy("increment",n)}(function(e,t=!0){(function(s){sf=s})(rf),il(new So("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new ef(new wN(r.getProvider("auth-internal")),new EN(u,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new xt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(d.options.projectId,p)})(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),$a(Eb,xb,e),$a(Eb,xb,"esm2020")})();const HS="@firebase/installations",wy="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=1e4,YS=`w:${wy}`,$S="FIS_v2",kk="https://firebaseinstallations.googleapis.com/v1",Rk=3600*1e3,Lk="installations",Pk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pc=new Fc(Lk,Pk,Dk);function KS(n){return n instanceof xo&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS({projectId:n}){return`${kk}/projects/${n}/installations`}function XS(n){return{token:n.token,requestStatus:2,expiresIn:Mk(n.expiresIn),creationTime:Date.now()}}async function QS(n,e){const r=(await e.json()).error;return Pc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function JS({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Ok(n,{refreshToken:e}){const t=JS(n);return t.append("Authorization",jk(e)),t}async function ZS(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Mk(n){return Number(n.replace("s","000"))}function jk(n){return`${$S} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uk({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=WS(n),s=JS(n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={fid:t,authVersion:$S,appId:n.appId,sdkVersion:YS},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await ZS(()=>fetch(r,c));if(f.ok){const d=await f.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:XS(d.authToken)}}else throw await QS("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=/^[cdef][\w-]{21}$/,p2="";function Vk(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=zk(n);return Bk.test(t)?t:p2}catch{return p2}}function zk(n){return Fk(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new Map;function n3(n,e){const t=Tg(n);r3(t,e),qk(t,e)}function r3(n,e){const t=t3.get(n);if(t)for(const r of t)r(e)}function qk(n,e){const t=Hk();t&&t.postMessage({key:n,fid:e}),Gk()}let Nc=null;function Hk(){return!Nc&&"BroadcastChannel"in self&&(Nc=new BroadcastChannel("[Firebase] FID Change"),Nc.onmessage=n=>{r3(n.data.key,n.data.fid)}),Nc}function Gk(){t3.size===0&&Nc&&(Nc.close(),Nc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="firebase-installations-database",$k=1,Dc="firebase-installations-store";let s0=null;function Ay(){return s0||(s0=s4(Yk,$k,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Dc)}}})),s0}async function Hm(n,e){const t=Tg(n),s=(await Ay()).transaction(Dc,"readwrite"),o=s.objectStore(Dc),u=await o.get(t);return await o.put(e,t),await s.done,(!u||u.fid!==e.fid)&&n3(n,e.fid),e}async function i3(n){const e=Tg(n),r=(await Ay()).transaction(Dc,"readwrite");await r.objectStore(Dc).delete(e),await r.done}async function Ng(n,e){const t=Tg(n),s=(await Ay()).transaction(Dc,"readwrite"),o=s.objectStore(Dc),u=await o.get(t),c=e(u);return c===void 0?await o.delete(t):await o.put(c,t),await s.done,c&&(!u||u.fid!==c.fid)&&n3(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(n){let e;const t=await Ng(n.appConfig,r=>{const s=Kk(r),o=Wk(n,s);return e=o.registrationPromise,o.installationEntry});return t.fid===p2?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Kk(n){const e=n||{fid:Vk(),registrationStatus:0};return s3(e)}function Wk(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Pc.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Xk(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Qk(n)}:{installationEntry:e}}async function Xk(n,e){try{const t=await Uk(n,e);return Hm(n.appConfig,t)}catch(t){throw KS(t)&&t.customData.serverCode===409?await i3(n.appConfig):await Hm(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Qk(n){let e=await __(n.appConfig);for(;e.registrationStatus===1;)await e3(100),e=await __(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Sy(n);return r||t}return e}function __(n){return Ng(n,e=>{if(!e)throw Pc.create("installation-not-found");return s3(e)})}function s3(n){return Jk(n)?{fid:n.fid,registrationStatus:0}:n}function Jk(n){return n.registrationStatus===1&&n.registrationTime+GS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk({appConfig:n,heartbeatServiceProvider:e},t){const r=eR(n,t),s=Ok(n,t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const u={installation:{sdkVersion:YS,appId:n.appId}},c={method:"POST",headers:s,body:JSON.stringify(u)},f=await ZS(()=>fetch(r,c));if(f.ok){const d=await f.json();return XS(d)}else throw await QS("Generate Auth Token",f)}function eR(n,{fid:e}){return`${WS(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ey(n,e=!1){let t;const r=await Ng(n.appConfig,o=>{if(!a3(o))throw Pc.create("not-registered");const u=o.authToken;if(!e&&rR(u))return o;if(u.requestStatus===1)return t=tR(n,e),o;{if(!navigator.onLine)throw Pc.create("app-offline");const c=sR(o);return t=nR(n,c),c}});return t?await t:r.authToken}async function tR(n,e){let t=await w_(n.appConfig);for(;t.authToken.requestStatus===1;)await e3(100),t=await w_(n.appConfig);const r=t.authToken;return r.requestStatus===0?Ey(n,e):r}function w_(n){return Ng(n,e=>{if(!a3(e))throw Pc.create("not-registered");const t=e.authToken;return aR(t)?{...e,authToken:{requestStatus:0}}:e})}async function nR(n,e){try{const t=await Zk(n,e),r={...e,authToken:t};return await Hm(n.appConfig,r),t}catch(t){if(KS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await i3(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Hm(n.appConfig,r)}throw t}}function a3(n){return n!==void 0&&n.registrationStatus===2}function rR(n){return n.requestStatus===2&&!iR(n)}function iR(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Rk}function sR(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function aR(n){return n.requestStatus===1&&n.requestTime+GS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(n){const e=n,{installationEntry:t,registrationPromise:r}=await Sy(e);return r?r.catch(console.error):Ey(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(n,e=!1){const t=n;return await uR(t),(await Ey(t,e)).token}async function uR(n){const{registrationPromise:e}=await Sy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n){if(!n||!n.options)throw a0("App Configuration");if(!n.name)throw a0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw a0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function a0(n){return Pc.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="installations",hR="installations-internal",fR=n=>{const e=n.getProvider("app").getImmediate(),t=cR(e),r=Bc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},dR=n=>{const e=n.getProvider("app").getImmediate(),t=Bc(e,o3).getImmediate();return{getId:()=>oR(t),getToken:s=>lR(t,s)}};function pR(){il(new So(o3,fR,"PUBLIC")),il(new So(hR,dR,"PRIVATE"))}pR();$a(HS,wy);$a(HS,wy,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="analytics",mR="firebase_id",gR="origin",yR=60*1e3,vR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new ag("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wa=new Fc("analytics","Analytics",bR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(n){if(!n.startsWith(xy)){const e=wa.create("invalid-gtag-resource",{gtagURL:n});return Us.warn(e.message),""}return n}function l3(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function wR(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function AR(n,e){const t=wR("firebase-js-sdk-policy",{createScriptURL:_R}),r=document.createElement("script"),s=`${xy}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function SR(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function ER(n,e,t,r,s,o){const u=r[s];try{if(u)await e[u];else{const f=(await l3(t)).find(d=>d.measurementId===s);f&&await e[f.appId]}}catch(c){Us.error(c)}n("config",s,o)}async function xR(n,e,t,r,s){try{let o=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const c=await l3(t);for(const f of u){const d=c.find(_=>_.measurementId===f),p=d&&e[d.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,s||{})}catch(o){Us.error(o)}}function TR(n,e,t,r){async function s(o,...u){try{if(o==="event"){const[c,f]=u;await xR(n,e,t,c,f)}else if(o==="config"){const[c,f]=u;await ER(n,e,t,r,c,f)}else if(o==="consent"){const[c,f]=u;n("consent",c,f)}else if(o==="get"){const[c,f,d]=u;n("get",c,f,d)}else if(o==="set"){const[c]=u;n("set",c)}else n(o,...u)}catch(c){Us.error(c)}}return s}function NR(n,e,t,r,s){let o=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=TR(o,n,e,t),{gtagCore:o,wrappedGtag:window[s]}}function IR(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(xy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=30,kR=1e3;class RR{constructor(e={},t=kR){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const u3=new RR;function LR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function PR(n){var u;const{appId:e,apiKey:t}=n,r={method:"GET",headers:LR(t)},s=vR.replace("{app-id}",e),o=await fetch(s,r);if(o.status!==200&&o.status!==304){let c="";try{const f=await o.json();(u=f.error)!=null&&u.message&&(c=f.error.message)}catch{}throw wa.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function DR(n,e=u3,t){const{appId:r,apiKey:s,measurementId:o}=n.options;if(!r)throw wa.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:r};throw wa.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new jR;return setTimeout(async()=>{c.abort()},yR),c3({appId:r,apiKey:s,measurementId:o},u,c,e)}async function c3(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=u3){var c;const{appId:o,measurementId:u}=n;try{await OR(r,e)}catch(f){if(u)return Us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:u};throw f}try{const f=await PR(n);return s.deleteThrottleMetadata(o),f}catch(f){const d=f;if(!MR(d)){if(s.deleteThrottleMetadata(o),u)return Us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:u};throw f}const p=Number((c=d==null?void 0:d.customData)==null?void 0:c.httpStatus)===503?pb(t,s.intervalMillis,CR):pb(t,s.intervalMillis),_={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return s.setThrottleMetadata(o,_),Us.debug(`Calling attemptFetch again in ${p} millis`),c3(n,_,r,s)}}function OR(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(o),r(wa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MR(n){if(!(n instanceof xo)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class jR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UR(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const o=await e,u={...r,send_to:o};n("event",t,u)}}async function FR(n,e,t,r){if(r&&r.global){const s={};for(const o of Object.keys(t))s[`user_properties.${o}`]=t[o];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(){if(t4())try{await n4()}catch(n){return Us.warn(wa.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Us.warn(wa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function VR(n,e,t,r,s,o,u){const c=DR(n);c.then(A=>{t[A.measurementId]=A.appId,n.options.measurementId&&A.measurementId!==n.options.measurementId&&Us.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>Us.error(A)),e.push(c);const f=BR().then(A=>{if(A)return r.getId()}),[d,p]=await Promise.all([c,f]);IR(o)||AR(o,d.measurementId),s("js",new Date);const _=(u==null?void 0:u.config)??{};return _[gR]="firebase",_.update=!0,p!=null&&(_[mR]=p),s("config",d.measurementId,_),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.app=e}_delete(){return delete Uh[this.app.options.appId],Promise.resolve()}}let Uh={},A_=[];const S_={};let o0="dataLayer",qR="gtag",E_,Ty,x_=!1;function HR(){const n=[];if(e4()&&n.push("This is a browser extension environment."),JT()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=wa.create("invalid-analytics-context",{errorInfo:e});Us.warn(t.message)}}function GR(n,e,t){HR();const r=n.options.appId;if(!r)throw wa.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wa.create("no-api-key");if(Uh[r]!=null)throw wa.create("already-exists",{id:r});if(!x_){SR(o0);const{wrappedGtag:o,gtagCore:u}=NR(Uh,A_,S_,o0,qR);Ty=o,E_=u,x_=!0}return Uh[r]=VR(n,A_,S_,e,E_,o0,t),new zR(n)}function YR(n=z2()){n=di(n);const e=Bc(n,Gm);return e.isInitialized()?e.getImmediate():$R(n)}function $R(n,e={}){const t=Bc(n,Gm);if(t.isInitialized()){const s=t.getImmediate();if(zu(e,t.getOptions()))return s;throw wa.create("already-initialized")}return t.initialize({options:e})}function KR(n,e,t){n=di(n),FR(Ty,Uh[n.app.options.appId],e,t).catch(r=>Us.error(r))}function WR(n,e,t,r){n=di(n),UR(Ty,Uh[n.app.options.appId],e,t,r).catch(s=>Us.error(s))}const T_="@firebase/analytics",N_="0.10.19";function XR(){il(new So(Gm,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return GR(r,s,t)},"PUBLIC")),il(new So("analytics-internal",n,"PRIVATE")),$a(T_,N_),$a(T_,N_,"esm2020");function n(e){try{const t=e.getProvider(Gm).getImmediate();return{logEvent:(r,s,o)=>WR(t,r,s,o),setUserProperties:(r,s)=>KR(t,r,s)}}catch(t){throw wa.create("interop-component-reg-failed",{reason:t})}}}XR();function h3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QR=h3,f3=new Fc("auth","Firebase",h3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new ag("@firebase/auth");function JR(n,...e){Ym.logLevel<=xn.WARN&&Ym.warn(`Auth (${rf}): ${n}`,...e)}function _m(n,...e){Ym.logLevel<=xn.ERROR&&Ym.error(`Auth (${rf}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(n,...e){throw Iy(n,...e)}function Ao(n,...e){return Iy(n,...e)}function Ny(n,e,t){const r={...QR(),[e]:t};return new Fc("auth","Firebase",r).create(e,{appName:n.name})}function Vl(n){return Ny(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZR(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ka(n,"argument-error"),Ny(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return f3.create(n,...e)}function Kt(n,e,...t){if(!n)throw Iy(e,...t)}function Fl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _m(e),new Error(e)}function Gl(n,e){n||Fl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function e8(){return I_()==="http:"||I_()==="https:"}function I_(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e8()||e4()||"connection"in navigator)?navigator.onLine:!0}function n8(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gl(t>e,"Short delay should be less than long delay!"),this.isMobile=YT()||WT()}get(){return t8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,e){Gl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s8=new Hd(3e4,6e4);function Ju(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yl(n,e,t,r,s={}){return p3(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=Ud({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return KT()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&nf(n.emulatorConfig.host)&&(d.credentials="include"),d3.fetch()(await m3(n,n.config.apiHost,t,c),d)})}async function p3(n,e,t){n._canInitEmulator=!1;const r={...r8,...e};try{const s=new o8(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw tm(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw tm(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw tm(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw tm(n,"user-disabled",u);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ny(n,p,d);Ka(n,p)}}catch(s){if(s instanceof xo)throw s;Ka(n,"network-request-failed",{message:String(s)})}}async function Gd(n,e,t,r,s={}){const o=await Yl(n,e,t,r,s);return"mfaPendingCredential"in o&&Ka(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function m3(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?Cy(n.config,s):`${n.config.apiScheme}://${s}`;return i8.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function a8(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ao(this.auth,"network-request-failed")),s8.get())})}}function tm(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ao(n,e,r);return s.customData._tokenResponse=t,s}function C_(n){return n!==void 0&&n.enterprise!==void 0}class l8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u8(n,e){return Yl(n,"GET","/v2/recaptchaConfig",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(n,e){return Yl(n,"POST","/v1/accounts:delete",e)}async function $m(n,e){return Yl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h8(n,e=!1){const t=di(n),r=await t.getIdToken(e),s=ky(r);Kt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:vd(l0(s.auth_time)),issuedAtTime:vd(l0(s.iat)),expirationTime:vd(l0(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function l0(n){return Number(n)*1e3}function ky(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const s=KA(t);return s?JSON.parse(s):(_m("Failed to decode base64 JWT payload"),null)}catch(s){return _m("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function k_(n){const e=ky(n);return Kt(e,"internal-error"),Kt(typeof e.exp<"u","internal-error"),Kt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof xo&&f8(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function f8({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vd(this.lastLoginAt),this.creationTime=vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Km(n){var _;const e=n.auth,t=await n.getIdToken(),r=await tf(n,$m(e,{idToken:t}));Kt(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(_=s.providerUserInfo)!=null&&_.length?g3(s.providerUserInfo):[],u=m8(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),d=c?f:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new g2(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function p8(n){const e=di(n);await Km(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m8(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function g3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g8(n,e){const t=await p3(n,{},async()=>{const r=Ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await m3(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&nf(n.emulatorConfig.host)&&(f.credentials="include"),d3.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function y8(n,e){return Yl(n,"POST","/v2/accounts:revokeToken",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Kt(e.idToken,"internal-error"),Kt(typeof e.idToken<"u","internal-error"),Kt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Kt(e.length!==0,"internal-error");const t=k_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Kt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await g8(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Fh;return r&&(Kt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Kt(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Kt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fh,this.toJSON())}_performRefresh(){return Fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(n,e){Kt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new d8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new g2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await tf(this,this.stsTokenManager.getToken(this.auth,e));return Kt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return h8(this,e)}reload(){return p8(this)}_assign(e){this!==e&&(Kt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Kt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Km(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ya(this.auth.app))return Promise.reject(Vl(this.auth));const e=await this.getIdToken();return await tf(this,c8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:_,emailVerified:A,isAnonymous:v,providerData:M,stsTokenManager:U}=t;Kt(_&&U,e,"internal-error");const z=Fh.fromJSON(this.name,U);Kt(typeof _=="string",e,"internal-error"),Cu(r,e.name),Cu(s,e.name),Kt(typeof A=="boolean",e,"internal-error"),Kt(typeof v=="boolean",e,"internal-error"),Cu(o,e.name),Cu(u,e.name),Cu(c,e.name),Cu(f,e.name),Cu(d,e.name),Cu(p,e.name);const L=new wo({uid:_,auth:e,email:s,emailVerified:A,displayName:r,isAnonymous:v,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:z,createdAt:d,lastLoginAt:p});return M&&Array.isArray(M)&&(L.providerData=M.map(Q=>({...Q}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(e,t,r=!1){const s=new Fh;s.updateFromServerResponse(t);const o=new wo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Km(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Kt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?g3(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Fh;c.updateFromIdToken(r);const f=new wo({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new g2(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=new Map;function Bl(n){Gl(n instanceof Function,"Expected a class definition");let e=R_.get(n);return e?(Gl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,R_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}y3.type="NONE";const L_=y3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n,e,t){return`firebase:${n}:${e}:${t}`}class Bh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=wm(this.userKey,s.apiKey,o),this.fullPersistenceKey=wm("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $m(this.auth,{idToken:e}).catch(()=>{});return t?wo._fromGetAccountInfoResponse(this.auth,t,e):null}return wo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Bh(Bl(L_),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Bl(L_);const u=wm(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const p=await d._get(u);if(p){let _;if(typeof p=="string"){const A=await $m(e,{idToken:p}).catch(()=>{});if(!A)break;_=await wo._fromGetAccountInfoResponse(e,A,p)}else _=wo._fromJSON(e,p);d!==o&&(c=_),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Bh(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new Bh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S3(e))return"Blackberry";if(E3(e))return"Webos";if(b3(e))return"Safari";if((e.includes("chrome/")||_3(e))&&!e.includes("edge/"))return"Chrome";if(A3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v3(n=ws()){return/firefox\//i.test(n)}function b3(n=ws()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _3(n=ws()){return/crios\//i.test(n)}function w3(n=ws()){return/iemobile/i.test(n)}function A3(n=ws()){return/android/i.test(n)}function S3(n=ws()){return/blackberry/i.test(n)}function E3(n=ws()){return/webos/i.test(n)}function Ry(n=ws()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function v8(n=ws()){var e;return Ry(n)&&!!((e=window.navigator)!=null&&e.standalone)}function b8(){return XT()&&document.documentMode===10}function x3(n=ws()){return Ry(n)||A3(n)||E3(n)||S3(n)||/windows phone/i.test(n)||w3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n,e=[]){let t;switch(n){case"Browser":t=P_(ws());break;case"Worker":t=`${P_(ws())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w8(n,e={}){return Yl(n,"GET","/v2/passwordPolicy",Ju(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=6;class S8{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??A8,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new D_(this),this.idTokenSubscription=new D_(this),this.beforeStateQueue=new _8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bl(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Bh.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $m(this,{idToken:e}),r=await wo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(ya(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(r=f.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Kt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Km(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ya(this.app))return Promise.reject(Vl(this));const t=e?di(e):null;return t&&Kt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Kt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ya(this.app)?Promise.reject(Vl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ya(this.app)?Promise.reject(Vl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w8(this),t=new S8(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await y8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bl(e)||this._popupRedirectResolver;Kt(t,this,"argument-error"),this.redirectPersistenceManager=await Bh.create(this,[Bl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Kt(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Kt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(ya(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&JR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Zu(n){return di(n)}class D_{constructor(e){this.auth=e,this.observer=null,this.addObserver=r6(t=>this.observer=t)}get next(){return Kt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x8(n){Ig=n}function N3(n){return Ig.loadJS(n)}function T8(){return Ig.recaptchaEnterpriseScript}function N8(){return Ig.gapiScript}function I8(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class C8{constructor(){this.enterprise=new k8}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class k8{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const R8="recaptcha-enterprise",I3="NO_RECAPTCHA";class L8{constructor(e){this.type=R8,this.auth=Zu(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,c)=>{u8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new l8(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,u(d.siteKey)}}).catch(f=>{c(f)})})}function s(o,u,c){const f=window.grecaptcha;C_(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(d=>{u(d)}).catch(()=>{u(I3)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C8().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(c=>{if(!t&&C_(window.grecaptcha))s(c,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=T8();f.length!==0&&(f+=c),N3(f).then(()=>{s(c,o,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})}}async function O_(n,e,t,r=!1,s=!1){const o=new L8(n);let u;if(s)u=I3;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function y2(n,e,t,r,s){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await O_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await O_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(n,e){const t=Bc(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(zu(o,e??{}))return s;Ka(s,"already-initialized")}return t.initialize({options:e})}function D8(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Bl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O8(n,e,t){const r=Zu(n);Kt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=C3(e),{host:u,port:c}=M8(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},p=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Kt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Kt(zu(d,r.config.emulator)&&zu(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,nf(u)?(JA(`${o}//${u}${f}`),ZA("Auth",!0)):j8()}function C3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function M8(n){const e=C3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:M_(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:M_(u)}}}function M_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function j8(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fl("not implemented")}_getIdTokenResponse(e){return Fl("not implemented")}_linkToIdToken(e,t){return Fl("not implemented")}_getReauthenticationResolver(e){return Fl("not implemented")}}async function U8(n,e){return Yl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F8(n,e){return Gd(n,"POST","/v1/accounts:signInWithPassword",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(n,e){return Gd(n,"POST","/v1/accounts:signInWithEmailLink",Ju(n,e))}async function V8(n,e){return Gd(n,"POST","/v1/accounts:signInWithEmailLink",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends Ly{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Dd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Dd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y2(e,t,"signInWithPassword",F8);case"emailLink":return B8(e,{email:this._email,oobCode:this._password});default:Ka(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return y2(e,r,"signUpPassword",U8);case"emailLink":return V8(e,{idToken:t,email:this._email,oobCode:this._password});default:Ka(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n,e){return Gd(n,"POST","/v1/accounts:signInWithIdp",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="http://localhost";class Oc extends Ly{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Oc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ka("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Oc(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Vh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vh(e,t)}buildRequest(){const e={requestUri:z8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ud(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H8(n){const e=od(ld(n)).link,t=e?od(ld(e)).deep_link_id:null,r=od(ld(n)).deep_link_id;return(r?od(ld(r)).link:null)||r||t||e||n}class Py{constructor(e){const t=od(ld(e)),r=t.apiKey??null,s=t.oobCode??null,o=q8(t.mode??null);Kt(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=H8(e);try{return new Py(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this.providerId=uf.PROVIDER_ID}static credential(e,t){return Dd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Py.parseLink(t);return Kt(r,"argument-error"),Dd._fromEmailAndCode(e,r.code,r.tenantId)}}uf.PROVIDER_ID="password";uf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Yd{constructor(){super("facebook.com")}static credential(e){return Oc._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pu.credential(e.oauthAccessToken)}catch{return null}}}Pu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends Yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Oc._fromParams({providerId:Ul.PROVIDER_ID,signInMethod:Ul.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ul.credentialFromTaggedObject(e)}static credentialFromError(e){return Ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ul.credential(t,r)}catch{return null}}}Ul.GOOGLE_SIGN_IN_METHOD="google.com";Ul.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Yd{constructor(){super("github.com")}static credential(e){return Oc._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Du.credential(e.oauthAccessToken)}catch{return null}}}Du.GITHUB_SIGN_IN_METHOD="github.com";Du.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Yd{constructor(){super("twitter.com")}static credential(e,t){return Oc._fromParams({providerId:Ou.PROVIDER_ID,signInMethod:Ou.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ou.credentialFromTaggedObject(e)}static credentialFromError(e){return Ou.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ou.credential(t,r)}catch{return null}}}Ou.TWITTER_SIGN_IN_METHOD="twitter.com";Ou.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(n,e){return Gd(n,"POST","/v1/accounts:signUp",Ju(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await wo._fromIdTokenResponse(e,r,s),u=j_(r);return new Mc({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=j_(r);return new Mc({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function j_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends xo{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Wm(e,t,r,s)}}function k3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wm._fromErrorAndOperation(n,o,e,r):o})}async function Y8(n,e,t=!1){const r=await tf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Mc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(n,e,t=!1){const{auth:r}=n;if(ya(r.app))return Promise.reject(Vl(r));const s="reauthenticate";try{const o=await tf(n,k3(r,s,e,n),t);Kt(o.idToken,r,"internal-error");const u=ky(o.idToken);Kt(u,r,"internal-error");const{sub:c}=u;return Kt(n.uid===c,r,"user-mismatch"),Mc._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ka(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(n,e,t=!1){if(ya(n.app))return Promise.reject(Vl(n));const r="signIn",s=await k3(n,r,e),o=await Mc._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function K8(n,e){return R3(Zu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(n){const e=Zu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function W8(n,e,t){if(ya(n.app))return Promise.reject(Vl(n));const r=Zu(n),u=await y2(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",G8).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&L3(n),f}),c=await Mc._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function X8(n,e,t){return ya(n.app)?Promise.reject(Vl(n)):K8(di(n),uf.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&L3(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q8(n,e){return Yl(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=di(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await tf(r,Q8(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function Z8(n,e,t,r){return di(n).onIdTokenChanged(e,t,r)}function eL(n,e,t){return di(n).beforeAuthStateChanged(e,t)}function tL(n,e,t,r){return di(n).onAuthStateChanged(e,t,r)}const Xm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xm,"1"),this.storage.removeItem(Xm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=1e3,rL=10;class D3 extends P3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);b8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,rL):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},nL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}D3.type="LOCAL";const iL=D3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3 extends P3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}O3.type="SESSION";const M3=O3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await sL(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=Oy("",20);s.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const A=_;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(A.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(){return window}function oL(n){rl().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){return typeof rl().WorkerGlobalScope<"u"&&typeof rl().importScripts=="function"}async function lL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function cL(){return j3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="firebaseLocalStorageDb",hL=1,Qm="firebaseLocalStorage",F3="fbase_key";class $d{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function kg(n,e){return n.transaction([Qm],e?"readwrite":"readonly").objectStore(Qm)}function fL(){const n=indexedDB.deleteDatabase(U3);return new $d(n).toPromise()}function v2(){const n=indexedDB.open(U3,hL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qm,{keyPath:F3})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Qm)?e(r):(r.close(),await fL(),e(await v2()))})})}async function U_(n,e,t){const r=kg(n,!0).put({[F3]:e,value:t});return new $d(r).toPromise()}async function dL(n,e){const t=kg(n,!1).get(e),r=await new $d(t).toPromise();return r===void 0?null:r.value}function F_(n,e){const t=kg(n,!0).delete(e);return new $d(t).toPromise()}const pL=800,mL=3;class B3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await v2(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cg._getInstance(cL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await lL(),!this.activeServiceWorker)return;this.sender=new aL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await v2();return await U_(e,Xm,"1"),await F_(e,Xm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>U_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>dL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>F_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=kg(s,!1).getAll();return new $d(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}B3.type="LOCAL";const gL=B3;new Hd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n,e){return e?Bl(e):(Kt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Ly{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yL(n){return R3(n.auth,new My(n),n.bypassAuthState)}function vL(n){const{auth:e,user:t}=n;return Kt(t,e,"internal-error"),$8(t,new My(n),n.bypassAuthState)}async function bL(n){const{auth:e,user:t}=n;return Kt(t,e,"internal-error"),Y8(t,new My(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yL;case"linkViaPopup":case"linkViaRedirect":return bL;case"reauthViaPopup":case"reauthViaRedirect":return vL;default:Ka(this.auth,"internal-error")}}resolve(e){Gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Hd(2e3,1e4);async function wL(n,e,t){if(ya(n.app))return Promise.reject(Ao(n,"operation-not-supported-in-this-environment"));const r=Zu(n);ZR(n,e,Dy);const s=V3(r,t);return new Ic(r,"signInViaPopup",e,s).executeNotNull()}class Ic extends z3{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ic.currentPopupAction&&Ic.currentPopupAction.cancel(),Ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Kt(e,this.auth,"internal-error"),e}async onExecution(){Gl(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ao(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ao(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ao(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_L.get())};e()}}Ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="pendingRedirect",Am=new Map;class SL extends z3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Am.get(this.auth._key());if(!e){try{const r=await EL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Am.set(this.auth._key(),e)}return this.bypassAuthState||Am.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EL(n,e){const t=NL(e),r=TL(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function xL(n,e){Am.set(n._key(),e)}function TL(n){return Bl(n._redirectPersistence)}function NL(n){return wm(AL,n.config.apiKey,n.name)}async function IL(n,e,t=!1){if(ya(n.app))return Promise.reject(Vl(n));const r=Zu(n),s=V3(r,e),u=await new SL(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=600*1e3;class kL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!q3(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ao(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CL&&this.cachedEventUids.clear(),this.cachedEventUids.has(B_(e))}saveEventToCache(e){this.cachedEventUids.add(B_(e)),this.lastProcessedEventTime=Date.now()}}function B_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function q3({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(n,e={}){return Yl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DL=/^https?/;async function OL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LL(n);for(const t of e)try{if(ML(t))return}catch{}Ka(n,"unauthorized-domain")}function ML(n){const e=m2(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!DL.test(t))return!1;if(PL.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Hd(3e4,6e4);function V_(){const n=rl().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UL(n){return new Promise((e,t)=>{var s,o,u;function r(){V_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V_(),t(Ao(n,"network-request-failed"))},timeout:jL.get()})}if((o=(s=rl().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=rl().gapi)!=null&&u.load)r();else{const c=I8("iframefcb");return rl()[c]=()=>{gapi.load?r():t(Ao(n,"network-request-failed"))},N3(`${N8()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Sm=null,e})}let Sm=null;function FL(n){return Sm=Sm||UL(n),Sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Hd(5e3,15e3),VL="__/auth/iframe",zL="emulator/auth/iframe",qL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GL(n){const e=n.config;Kt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Cy(e,zL):`https://${n.config.authDomain}/${VL}`,r={apiKey:e.apiKey,appName:n.name,v:rf},s=HL.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ud(r).slice(1)}`}async function YL(n){const e=await FL(n),t=rl().gapi;return Kt(t,n,"internal-error"),e.open({where:document.body,url:GL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qL,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ao(n,"network-request-failed"),c=rl().setTimeout(()=>{o(u)},BL.get());function f(){rl().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KL=500,WL=600,XL="_blank",QL="http://localhost";class z_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JL(n,e,t,r=KL,s=WL){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...$L,width:r.toString(),height:s.toString(),top:o,left:u},d=ws().toLowerCase();t&&(c=_3(d)?XL:t),v3(d)&&(e=e||QL,f.scrollbars="yes");const p=Object.entries(f).reduce((A,[v,M])=>`${A}${v}=${M},`,"");if(v8(d)&&c!=="_self")return ZL(e||"",c),new z_(null);const _=window.open(e||"",c,p);Kt(_,n,"popup-blocked");try{_.focus()}catch{}return new z_(_)}function ZL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="__/auth/handler",t7="emulator/auth/handler",n7=encodeURIComponent("fac");async function q_(n,e,t,r,s,o){Kt(n.config.authDomain,n,"auth-domain-config-required"),Kt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:rf,eventId:s};if(e instanceof Dy){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",n6(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,_]of Object.entries({}))u[p]=_}if(e instanceof Yd){const p=e.getScopes().filter(_=>_!=="");p.length>0&&(u.scopes=p.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await n._getAppCheckToken(),d=f?`#${n7}=${encodeURIComponent(f)}`:"";return`${r7(n)}?${Ud(c).slice(1)}${d}`}function r7({config:n}){return n.emulator?Cy(n,t7):`https://${n.authDomain}/${e7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="webStorageSupport";class i7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=M3,this._completeRedirectFn=IL,this._overrideRedirectResult=xL}async _openPopup(e,t,r,s){var u;Gl((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const o=await q_(e,t,r,m2(),s);return JL(e,o,Oy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await q_(e,t,r,m2(),s);return oL(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Gl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await YL(e),r=new kL(e);return t.register("authEvent",s=>(Kt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(u0,{type:u0},s=>{var u;const o=(u=s==null?void 0:s[0])==null?void 0:u[u0];o!==void 0&&t(!!o),Ka(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=OL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x3()||b3()||Ry()}}const s7=i7;var H_="@firebase/auth",G_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Kt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l7(n){il(new So("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Kt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T3(n)},d=new E8(r,s,o,f);return D8(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),il(new So("auth-internal",e=>{const t=Zu(e.getProvider("auth").getImmediate());return(r=>new a7(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(H_,G_,o7(n)),$a(H_,G_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=300,c7=QA("authIdTokenMaxAge")||u7;let Y_=null;const h7=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>c7)return;const s=t==null?void 0:t.token;Y_!==s&&(Y_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function jy(n=z2()){const e=Bc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=P8(n,{popupRedirectResolver:s7,persistence:[gL,iL,M3]}),r=QA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=h7(o.toString());eL(t,u,()=>u(t.currentUser)),Z8(t,c=>u(c))}}const s=WA("auth");return s&&O8(t,`http://${s}`),t}function f7(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}x8({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Ao("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",f7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l7("Browser");const d7={apiKey:window.env.FIREBASE_API_KEY,authDomain:window.env.FIREBASE_AUTH_DOMAIN,projectId:window.env.FIREBASE_PROJECT_ID,storageBucket:window.env.FIREBASE_STORAGE_BUCKET,messagingSenderId:window.env.FIREBASE_MESSAGING_SENDER_ID,appId:window.env.FIREBASE_APP_ID,measurementId:window.env.FIREBASE_MEASUREMENT_ID},cf=a4(d7);YR(cf);const Uy=RS(cf),Fy=jy(cf);function p7({onNavigate:n}){const[e,t]=Gt.useState(null),[r,s]=Gt.useState(!0),[o,u]=Gt.useState(!1);Gt.useEffect(()=>{const Q=tL(Fy,K=>{if(K){console.log("Dashboard: User authenticated",K.uid);const te=qc(Uy,"userStats",K.uid),me=Ck(te,ue=>{ue.exists()?(console.log("Dashboard: Data reception",ue.data()),t(ue.data())):(console.log("Dashboard: No data (initialized to 0)"),t({}))});return()=>me()}else console.log("Dashboard: Logged out status"),t(null)});return()=>Q()},[]);const c=Q=>Q||0,f=(e==null?void 0:e.totalUsage)||0,d=f===0?1:f,p={codeAnalysis:(c(e==null?void 0:e.codeAnalysis)/d*100).toFixed(0),documentSummarizer:(c(e==null?void 0:e.documentSummarizer)/d*100).toFixed(0),policyQA:(c(e==null?void 0:e.policyQA)/d*100).toFixed(0),reportGenerator:(c(e==null?void 0:e.reportGenerator)/d*100).toFixed(0)},_={codeAnalysis:60,documentSummarizer:30,policyQA:15,reportGenerator:45},v=((c(e==null?void 0:e.codeAnalysis)*_.codeAnalysis+c(e==null?void 0:e.documentSummarizer)*_.documentSummarizer+c(e==null?void 0:e.policyQA)*_.policyQA+c(e==null?void 0:e.reportGenerator)*_.reportGenerator)/60).toFixed(1),M=(Number(v)*250).toLocaleString(),U=Math.min(f*5,100),z={totalProjects:c(e==null?void 0:e.codeAnalysis),documentsProcessed:c(e==null?void 0:e.documentSummarizer),questionsAnswered:c(e==null?void 0:e.policyQA),reportsGenerated:c(e==null?void 0:e.reportGenerator)},L=[{label:"Code Analysis",percentage:p.codeAnalysis,color:"#2563eb"},{label:"documentSummarizer",percentage:p.documentSummarizer,color:"#10b981"},{label:"policyQA",percentage:p.policyQA,color:"#f59e0b"},{label:"reportGenerator",percentage:p.reportGenerator,color:"#8b5cf6"}];return X.jsxs("div",{className:"card",children:[X.jsx("h2",{children:"Welcome to Due Diligence AI Agent"}),X.jsx("p",{style:{marginBottom:"30px",color:"#555"},children:"Your AI-powered assistant for comprehensive due diligence tasks."}),X.jsxs("div",{className:"stats-section",children:[X.jsx("h3",{style:{marginBottom:"20px",color:"#333"},children:"Your Activity Overview"}),X.jsxs("div",{className:"stats-grid",children:[X.jsxs("div",{className:"stat-card",style:{backgroundColor:"#2563eb",color:"white",borderRadius:"8px",padding:"16px"},children:[X.jsx("div",{className:"stat-value",children:z.totalProjects}),X.jsx("div",{className:"stat-label",children:"Projects Analyzed"})]}),X.jsxs("div",{className:"stat-card",style:{backgroundColor:"#2563eb",color:"white",borderRadius:"8px",padding:"16px"},children:[X.jsx("div",{className:"stat-value",children:z.documentsProcessed}),X.jsx("div",{className:"stat-label",children:"Documents Processed"})]}),X.jsxs("div",{className:"stat-card",style:{backgroundColor:"#2563eb",color:"white",borderRadius:"8px",padding:"16px"},children:[X.jsx("div",{className:"stat-value",children:z.questionsAnswered}),X.jsx("div",{className:"stat-label",children:"Questions Answered"})]}),X.jsxs("div",{className:"stat-card",style:{backgroundColor:"#2563eb",color:"white",borderRadius:"8px",padding:"16px"},children:[X.jsx("div",{className:"stat-value",children:z.reportsGenerated}),X.jsx("div",{className:"stat-label",children:"Reports Generated"})]})]}),X.jsxs("div",{className:"performance-section",children:[X.jsxs("div",{className:"performance-card",children:[X.jsx("h4",{children:"Efficiency Score"}),X.jsxs("div",{className:"score-circle",children:[X.jsx("div",{className:"score-value",children:U}),X.jsx("div",{className:"score-label",children:"Productivity Boost"})]}),X.jsx("p",{style:{textAlign:"center",marginTop:"10px",fontSize:"14px",color:"#555"},children:"Based on usage frequency & task completion"})]}),X.jsxs("div",{className:"performance-card",children:[X.jsx("h4",{children:"Feature Usage Distribution"}),X.jsx("div",{className:"usage-chart",children:L.map(Q=>X.jsxs("div",{className:"usage-item",children:[X.jsx("div",{className:"usage-label",children:Q.label}),X.jsx("div",{className:"usage-bar-container",children:X.jsx("div",{className:"usage-bar",style:{width:`${Q.percentage}%`,backgroundColor:Q.color}})}),X.jsxs("div",{className:"usage-percentage",children:[Q.percentage,"%"]})]},Q.label))})]})]}),X.jsxs("div",{onClick:()=>u(!o),style:{backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"8px",padding:"25px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[X.jsxs("div",{children:[X.jsx("h4",{style:{margin:"0 0 5px 0",color:"#2c3e50",fontSize:"18px"},children:o?" Estimated Cost Savings":" Total Time Saved"}),X.jsx("p",{style:{margin:0,color:"#7f8c8d",fontSize:"14px"},children:o?"Based on average consultant rate ($250/hr)":"Man-hours saved by using AI automation tools"})]}),X.jsxs("div",{style:{textAlign:"right"},children:[X.jsx("span",{style:{fontSize:"36px",fontWeight:"bold",color:o?"#059669":"#2563eb",display:"block",lineHeight:"1"},children:o?`$${M}`:`${v} hrs`}),X.jsx("span",{style:{fontSize:"12px",color:"#999"},children:"(Click to toggle view)"})]})]})]})]})}async function Rg(n){const e=Fy.currentUser;if(!e){console.error("[dbUsage] Error: No authenticated user found. Update cancelled.");return}console.log(`[dbUsage] Starting update for: ${n}, UserID: ${e.uid}`);const t=qc(Uy,"userStats",e.uid);try{(await xg(t)).exists()||(console.log("[dbUsage] Creating new user stats document"),await _y(t,{codeAnalysis:0,documentSummarizer:0,policyQA:0,reportGenerator:0,totalUsage:0,updatedAt:new Date})),await VS(t,{[n]:b_(1),totalUsage:b_(1),updatedAt:new Date}),console.log("[dbUsage] Database updated")}catch(r){console.error("[dbUsage] Database write error:",r)}}function m7(){const[n,e]=Gt.useState(""),[t,r]=Gt.useState(!1),[s,o]=Gt.useState(""),[u,c]=Gt.useState([]),[f,d]=Gt.useState(null),p=async()=>{const L=await window.api.selectDirectory();L&&(e(L),o(""))},_=async()=>{if(await Rg("codeAnalysis"),!n){o("Please select a folder first.");return}r(!0),o(""),d(null);try{const L=await window.api.runCodeCounter(n);if(L.success){const Q=L.data,K=Q.reduce((k,Z)=>k+Z.Count,0),te=Q.reduce((k,Z)=>k+Z.Code,0),me=Q.reduce((k,Z)=>k+Z.Comment,0),ue=Q.reduce((k,Z)=>k+Z.Blank,0),V=te+me+ue,P=Q.flatMap(k=>k.Files||[]),R=new Date().toISOString().replace("T"," ").split(".")[0],H=n.split(/[\\/]/).pop()||"Scanned Project",N={id:u.length+1,name:H,url:n,analyzedDate:R,totalFiles:K,totalCode:te,totalComments:me,totalBlanks:ue,totalLines:V,languageBreakdown:Q,fileBreakdown:P},x=await window.api.saveCodeAnalysis(N);x.success?console.log(" Project saved successfully"):console.warn(" Failed to save project:",x.error),c([N,...u]),d(N),r(!1)}else o(L.error||"Failed to analyze the code."),r(!1)}catch(L){o(L.message||"Error running code analysis."),r(!1)}};function A(L,Q,K=!1){const te=L.toString();if(te.length>=Q)return te;const me=" ".repeat(Q-te.length);return K?te+me:me+te}function v(L){const Q=["language","files","code","comment","blank","total"],K=[12,12,12,12,12,12],te="+"+K.map(V=>"-".repeat(V)).join("+")+"+",me="|"+Q.map((V,P)=>A(V,K[P],!0)).join("|")+"|",ue=L.map(V=>{const P=V.Code+V.Comment+V.Blank;return"|"+A(V.Name,K[0],!0)+"|"+A(V.Count,K[1])+"|"+A(V.Code.toLocaleString(),K[2])+"|"+A(V.Comment,K[3])+"|"+A(V.Blank,K[4])+"|"+A(P.toLocaleString(),K[5])+"|"});return[te,me,te,...ue,te].join(`
`)}function M(L){const Q=["filename","language","code","comment","blank","total"],K=[80,12,12,12,12,12],te="+"+K.map(V=>"-".repeat(V)).join("+")+"+",me="|"+Q.map((V,P)=>A(V,K[P],P===0)).join("|")+"|",ue=L.map(V=>{const P=V.Code+V.Comment+V.Blank;return"|"+A(V.Location||V.Filename,K[0],!0)+"|"+A(V.Language,K[1],!0)+"|"+A(V.Code.toLocaleString(),K[2])+"|"+A(V.Comment,K[3])+"|"+A(V.Blank,K[4])+"|"+A(P.toLocaleString(),K[5])+"|"});return[te,me,te,...ue,te].join(`
`)}function U(L){const Q=`Date : ${L.analyzedDate}
Directory : ${L.url}
Total : ${L.totalFiles} files,  ${L.totalCode} codes, ${L.totalComments} comments, ${L.totalBlanks} blanks, all ${L.totalLines} lines
`,K=`
Languages
`,te=v(L.languageBreakdown),me=`
Files
`,ue=M(L.fileBreakdown||[]);return Q+K+te+me+ue+`
`}const z=()=>{if(!f)return;const L=U(f),Q=new Blob([L],{type:"text/plain;charset=utf-8"}),K=URL.createObjectURL(Q),te=document.createElement("a");te.href=K,te.download=`${f.name.replace(/\s+/g,"_")}_report.txt`,te.click(),URL.revokeObjectURL(K)};return X.jsxs("div",{className:"card",style:{maxWidth:"900px",margin:"auto",color:"#333"},children:[X.jsx("h2",{children:"Code Analysis"}),X.jsx("p",{style:{marginBottom:"20px",color:"#555"},children:"Select a folder and run code analysis using the SCC tool."}),X.jsx("button",{className:"button",onClick:p,style:{marginBottom:"10px"},children:"Choose Folder"}),n&&X.jsxs("p",{style:{marginBottom:"10px",fontFamily:"monospace"},children:[X.jsx("b",{children:"Selected:"})," ",n]}),X.jsx("button",{className:"button",onClick:_,disabled:t||!n,children:t?"Analyzing...":"Run Analysis"}),s&&X.jsx("div",{className:"error",style:{marginTop:"10px"},children:s}),X.jsxs("div",{style:{marginTop:"30px"},children:[X.jsxs("h3",{children:["Your Projects (",u.length,")"]}),u.length===0&&X.jsx("p",{children:"No projects analyzed yet."}),u.map(L=>X.jsxs("div",{className:`project-item ${(f==null?void 0:f.id)===L.id?"active":""}`,onClick:()=>d(L),style:{cursor:"pointer",padding:"10px",backgroundColor:(f==null?void 0:f.id)===L.id?"#f0f0f0":"#fff",marginBottom:"8px",borderRadius:"5px",fontFamily:"monospace",whiteSpace:"pre-wrap",color:"#333"},children:[L.name,`
`,L.analyzedDate,`
`,L.url,`
`,L.totalFiles," files ",L.totalCode.toLocaleString()," codes ",L.totalComments," comments ",L.totalBlanks," blanks all ",L.totalLines.toLocaleString()," lines"]},L.id))]}),f&&X.jsx("div",{className:"result-box",style:{marginTop:"20px"},children:X.jsx("button",{onClick:z,className:"button",style:{marginTop:"15px"},children:"Download Full Report"})})]})}function g7(){const[n,e]=Gt.useState(null),[t,r]=Gt.useState(!1),[s,o]=Gt.useState(""),[u,c]=Gt.useState(""),f=p=>{p.target.files&&p.target.files[0]&&(e(p.target.files[0]),c(""))},d=async()=>{const p=Fy.currentUser;if(p)try{console.log("Updating usage for user:",p.uid),await Rg("documentSummarizer")}catch(_){console.error("Failed to update usage:",_)}else console.warn("User not logged in, skipping usage update");if(!n){c("Please select a file to summarize");return}r(!0),c(""),setTimeout(()=>{o(`Summary of ${n.name}:

This document outlines the key findings from the due diligence process. The main points include:

1. Financial Performance: The company has shown consistent growth over the past 3 years with revenue increasing by 25% annually.

2. Risk Assessment: Several moderate risks were identified in the supply chain management area, particularly regarding vendor dependencies.

3. Compliance: All regulatory requirements are being met, with proper documentation maintained.

4. Recommendations: Consider diversifying supplier base and implementing additional quality control measures.`),r(!1)},2e3)};return X.jsxs("div",{className:"card",children:[X.jsx("h2",{children:"Document Summarizer"}),X.jsx("p",{style:{marginBottom:"20px",color:"#555"},children:"Upload documents (PDF, DOCX, TXT) to get AI-powered summaries."}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"fileUpload",children:"Select Document"}),X.jsxs("div",{className:"file-upload-area",onClick:()=>{var p;return(p=document.getElementById("fileUpload"))==null?void 0:p.click()},children:[X.jsx("input",{id:"fileUpload",type:"file",accept:".pdf,.docx,.txt",onChange:f}),X.jsx("p",{children:n?n.name:"Click to select a file or drag and drop"}),X.jsx("p",{style:{fontSize:"12px",color:"#6c757d",marginTop:"10px"},children:"Supported formats: PDF, DOCX, TXT"})]})]}),X.jsx("button",{className:"button",onClick:d,disabled:t||!n,children:t?"Summarizing...":"Generate Summary"}),u&&X.jsx("div",{className:"error",children:u}),t&&X.jsx("div",{className:"loading",children:"Processing document..."}),s&&!t&&X.jsxs("div",{className:"result-box",children:[X.jsx("h3",{children:"Document Summary"}),X.jsx("p",{style:{whiteSpace:"pre-line"},children:s})]})]})}function y7(){const[n,e]=Gt.useState(""),[t,r]=Gt.useState(!1),[s,o]=Gt.useState(""),[u,c]=Gt.useState(""),[f,d]=Gt.useState(""),[p,_]=Gt.useState([]),[A,v]=Gt.useState(0),[M,U]=Gt.useState(0),[z,L]=Gt.useState(!1);Gt.useEffect(()=>{const V=window.api;!V||!V.policyListPolicies||V.policyListPolicies().then(P=>{P!=null&&P.success?(_(P.policies||[]),v(P.totalDocs||0),U(P.totalChunks||0),(P.totalDocs||0)>0?d(`Loaded ${P.totalDocs} policies, ${P.totalChunks} chunks from saved index.`):d("No policies loaded yet. Upload policy files to begin.")):(P==null?void 0:P.reason)==="missing"&&d("No saved policy index found. Upload policy files to begin.")})},[]);const Q=async()=>{const V=window.api;if(!V||!V.policyListPolicies)return;const P=await V.policyListPolicies();P!=null&&P.success&&(_(P.policies||[]),v(P.totalDocs||0),U(P.totalChunks||0))},K=async()=>{if(await Rg("policyQA"),!n.trim()){c("Please enter a question.");return}r(!0),c(""),o("");const V=window.api;if(!V||!V.policyAskQuestion){c("Policy Q&A backend not available. Check preload.js / main.js."),r(!1);return}try{const P=await V.policyAskQuestion(n);P!=null&&P.success?o(P.answer||""):c((P==null?void 0:P.error)||"Error answering question. Make sure policies have been uploaded and indexed.")}catch(P){console.error(P),c(P.message||"Unexpected error while answering question.")}finally{r(!1)}},te=async()=>{var R,H;c(""),d("");const V=window.api;if(!V||!V.selectPolicyFiles||!V.policyIndexPolicies){c("Policy upload not available. Check preload.js / main.js.");return}const P=await V.selectPolicyFiles();if(!(P!=null&&P.success)||!((R=P.filePaths)!=null&&R.length)){d("No policy files selected.");return}d("Indexing selected policies...");try{const N=await V.policyIndexPolicies(P.filePaths);N.success?(d(`Indexed ${((H=N.indexedDocs)==null?void 0:H.length)??0} new file(s). Total chunks: ${N.chunkCount??0}.`),await Q()):c(N.error||"Failed to index policies.")}catch(N){console.error(N),c(N.message||"Unexpected error while indexing policies.")}},me=async()=>{if(c(""),!window.confirm(`Are you sure you want to clear ALL policies?

This will remove all indexed files and erase the saved index.`))return;const P=window.api;if(!P||!P.policyClearIndex){c("Policy clear backend not available. Check preload.js / main.js.");return}try{const R=await P.policyClearIndex();R!=null&&R.success?(d("Policy index cleared. No policies are currently loaded."),_([]),v(0),U(0),o("")):c((R==null?void 0:R.error)||"Failed to clear policy index.")}catch(R){console.error(R),c(R.message||"Unexpected error while clearing policy index.")}},ue=async V=>{c("");const P=window.api;if(!P||!P.policyRemovePolicy){c("Policy remove backend not available. Check preload.js / main.js.");return}if(window.confirm(`Remove "${V}" from the policy index? This will stop it from being used to answer questions.`))try{const H=await P.policyRemovePolicy(V);H!=null&&H.success?(d(`Removed ${V} from index.`),await Q()):c((H==null?void 0:H.error)||`Failed to remove policy: ${V}`)}catch(H){console.error(H),c(H.message||"Unexpected error while removing policy.")}};return X.jsxs("div",{className:"page",children:[X.jsxs("div",{className:"page-header",children:[X.jsx("h1",{children:"Policy Q&A"}),X.jsx("p",{children:"Ask questions about company policies and get answers based only on the documents youve uploaded."})]}),X.jsxs("section",{className:"section",children:[X.jsx("h2",{children:"Ask a Question"}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"question",children:"Your Question"}),X.jsx("textarea",{id:"question",placeholder:"e.g., What are the data encryption requirements?",value:n,onChange:V=>e(V.target.value)})]}),X.jsx("button",{className:"button",onClick:K,disabled:t,children:t?"Searching...":"Ask Question"}),u&&X.jsx("div",{className:"error",style:{marginTop:"12px"},children:u}),t&&X.jsx("div",{className:"loading",style:{marginTop:"12px"},children:"Searching policy documents..."}),s&&!t&&X.jsxs("div",{className:"result-box",style:{marginTop:"16px"},children:[X.jsx("h3",{children:"Answer"}),X.jsx("p",{style:{whiteSpace:"pre-line"},children:s})]})]}),X.jsxs("section",{className:"section",children:[X.jsx("h2",{children:"Policy Management"}),X.jsxs("p",{children:["Loaded policies: ",A," document",A===1?"":"s",","," ",M," chunk",M===1?"":"s","."]}),X.jsxs("div",{style:{marginBottom:"12px",display:"flex",gap:"8px"},children:[X.jsx("button",{className:"button secondary",type:"button",onClick:te,disabled:t,children:"Upload / Index Policy Files"}),X.jsx("button",{className:"button danger",type:"button",onClick:me,disabled:t,children:"Clear Policy Index"}),X.jsx("button",{className:"button secondary",type:"button",onClick:()=>L(!0),disabled:t||A===0,children:"Manage / Remove Policies"})]}),f&&X.jsx("div",{style:{marginTop:"4px",marginBottom:"4px",fontSize:"0.9rem",color:"#555"},children:f})]}),z&&X.jsx("div",{className:"modal-overlay",style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:X.jsxs("div",{className:"modal",style:{background:"#fff",borderRadius:"8px",padding:"16px",minWidth:"420px",maxWidth:"640px",maxHeight:"80vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[X.jsx("h3",{style:{margin:0},children:"Policy List"}),X.jsx("button",{className:"button small",type:"button",onClick:()=>L(!1),children:"Close"})]}),X.jsx("p",{style:{marginBottom:"8px",fontSize:"0.9rem"},children:"These are the policies currently in the index. Removing one will stop it from being used to answer questions."}),X.jsx("div",{className:"policy-table-wrapper",children:X.jsxs("table",{className:"policy-table",style:{width:"100%"},children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{style:{textAlign:"left",padding:"4px 8px"},children:"Policy Name"}),X.jsx("th",{style:{textAlign:"left",padding:"4px 8px"},children:"Actions"})]})}),X.jsxs("tbody",{children:[p.length===0&&X.jsx("tr",{children:X.jsx("td",{colSpan:2,style:{textAlign:"center",padding:"8px"},children:"No policies loaded."})}),p.map(V=>X.jsxs("tr",{children:[X.jsx("td",{style:{padding:"4px 8px"},children:V.docName}),X.jsx("td",{style:{padding:"4px 8px"},children:X.jsx("button",{className:"button small danger",type:"button",onClick:()=>ue(V.docName),children:"Remove"})})]},V.docName))]})]})}),X.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"#555"},children:["Total: ",A," policy file",A===1?"":"s","."]})]})})]})}function v7(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const b7=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_7=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,w7={};function $_(n,e){return(w7.jsx?_7:b7).test(n)}const A7=/[ \t\n\f\r]/g;function S7(n){return typeof n=="object"?n.type==="text"?K_(n.value):!1:K_(n)}function K_(n){return n.replace(A7,"")===""}class Kd{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}Kd.prototype.normal={};Kd.prototype.property={};Kd.prototype.space=void 0;function H3(n,e){const t={},r={};for(const s of n)Object.assign(t,s.property),Object.assign(r,s.normal);return new Kd(t,r,e)}function b2(n){return n.toLowerCase()}class ta{constructor(e,t){this.attribute=t,this.property=e}}ta.prototype.attribute="";ta.prototype.booleanish=!1;ta.prototype.boolean=!1;ta.prototype.commaOrSpaceSeparated=!1;ta.prototype.commaSeparated=!1;ta.prototype.defined=!1;ta.prototype.mustUseProperty=!1;ta.prototype.number=!1;ta.prototype.overloadedBoolean=!1;ta.prototype.property="";ta.prototype.spaceSeparated=!1;ta.prototype.space=void 0;let E7=0;const hn=Hc(),ci=Hc(),_2=Hc(),nt=Hc(),fr=Hc(),zh=Hc(),ga=Hc();function Hc(){return 2**++E7}const w2=Object.freeze(Object.defineProperty({__proto__:null,boolean:hn,booleanish:ci,commaOrSpaceSeparated:ga,commaSeparated:zh,number:nt,overloadedBoolean:_2,spaceSeparated:fr},Symbol.toStringTag,{value:"Module"})),c0=Object.keys(w2);class By extends ta{constructor(e,t,r,s){let o=-1;if(super(e,t),W_(this,"space",s),typeof r=="number")for(;++o<c0.length;){const u=c0[o];W_(this,c0[o],(r&w2[u])===w2[u])}}}By.prototype.defined=!0;function W_(n,e,t){t&&(n[e]=t)}function hf(n){const e={},t={};for(const[r,s]of Object.entries(n.properties)){const o=new By(r,n.transform(n.attributes||{},r),s,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,t[b2(r)]=r,t[b2(o.attribute)]=r}return new Kd(e,t,n.space)}const G3=hf({properties:{ariaActiveDescendant:null,ariaAtomic:ci,ariaAutoComplete:null,ariaBusy:ci,ariaChecked:ci,ariaColCount:nt,ariaColIndex:nt,ariaColSpan:nt,ariaControls:fr,ariaCurrent:null,ariaDescribedBy:fr,ariaDetails:null,ariaDisabled:ci,ariaDropEffect:fr,ariaErrorMessage:null,ariaExpanded:ci,ariaFlowTo:fr,ariaGrabbed:ci,ariaHasPopup:null,ariaHidden:ci,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fr,ariaLevel:nt,ariaLive:null,ariaModal:ci,ariaMultiLine:ci,ariaMultiSelectable:ci,ariaOrientation:null,ariaOwns:fr,ariaPlaceholder:null,ariaPosInSet:nt,ariaPressed:ci,ariaReadOnly:ci,ariaRelevant:null,ariaRequired:ci,ariaRoleDescription:fr,ariaRowCount:nt,ariaRowIndex:nt,ariaRowSpan:nt,ariaSelected:ci,ariaSetSize:nt,ariaSort:null,ariaValueMax:nt,ariaValueMin:nt,ariaValueNow:nt,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Y3(n,e){return e in n?n[e]:e}function $3(n,e){return Y3(n,e.toLowerCase())}const x7=hf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zh,acceptCharset:fr,accessKey:fr,action:null,allow:null,allowFullScreen:hn,allowPaymentRequest:hn,allowUserMedia:hn,alt:null,as:null,async:hn,autoCapitalize:null,autoComplete:fr,autoFocus:hn,autoPlay:hn,blocking:fr,capture:null,charSet:null,checked:hn,cite:null,className:fr,cols:nt,colSpan:null,content:null,contentEditable:ci,controls:hn,controlsList:fr,coords:nt|zh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:hn,defer:hn,dir:null,dirName:null,disabled:hn,download:_2,draggable:ci,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:hn,formTarget:null,headers:fr,height:nt,hidden:_2,high:nt,href:null,hrefLang:null,htmlFor:fr,httpEquiv:fr,id:null,imageSizes:null,imageSrcSet:null,inert:hn,inputMode:null,integrity:null,is:null,isMap:hn,itemId:null,itemProp:fr,itemRef:fr,itemScope:hn,itemType:fr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:hn,low:nt,manifest:null,max:null,maxLength:nt,media:null,method:null,min:null,minLength:nt,multiple:hn,muted:hn,name:null,nonce:null,noModule:hn,noValidate:hn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:hn,optimum:nt,pattern:null,ping:fr,placeholder:null,playsInline:hn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:hn,referrerPolicy:null,rel:fr,required:hn,reversed:hn,rows:nt,rowSpan:nt,sandbox:fr,scope:null,scoped:hn,seamless:hn,selected:hn,shadowRootClonable:hn,shadowRootDelegatesFocus:hn,shadowRootMode:null,shape:null,size:nt,sizes:null,slot:null,span:nt,spellCheck:ci,src:null,srcDoc:null,srcLang:null,srcSet:null,start:nt,step:null,style:null,tabIndex:nt,target:null,title:null,translate:null,type:null,typeMustMatch:hn,useMap:null,value:ci,width:nt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fr,axis:null,background:null,bgColor:null,border:nt,borderColor:null,bottomMargin:nt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:hn,declare:hn,event:null,face:null,frame:null,frameBorder:null,hSpace:nt,leftMargin:nt,link:null,longDesc:null,lowSrc:null,marginHeight:nt,marginWidth:nt,noResize:hn,noHref:hn,noShade:hn,noWrap:hn,object:null,profile:null,prompt:null,rev:null,rightMargin:nt,rules:null,scheme:null,scrolling:ci,standby:null,summary:null,text:null,topMargin:nt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:hn,disableRemotePlayback:hn,prefix:null,property:null,results:nt,security:null,unselectable:null},space:"html",transform:$3}),T7=hf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ga,accentHeight:nt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:nt,amplitude:nt,arabicForm:null,ascent:nt,attributeName:null,attributeType:null,azimuth:nt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:nt,by:null,calcMode:null,capHeight:nt,className:fr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:nt,diffuseConstant:nt,direction:null,display:null,dur:null,divisor:nt,dominantBaseline:null,download:hn,dx:null,dy:null,edgeMode:null,editable:null,elevation:nt,enableBackground:null,end:null,event:null,exponent:nt,externalResourcesRequired:null,fill:null,fillOpacity:nt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zh,g2:zh,glyphName:zh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:nt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:nt,horizOriginX:nt,horizOriginY:nt,id:null,ideographic:nt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:nt,k:nt,k1:nt,k2:nt,k3:nt,k4:nt,kernelMatrix:ga,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:nt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:nt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:nt,overlineThickness:nt,paintOrder:null,panose1:null,path:null,pathLength:nt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:nt,pointsAtY:nt,pointsAtZ:nt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ga,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ga,rev:ga,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ga,requiredFeatures:ga,requiredFonts:ga,requiredFormats:ga,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:nt,specularExponent:nt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:nt,strikethroughThickness:nt,string:null,stroke:null,strokeDashArray:ga,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:nt,strokeOpacity:nt,strokeWidth:null,style:null,surfaceScale:nt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ga,tabIndex:nt,tableValues:null,target:null,targetX:nt,targetY:nt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ga,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:nt,underlineThickness:nt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:nt,values:null,vAlphabetic:nt,vMathematical:nt,vectorEffect:null,vHanging:nt,vIdeographic:nt,version:null,vertAdvY:nt,vertOriginX:nt,vertOriginY:nt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:nt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Y3}),K3=hf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),W3=hf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$3}),X3=hf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),N7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},I7=/[A-Z]/g,X_=/-[a-z]/g,C7=/^data[-\w.:]+$/i;function k7(n,e){const t=b2(e);let r=e,s=ta;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&C7.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(X_,L7);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!X_.test(o)){let u=o.replace(I7,R7);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=By}return new s(r,e)}function R7(n){return"-"+n.toLowerCase()}function L7(n){return n.charAt(1).toUpperCase()}const P7=H3([G3,x7,K3,W3,X3],"html"),Vy=H3([G3,T7,K3,W3,X3],"svg");function D7(n){return n.join(" ").trim()}var Eh={},h0,Q_;function O7(){if(Q_)return h0;Q_=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",p="*",_="",A="comment",v="declaration";h0=function(U,z){if(typeof U!="string")throw new TypeError("First argument must be a string");if(!U)return[];z=z||{};var L=1,Q=1;function K(k){var Z=k.match(e);Z&&(L+=Z.length);var fe=k.lastIndexOf(f);Q=~fe?k.length-fe:Q+k.length}function te(){var k={line:L,column:Q};return function(Z){return Z.position=new me(k),P(),Z}}function me(k){this.start=k,this.end={line:L,column:Q},this.source=z.source}me.prototype.content=U;function ue(k){var Z=new Error(z.source+":"+L+":"+Q+": "+k);if(Z.reason=k,Z.filename=z.source,Z.line=L,Z.column=Q,Z.source=U,!z.silent)throw Z}function V(k){var Z=k.exec(U);if(Z){var fe=Z[0];return K(fe),U=U.slice(fe.length),Z}}function P(){V(t)}function R(k){var Z;for(k=k||[];Z=H();)Z!==!1&&k.push(Z);return k}function H(){var k=te();if(!(d!=U.charAt(0)||p!=U.charAt(1))){for(var Z=2;_!=U.charAt(Z)&&(p!=U.charAt(Z)||d!=U.charAt(Z+1));)++Z;if(Z+=2,_===U.charAt(Z-1))return ue("End of comment missing");var fe=U.slice(2,Z-2);return Q+=2,K(fe),U=U.slice(Z),Q+=2,k({type:A,comment:fe})}}function N(){var k=te(),Z=V(r);if(Z){if(H(),!V(s))return ue("property missing ':'");var fe=V(o),se=k({type:v,property:M(Z[0].replace(n,_)),value:fe?M(fe[0].replace(n,_)):_});return V(u),se}}function x(){var k=[];R(k);for(var Z;Z=N();)Z!==!1&&(k.push(Z),R(k));return k}return P(),x()};function M(U){return U?U.replace(c,_):_}return h0}var J_;function M7(){if(J_)return Eh;J_=1;var n=Eh&&Eh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Eh,"__esModule",{value:!0}),Eh.default=t;var e=n(O7());function t(r,s){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),c=typeof s=="function";return u.forEach(function(f){if(f.type==="declaration"){var d=f.property,p=f.value;c?s(d,p,f):p&&(o=o||{},o[d]=p)}}),o}return Eh}var td={},Z_;function j7(){if(Z_)return td;Z_=1,Object.defineProperty(td,"__esModule",{value:!0}),td.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(d){return!d||t.test(d)||n.test(d)},u=function(d,p){return p.toUpperCase()},c=function(d,p){return"".concat(p,"-")},f=function(d,p){return p===void 0&&(p={}),o(d)?d:(d=d.toLowerCase(),p.reactCompat?d=d.replace(s,c):d=d.replace(r,c),d.replace(e,u))};return td.camelCase=f,td}var nd,ew;function U7(){if(ew)return nd;ew=1;var n=nd&&nd.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=n(M7()),t=j7();function r(s,o){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(c,f){c&&f&&(u[(0,t.camelCase)(c,o)]=f)}),u}return r.default=r,nd=r,nd}var F7=U7();const B7=ig(F7),Q3=J3("end"),zy=J3("start");function J3(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function V7(n){const e=zy(n),t=Q3(n);if(e&&t)return{start:e,end:t}}function bd(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?tw(n.position):"start"in n||"end"in n?tw(n):"line"in n||"column"in n?A2(n):""}function A2(n){return nw(n&&n.line)+":"+nw(n&&n.column)}function tw(n){return A2(n&&n.start)+"-"+A2(n&&n.end)}function nw(n){return n&&typeof n=="number"?n:1}class As extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let s="",o={},u=!1;if(t&&("line"in t&&"column"in t?o={place:t}:"start"in t&&"end"in t?o={place:t}:"type"in t?o={ancestors:[t],place:t.position}:o={...t}),typeof e=="string"?s=e:!o.cause&&e&&(u=!0,s=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=c?c.line:void 0,this.name=bd(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}As.prototype.file="";As.prototype.name="";As.prototype.reason="";As.prototype.message="";As.prototype.stack="";As.prototype.column=void 0;As.prototype.line=void 0;As.prototype.ancestors=void 0;As.prototype.cause=void 0;As.prototype.fatal=void 0;As.prototype.place=void 0;As.prototype.ruleId=void 0;As.prototype.source=void 0;const qy={}.hasOwnProperty,z7=new Map,q7=/[A-Z]/g,H7=new Set(["table","tbody","thead","tfoot","tr"]),G7=new Set(["td","th"]),Z3="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Y7(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=eP(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Z7(t,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Vy:P7,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=eE(s,n,void 0);return o&&typeof o!="string"?o:s.create(n,s.Fragment,{children:o||void 0},void 0)}function eE(n,e,t){if(e.type==="element")return $7(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return K7(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return X7(n,e,t);if(e.type==="mdxjsEsm")return W7(n,e);if(e.type==="root")return Q7(n,e,t);if(e.type==="text")return J7(n,e)}function $7(n,e,t){const r=n.schema;let s=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Vy,n.schema=s),n.ancestors.push(e);const o=nE(n,e.tagName,!1),u=tP(n,e);let c=Gy(n,e);return H7.has(e.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!S7(f):!0})),tE(n,u,o,e),Hy(u,c),n.ancestors.pop(),n.schema=r,n.create(e,o,u,t)}function K7(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}Od(n,e.position)}function W7(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Od(n,e.position)}function X7(n,e,t){const r=n.schema;let s=r;e.name==="svg"&&r.space==="html"&&(s=Vy,n.schema=s),n.ancestors.push(e);const o=e.name===null?n.Fragment:nE(n,e.name,!0),u=nP(n,e),c=Gy(n,e);return tE(n,u,o,e),Hy(u,c),n.ancestors.pop(),n.schema=r,n.create(e,o,u,t)}function Q7(n,e,t){const r={};return Hy(r,Gy(n,e)),n.create(e,n.Fragment,r,t)}function J7(n,e){return e.value}function tE(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function Hy(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function Z7(n,e,t){return r;function r(s,o,u,c){const d=Array.isArray(u.children)?t:e;return c?d(o,u,c):d(o,u)}}function eP(n,e){return t;function t(r,s,o,u){const c=Array.isArray(o.children),f=zy(r);return e(s,o,u,c,{columnNumber:f?f.column-1:void 0,fileName:n,lineNumber:f?f.line:void 0},void 0)}}function tP(n,e){const t={};let r,s;for(s in e.properties)if(s!=="children"&&qy.call(e.properties,s)){const o=rP(n,s,e.properties[s]);if(o){const[u,c]=o;n.tableCellAlignToStyle&&u==="align"&&typeof c=="string"&&G7.has(e.tagName)?r=c:t[u]=c}}if(r){const o=t.style||(t.style={});o[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function nP(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const c=u.properties[0];c.type,Object.assign(t,n.evaluater.evaluateExpression(c.argument))}else Od(n,e.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const c=r.value.data.estree.body[0];c.type,o=n.evaluater.evaluateExpression(c.expression)}else Od(n,e.position);else o=r.value===null?!0:r.value;t[s]=o}return t}function Gy(n,e){const t=[];let r=-1;const s=n.passKeys?new Map:z7;for(;++r<e.children.length;){const o=e.children[r];let u;if(n.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const d=s.get(f)||0;u=f+"-"+d,s.set(f,d+1)}}const c=eE(n,o,u);c!==void 0&&t.push(c)}return t}function rP(n,e,t){const r=k7(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?v7(t):D7(t)),r.property==="style"){let s=typeof t=="object"?t:iP(n,String(t));return n.stylePropertyNameCase==="css"&&(s=sP(s)),["style",s]}return[n.elementAttributeNameCase==="react"&&r.space?N7[r.property]||r.property:r.attribute,t]}}function iP(n,e){try{return B7(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,s=new As("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=n.filePath||void 0,s.url=Z3+"#cannot-parse-style-attribute",s}}function nE(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let o=-1,u;for(;++o<s.length;){const c=$_(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=u}else r=$_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const s=r.value;return qy.call(n.components,s)?n.components[s]:s}if(n.evaluater)return n.evaluater.evaluateExpression(r);Od(n)}function Od(n,e){const t=new As("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=Z3+"#cannot-handle-mdx-estrees-without-createevaluater",t}function sP(n){const e={};let t;for(t in n)qy.call(n,t)&&(e[aP(t)]=n[t]);return e}function aP(n){let e=n.replace(q7,oP);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function oP(n){return"-"+n.toLowerCase()}const f0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lP={};function uP(n,e){const t=lP,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,s=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return rE(n,r,s)}function rE(n,e,t){if(cP(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return rw(n.children,e,t)}return Array.isArray(n)?rw(n,e,t):""}function rw(n,e,t){const r=[];let s=-1;for(;++s<n.length;)r[s]=rE(n[s],e,t);return r.join("")}function cP(n){return!!(n&&typeof n=="object")}const iw=document.createElement("i");function Yy(n){const e="&"+n+";";iw.innerHTML=e;const t=iw.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function ol(n,e,t,r){const s=n.length;let o=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,t=t>0?t:0,r.length<1e4)u=Array.from(r),u.unshift(e,t),n.splice(...u);else for(t&&n.splice(e,t);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),n.splice(...u),o+=1e4,e+=1e4}function Ga(n,e){return n.length>0?(ol(n,n.length,0,e),n):e}const sw={}.hasOwnProperty;function hP(n){const e={};let t=-1;for(;++t<n.length;)fP(e,n[t]);return e}function fP(n,e){let t;for(t in e){const s=(sw.call(n,t)?n[t]:void 0)||(n[t]={}),o=e[t];let u;if(o)for(u in o){sw.call(s,u)||(s[u]=[]);const c=o[u];dP(s[u],Array.isArray(c)?c:c?[c]:[])}}}function dP(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);ol(n,0,0,r)}function iE(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function qh(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wo=ec(/[A-Za-z]/),ba=ec(/[\dA-Za-z]/),pP=ec(/[#-'*+\--9=?A-Z^-~]/);function S2(n){return n!==null&&(n<32||n===127)}const E2=ec(/\d/),mP=ec(/[\dA-Fa-f]/),gP=ec(/[!-/:-@[-`{-~]/);function tn(n){return n!==null&&n<-2}function ea(n){return n!==null&&(n<0||n===32)}function Bn(n){return n===-2||n===-1||n===32}const yP=ec(new RegExp("\\p{P}|\\p{S}","u")),vP=ec(/\s/);function ec(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function ff(n){const e=[];let t=-1,r=0,s=0;for(;++t<n.length;){const o=n.charCodeAt(t);let u="";if(o===37&&ba(n.charCodeAt(t+1))&&ba(n.charCodeAt(t+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const c=n.charCodeAt(t+1);o<56320&&c>56319&&c<57344?(u=String.fromCharCode(o,c),s=1):u=""}else u=String.fromCharCode(o);u&&(e.push(n.slice(r,t),encodeURIComponent(u)),r=t+s+1,u=""),s&&(t+=s,s=0)}return e.join("")+n.slice(r)}function dr(n,e,t,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return Bn(f)?(n.enter(t),c(f)):e(f)}function c(f){return Bn(f)&&o++<s?(n.consume(f),c):(n.exit(t),e(f))}}const bP={tokenize:_P};function _P(n){const e=n.attempt(this.parser.constructs.contentInitial,r,s);let t;return e;function r(c){if(c===null){n.consume(c);return}return n.enter("lineEnding"),n.consume(c),n.exit("lineEnding"),dr(n,e,"linePrefix")}function s(c){return n.enter("paragraph"),o(c)}function o(c){const f=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=f),t=f,u(c)}function u(c){if(c===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(c);return}return tn(c)?(n.consume(c),n.exit("chunkText"),o):(n.consume(c),u)}}const wP={tokenize:AP},aw={tokenize:SP};function AP(n){const e=this,t=[];let r=0,s,o,u;return c;function c(K){if(r<t.length){const te=t[r];return e.containerState=te[1],n.attempt(te[0].continuation,f,d)(K)}return d(K)}function f(K){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&Q();const te=e.events.length;let me=te,ue;for(;me--;)if(e.events[me][0]==="exit"&&e.events[me][1].type==="chunkFlow"){ue=e.events[me][1].end;break}L(r);let V=te;for(;V<e.events.length;)e.events[V][1].end={...ue},V++;return ol(e.events,me+1,0,e.events.slice(te)),e.events.length=V,d(K)}return c(K)}function d(K){if(r===t.length){if(!s)return A(K);if(s.currentConstruct&&s.currentConstruct.concrete)return M(K);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(aw,p,_)(K)}function p(K){return s&&Q(),L(r),A(K)}function _(K){return e.parser.lazy[e.now().line]=r!==t.length,u=e.now().offset,M(K)}function A(K){return e.containerState={},n.attempt(aw,v,M)(K)}function v(K){return r++,t.push([e.currentConstruct,e.containerState]),A(K)}function M(K){if(K===null){s&&Q(),L(0),n.consume(K);return}return s=s||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),U(K)}function U(K){if(K===null){z(n.exit("chunkFlow"),!0),L(0),n.consume(K);return}return tn(K)?(n.consume(K),z(n.exit("chunkFlow")),r=0,e.interrupt=void 0,c):(n.consume(K),U)}function z(K,te){const me=e.sliceStream(K);if(te&&me.push(null),K.previous=o,o&&(o.next=K),o=K,s.defineSkip(K.start),s.write(me),e.parser.lazy[K.start.line]){let ue=s.events.length;for(;ue--;)if(s.events[ue][1].start.offset<u&&(!s.events[ue][1].end||s.events[ue][1].end.offset>u))return;const V=e.events.length;let P=V,R,H;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){if(R){H=e.events[P][1].end;break}R=!0}for(L(r),ue=V;ue<e.events.length;)e.events[ue][1].end={...H},ue++;ol(e.events,P+1,0,e.events.slice(V)),e.events.length=ue}}function L(K){let te=t.length;for(;te-- >K;){const me=t[te];e.containerState=me[1],me[0].exit.call(e,n)}t.length=K}function Q(){s.write([null]),o=void 0,s=void 0,e.containerState._closeFlow=void 0}}function SP(n,e,t){return dr(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ow(n){if(n===null||ea(n)||vP(n))return 1;if(yP(n))return 2}function $y(n,e,t){const r=[];let s=-1;for(;++s<n.length;){const o=n[s].resolveAll;o&&!r.includes(o)&&(e=o(e,t),r.push(o))}return e}const x2={name:"attention",resolveAll:EP,tokenize:xP};function EP(n,e){let t=-1,r,s,o,u,c,f,d,p;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;f=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const _={...n[r][1].end},A={...n[t][1].start};lw(_,-f),lw(A,f),u={type:f>1?"strongSequence":"emphasisSequence",start:_,end:{...n[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:A},o={type:f>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},s={type:f>1?"strong":"emphasis",start:{...u.start},end:{...c.end}},n[r][1].end={...u.start},n[t][1].start={...c.end},d=[],n[r][1].end.offset-n[r][1].start.offset&&(d=Ga(d,[["enter",n[r][1],e],["exit",n[r][1],e]])),d=Ga(d,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",o,e]]),d=Ga(d,$y(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),d=Ga(d,[["exit",o,e],["enter",c,e],["exit",c,e],["exit",s,e]]),n[t][1].end.offset-n[t][1].start.offset?(p=2,d=Ga(d,[["enter",n[t][1],e],["exit",n[t][1],e]])):p=0,ol(n,r-1,t-r+3,d),t=r+d.length-p-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function xP(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,s=ow(r);let o;return u;function u(f){return o=f,n.enter("attentionSequence"),c(f)}function c(f){if(f===o)return n.consume(f),c;const d=n.exit("attentionSequence"),p=ow(f),_=!p||p===2&&s||t.includes(f),A=!s||s===2&&p||t.includes(r);return d._open=!!(o===42?_:_&&(s||!A)),d._close=!!(o===42?A:A&&(p||!_)),e(f)}}function lw(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const TP={name:"autolink",tokenize:NP};function NP(n,e,t){let r=0;return s;function s(v){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),o}function o(v){return Wo(v)?(n.consume(v),u):v===64?t(v):d(v)}function u(v){return v===43||v===45||v===46||ba(v)?(r=1,c(v)):d(v)}function c(v){return v===58?(n.consume(v),r=0,f):(v===43||v===45||v===46||ba(v))&&r++<32?(n.consume(v),c):(r=0,d(v))}function f(v){return v===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.exit("autolink"),e):v===null||v===32||v===60||S2(v)?t(v):(n.consume(v),f)}function d(v){return v===64?(n.consume(v),p):pP(v)?(n.consume(v),d):t(v)}function p(v){return ba(v)?_(v):t(v)}function _(v){return v===46?(n.consume(v),r=0,p):v===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(v),n.exit("autolinkMarker"),n.exit("autolink"),e):A(v)}function A(v){if((v===45||ba(v))&&r++<63){const M=v===45?A:_;return n.consume(v),M}return t(v)}}const Lg={partial:!0,tokenize:IP};function IP(n,e,t){return r;function r(o){return Bn(o)?dr(n,s,"linePrefix")(o):s(o)}function s(o){return o===null||tn(o)?e(o):t(o)}}const sE={continuation:{tokenize:kP},exit:RP,name:"blockQuote",tokenize:CP};function CP(n,e,t){const r=this;return s;function s(u){if(u===62){const c=r.containerState;return c.open||(n.enter("blockQuote",{_container:!0}),c.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(u),n.exit("blockQuoteMarker"),o}return t(u)}function o(u){return Bn(u)?(n.enter("blockQuotePrefixWhitespace"),n.consume(u),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(u))}}function kP(n,e,t){const r=this;return s;function s(u){return Bn(u)?dr(n,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return n.attempt(sE,e,t)(u)}}function RP(n){n.exit("blockQuote")}const aE={name:"characterEscape",tokenize:LP};function LP(n,e,t){return r;function r(o){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(o),n.exit("escapeMarker"),s}function s(o){return gP(o)?(n.enter("characterEscapeValue"),n.consume(o),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(o)}}const oE={name:"characterReference",tokenize:PP};function PP(n,e,t){const r=this;let s=0,o,u;return c;function c(_){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),f}function f(_){return _===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(_),n.exit("characterReferenceMarkerNumeric"),d):(n.enter("characterReferenceValue"),o=31,u=ba,p(_))}function d(_){return _===88||_===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(_),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),o=6,u=mP,p):(n.enter("characterReferenceValue"),o=7,u=E2,p(_))}function p(_){if(_===59&&s){const A=n.exit("characterReferenceValue");return u===ba&&!Yy(r.sliceSerialize(A))?t(_):(n.enter("characterReferenceMarker"),n.consume(_),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return u(_)&&s++<o?(n.consume(_),p):t(_)}}const uw={partial:!0,tokenize:OP},cw={concrete:!0,name:"codeFenced",tokenize:DP};function DP(n,e,t){const r=this,s={partial:!0,tokenize:me};let o=0,u=0,c;return f;function f(ue){return d(ue)}function d(ue){const V=r.events[r.events.length-1];return o=V&&V[1].type==="linePrefix"?V[2].sliceSerialize(V[1],!0).length:0,c=ue,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),p(ue)}function p(ue){return ue===c?(u++,n.consume(ue),p):u<3?t(ue):(n.exit("codeFencedFenceSequence"),Bn(ue)?dr(n,_,"whitespace")(ue):_(ue))}function _(ue){return ue===null||tn(ue)?(n.exit("codeFencedFence"),r.interrupt?e(ue):n.check(uw,U,te)(ue)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),A(ue))}function A(ue){return ue===null||tn(ue)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),_(ue)):Bn(ue)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),dr(n,v,"whitespace")(ue)):ue===96&&ue===c?t(ue):(n.consume(ue),A)}function v(ue){return ue===null||tn(ue)?_(ue):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),M(ue))}function M(ue){return ue===null||tn(ue)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),_(ue)):ue===96&&ue===c?t(ue):(n.consume(ue),M)}function U(ue){return n.attempt(s,te,z)(ue)}function z(ue){return n.enter("lineEnding"),n.consume(ue),n.exit("lineEnding"),L}function L(ue){return o>0&&Bn(ue)?dr(n,Q,"linePrefix",o+1)(ue):Q(ue)}function Q(ue){return ue===null||tn(ue)?n.check(uw,U,te)(ue):(n.enter("codeFlowValue"),K(ue))}function K(ue){return ue===null||tn(ue)?(n.exit("codeFlowValue"),Q(ue)):(n.consume(ue),K)}function te(ue){return n.exit("codeFenced"),e(ue)}function me(ue,V,P){let R=0;return H;function H(fe){return ue.enter("lineEnding"),ue.consume(fe),ue.exit("lineEnding"),N}function N(fe){return ue.enter("codeFencedFence"),Bn(fe)?dr(ue,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(fe):x(fe)}function x(fe){return fe===c?(ue.enter("codeFencedFenceSequence"),k(fe)):P(fe)}function k(fe){return fe===c?(R++,ue.consume(fe),k):R>=u?(ue.exit("codeFencedFenceSequence"),Bn(fe)?dr(ue,Z,"whitespace")(fe):Z(fe)):P(fe)}function Z(fe){return fe===null||tn(fe)?(ue.exit("codeFencedFence"),V(fe)):P(fe)}}}function OP(n,e,t){const r=this;return s;function s(u){return u===null?t(u):(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?t(u):e(u)}}const d0={name:"codeIndented",tokenize:jP},MP={partial:!0,tokenize:UP};function jP(n,e,t){const r=this;return s;function s(d){return n.enter("codeIndented"),dr(n,o,"linePrefix",5)(d)}function o(d){const p=r.events[r.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?u(d):t(d)}function u(d){return d===null?f(d):tn(d)?n.attempt(MP,u,f)(d):(n.enter("codeFlowValue"),c(d))}function c(d){return d===null||tn(d)?(n.exit("codeFlowValue"),u(d)):(n.consume(d),c)}function f(d){return n.exit("codeIndented"),e(d)}}function UP(n,e,t){const r=this;return s;function s(u){return r.parser.lazy[r.now().line]?t(u):tn(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),s):dr(n,o,"linePrefix",5)(u)}function o(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):tn(u)?s(u):t(u)}}const FP={name:"codeText",previous:VP,resolve:BP,tokenize:zP};function BP(n){let e=n.length-4,t=3,r,s;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)s===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(s=r):(r===e||n[r][1].type==="lineEnding")&&(n[s][1].type="codeTextData",r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),e-=r-s-2,r=s+2),s=void 0);return n}function VP(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function zP(n,e,t){let r=0,s,o;return u;function u(_){return n.enter("codeText"),n.enter("codeTextSequence"),c(_)}function c(_){return _===96?(n.consume(_),r++,c):(n.exit("codeTextSequence"),f(_))}function f(_){return _===null?t(_):_===32?(n.enter("space"),n.consume(_),n.exit("space"),f):_===96?(o=n.enter("codeTextSequence"),s=0,p(_)):tn(_)?(n.enter("lineEnding"),n.consume(_),n.exit("lineEnding"),f):(n.enter("codeTextData"),d(_))}function d(_){return _===null||_===32||_===96||tn(_)?(n.exit("codeTextData"),f(_)):(n.consume(_),d)}function p(_){return _===96?(n.consume(_),s++,p):s===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(_)):(o.type="codeTextData",d(_))}}class qP{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const s=t||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&rd(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);rd(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rd(this.left,t.reverse())}}}function rd(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function lE(n){const e={};let t=-1,r,s,o,u,c,f,d;const p=new qP(n);for(;++t<p.length;){for(;t in e;)t=e[t];if(r=p.get(t),t&&r[1].type==="chunkFlow"&&p.get(t-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,HP(p,t)),t=e[t],d=!0);else if(r[1]._container){for(o=t,s=void 0;o--;)if(u=p.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(p.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(r[1].end={...p.get(s)[1].start},c=p.slice(s,t),c.unshift(r),p.splice(s,t-s+1,c))}}return ol(n,0,Number.POSITIVE_INFINITY,p.slice(0)),!d}function HP(n,e){const t=n.get(e)[1],r=n.get(e)[2];let s=e-1;const o=[];let u=t._tokenizer;u||(u=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const c=u.events,f=[],d={};let p,_,A=-1,v=t,M=0,U=0;const z=[U];for(;v;){for(;n.get(++s)[1]!==v;);o.push(s),v._tokenizer||(p=r.sliceStream(v),v.next||p.push(null),_&&u.defineSkip(v.start),v._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(p),v._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),_=v,v=v.next}for(v=t;++A<c.length;)c[A][0]==="exit"&&c[A-1][0]==="enter"&&c[A][1].type===c[A-1][1].type&&c[A][1].start.line!==c[A][1].end.line&&(U=A+1,z.push(U),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(u.events=[],v?(v._tokenizer=void 0,v.previous=void 0):z.pop(),A=z.length;A--;){const L=c.slice(z[A],z[A+1]),Q=o.pop();f.push([Q,Q+L.length-1]),n.splice(Q,2,L)}for(f.reverse(),A=-1;++A<f.length;)d[M+f[A][0]]=M+f[A][1],M+=f[A][1]-f[A][0]-1;return d}const GP={resolve:$P,tokenize:KP},YP={partial:!0,tokenize:WP};function $P(n){return lE(n),n}function KP(n,e){let t;return r;function r(c){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):tn(c)?n.check(YP,u,o)(c):(n.consume(c),s)}function o(c){return n.exit("chunkContent"),n.exit("content"),e(c)}function u(c){return n.consume(c),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,s}}function WP(n,e,t){const r=this;return s;function s(u){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),dr(n,o,"linePrefix")}function o(u){if(u===null||tn(u))return t(u);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(u):n.interrupt(r.parser.constructs.flow,t,e)(u)}}function uE(n,e,t,r,s,o,u,c,f){const d=f||Number.POSITIVE_INFINITY;let p=0;return _;function _(L){return L===60?(n.enter(r),n.enter(s),n.enter(o),n.consume(L),n.exit(o),A):L===null||L===32||L===41||S2(L)?t(L):(n.enter(r),n.enter(u),n.enter(c),n.enter("chunkString",{contentType:"string"}),U(L))}function A(L){return L===62?(n.enter(o),n.consume(L),n.exit(o),n.exit(s),n.exit(r),e):(n.enter(c),n.enter("chunkString",{contentType:"string"}),v(L))}function v(L){return L===62?(n.exit("chunkString"),n.exit(c),A(L)):L===null||L===60||tn(L)?t(L):(n.consume(L),L===92?M:v)}function M(L){return L===60||L===62||L===92?(n.consume(L),v):v(L)}function U(L){return!p&&(L===null||L===41||ea(L))?(n.exit("chunkString"),n.exit(c),n.exit(u),n.exit(r),e(L)):p<d&&L===40?(n.consume(L),p++,U):L===41?(n.consume(L),p--,U):L===null||L===32||L===40||S2(L)?t(L):(n.consume(L),L===92?z:U)}function z(L){return L===40||L===41||L===92?(n.consume(L),U):U(L)}}function cE(n,e,t,r,s,o){const u=this;let c=0,f;return d;function d(v){return n.enter(r),n.enter(s),n.consume(v),n.exit(s),n.enter(o),p}function p(v){return c>999||v===null||v===91||v===93&&!f||v===94&&!c&&"_hiddenFootnoteSupport"in u.parser.constructs?t(v):v===93?(n.exit(o),n.enter(s),n.consume(v),n.exit(s),n.exit(r),e):tn(v)?(n.enter("lineEnding"),n.consume(v),n.exit("lineEnding"),p):(n.enter("chunkString",{contentType:"string"}),_(v))}function _(v){return v===null||v===91||v===93||tn(v)||c++>999?(n.exit("chunkString"),p(v)):(n.consume(v),f||(f=!Bn(v)),v===92?A:_)}function A(v){return v===91||v===92||v===93?(n.consume(v),c++,_):_(v)}}function hE(n,e,t,r,s,o){let u;return c;function c(A){return A===34||A===39||A===40?(n.enter(r),n.enter(s),n.consume(A),n.exit(s),u=A===40?41:A,f):t(A)}function f(A){return A===u?(n.enter(s),n.consume(A),n.exit(s),n.exit(r),e):(n.enter(o),d(A))}function d(A){return A===u?(n.exit(o),f(u)):A===null?t(A):tn(A)?(n.enter("lineEnding"),n.consume(A),n.exit("lineEnding"),dr(n,d,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),p(A))}function p(A){return A===u||A===null||tn(A)?(n.exit("chunkString"),d(A)):(n.consume(A),A===92?_:p)}function _(A){return A===u||A===92?(n.consume(A),p):p(A)}}function _d(n,e){let t;return r;function r(s){return tn(s)?(n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),t=!0,r):Bn(s)?dr(n,r,t?"linePrefix":"lineSuffix")(s):e(s)}}const XP={name:"definition",tokenize:JP},QP={partial:!0,tokenize:ZP};function JP(n,e,t){const r=this;let s;return o;function o(v){return n.enter("definition"),u(v)}function u(v){return cE.call(r,n,c,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function c(v){return s=qh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(n.enter("definitionMarker"),n.consume(v),n.exit("definitionMarker"),f):t(v)}function f(v){return ea(v)?_d(n,d)(v):d(v)}function d(v){return uE(n,p,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function p(v){return n.attempt(QP,_,_)(v)}function _(v){return Bn(v)?dr(n,A,"whitespace")(v):A(v)}function A(v){return v===null||tn(v)?(n.exit("definition"),r.parser.defined.push(s),e(v)):t(v)}}function ZP(n,e,t){return r;function r(c){return ea(c)?_d(n,s)(c):t(c)}function s(c){return hE(n,o,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Bn(c)?dr(n,u,"whitespace")(c):u(c)}function u(c){return c===null||tn(c)?e(c):t(c)}}const eD={name:"hardBreakEscape",tokenize:tD};function tD(n,e,t){return r;function r(o){return n.enter("hardBreakEscape"),n.consume(o),s}function s(o){return tn(o)?(n.exit("hardBreakEscape"),e(o)):t(o)}}const nD={name:"headingAtx",resolve:rD,tokenize:iD};function rD(n,e){let t=n.length-2,r=3,s,o;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(s={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},o={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},ol(n,r,t-r+1,[["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e]])),n}function iD(n,e,t){let r=0;return s;function s(p){return n.enter("atxHeading"),o(p)}function o(p){return n.enter("atxHeadingSequence"),u(p)}function u(p){return p===35&&r++<6?(n.consume(p),u):p===null||ea(p)?(n.exit("atxHeadingSequence"),c(p)):t(p)}function c(p){return p===35?(n.enter("atxHeadingSequence"),f(p)):p===null||tn(p)?(n.exit("atxHeading"),e(p)):Bn(p)?dr(n,c,"whitespace")(p):(n.enter("atxHeadingText"),d(p))}function f(p){return p===35?(n.consume(p),f):(n.exit("atxHeadingSequence"),c(p))}function d(p){return p===null||p===35||ea(p)?(n.exit("atxHeadingText"),c(p)):(n.consume(p),d)}}const sD=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hw=["pre","script","style","textarea"],aD={concrete:!0,name:"htmlFlow",resolveTo:uD,tokenize:cD},oD={partial:!0,tokenize:fD},lD={partial:!0,tokenize:hD};function uD(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function cD(n,e,t){const r=this;let s,o,u,c,f;return d;function d(I){return p(I)}function p(I){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(I),_}function _(I){return I===33?(n.consume(I),A):I===47?(n.consume(I),o=!0,U):I===63?(n.consume(I),s=3,r.interrupt?e:D):Wo(I)?(n.consume(I),u=String.fromCharCode(I),z):t(I)}function A(I){return I===45?(n.consume(I),s=2,v):I===91?(n.consume(I),s=5,c=0,M):Wo(I)?(n.consume(I),s=4,r.interrupt?e:D):t(I)}function v(I){return I===45?(n.consume(I),r.interrupt?e:D):t(I)}function M(I){const ne="CDATA[";return I===ne.charCodeAt(c++)?(n.consume(I),c===ne.length?r.interrupt?e:x:M):t(I)}function U(I){return Wo(I)?(n.consume(I),u=String.fromCharCode(I),z):t(I)}function z(I){if(I===null||I===47||I===62||ea(I)){const ne=I===47,he=u.toLowerCase();return!ne&&!o&&hw.includes(he)?(s=1,r.interrupt?e(I):x(I)):sD.includes(u.toLowerCase())?(s=6,ne?(n.consume(I),L):r.interrupt?e(I):x(I)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(I):o?Q(I):K(I))}return I===45||ba(I)?(n.consume(I),u+=String.fromCharCode(I),z):t(I)}function L(I){return I===62?(n.consume(I),r.interrupt?e:x):t(I)}function Q(I){return Bn(I)?(n.consume(I),Q):H(I)}function K(I){return I===47?(n.consume(I),H):I===58||I===95||Wo(I)?(n.consume(I),te):Bn(I)?(n.consume(I),K):H(I)}function te(I){return I===45||I===46||I===58||I===95||ba(I)?(n.consume(I),te):me(I)}function me(I){return I===61?(n.consume(I),ue):Bn(I)?(n.consume(I),me):K(I)}function ue(I){return I===null||I===60||I===61||I===62||I===96?t(I):I===34||I===39?(n.consume(I),f=I,V):Bn(I)?(n.consume(I),ue):P(I)}function V(I){return I===f?(n.consume(I),f=null,R):I===null||tn(I)?t(I):(n.consume(I),V)}function P(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||ea(I)?me(I):(n.consume(I),P)}function R(I){return I===47||I===62||Bn(I)?K(I):t(I)}function H(I){return I===62?(n.consume(I),N):t(I)}function N(I){return I===null||tn(I)?x(I):Bn(I)?(n.consume(I),N):t(I)}function x(I){return I===45&&s===2?(n.consume(I),se):I===60&&s===1?(n.consume(I),ce):I===62&&s===4?(n.consume(I),ge):I===63&&s===3?(n.consume(I),D):I===93&&s===5?(n.consume(I),Ie):tn(I)&&(s===6||s===7)?(n.exit("htmlFlowData"),n.check(oD,F,k)(I)):I===null||tn(I)?(n.exit("htmlFlowData"),k(I)):(n.consume(I),x)}function k(I){return n.check(lD,Z,F)(I)}function Z(I){return n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),fe}function fe(I){return I===null||tn(I)?k(I):(n.enter("htmlFlowData"),x(I))}function se(I){return I===45?(n.consume(I),D):x(I)}function ce(I){return I===47?(n.consume(I),u="",pe):x(I)}function pe(I){if(I===62){const ne=u.toLowerCase();return hw.includes(ne)?(n.consume(I),ge):x(I)}return Wo(I)&&u.length<8?(n.consume(I),u+=String.fromCharCode(I),pe):x(I)}function Ie(I){return I===93?(n.consume(I),D):x(I)}function D(I){return I===62?(n.consume(I),ge):I===45&&s===2?(n.consume(I),D):x(I)}function ge(I){return I===null||tn(I)?(n.exit("htmlFlowData"),F(I)):(n.consume(I),ge)}function F(I){return n.exit("htmlFlow"),e(I)}}function hD(n,e,t){const r=this;return s;function s(u){return tn(u)?(n.enter("lineEnding"),n.consume(u),n.exit("lineEnding"),o):t(u)}function o(u){return r.parser.lazy[r.now().line]?t(u):e(u)}}function fD(n,e,t){return r;function r(s){return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),n.attempt(Lg,e,t)}}const dD={name:"htmlText",tokenize:pD};function pD(n,e,t){const r=this;let s,o,u;return c;function c(D){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(D),f}function f(D){return D===33?(n.consume(D),d):D===47?(n.consume(D),me):D===63?(n.consume(D),K):Wo(D)?(n.consume(D),P):t(D)}function d(D){return D===45?(n.consume(D),p):D===91?(n.consume(D),o=0,M):Wo(D)?(n.consume(D),Q):t(D)}function p(D){return D===45?(n.consume(D),v):t(D)}function _(D){return D===null?t(D):D===45?(n.consume(D),A):tn(D)?(u=_,ce(D)):(n.consume(D),_)}function A(D){return D===45?(n.consume(D),v):_(D)}function v(D){return D===62?se(D):D===45?A(D):_(D)}function M(D){const ge="CDATA[";return D===ge.charCodeAt(o++)?(n.consume(D),o===ge.length?U:M):t(D)}function U(D){return D===null?t(D):D===93?(n.consume(D),z):tn(D)?(u=U,ce(D)):(n.consume(D),U)}function z(D){return D===93?(n.consume(D),L):U(D)}function L(D){return D===62?se(D):D===93?(n.consume(D),L):U(D)}function Q(D){return D===null||D===62?se(D):tn(D)?(u=Q,ce(D)):(n.consume(D),Q)}function K(D){return D===null?t(D):D===63?(n.consume(D),te):tn(D)?(u=K,ce(D)):(n.consume(D),K)}function te(D){return D===62?se(D):K(D)}function me(D){return Wo(D)?(n.consume(D),ue):t(D)}function ue(D){return D===45||ba(D)?(n.consume(D),ue):V(D)}function V(D){return tn(D)?(u=V,ce(D)):Bn(D)?(n.consume(D),V):se(D)}function P(D){return D===45||ba(D)?(n.consume(D),P):D===47||D===62||ea(D)?R(D):t(D)}function R(D){return D===47?(n.consume(D),se):D===58||D===95||Wo(D)?(n.consume(D),H):tn(D)?(u=R,ce(D)):Bn(D)?(n.consume(D),R):se(D)}function H(D){return D===45||D===46||D===58||D===95||ba(D)?(n.consume(D),H):N(D)}function N(D){return D===61?(n.consume(D),x):tn(D)?(u=N,ce(D)):Bn(D)?(n.consume(D),N):R(D)}function x(D){return D===null||D===60||D===61||D===62||D===96?t(D):D===34||D===39?(n.consume(D),s=D,k):tn(D)?(u=x,ce(D)):Bn(D)?(n.consume(D),x):(n.consume(D),Z)}function k(D){return D===s?(n.consume(D),s=void 0,fe):D===null?t(D):tn(D)?(u=k,ce(D)):(n.consume(D),k)}function Z(D){return D===null||D===34||D===39||D===60||D===61||D===96?t(D):D===47||D===62||ea(D)?R(D):(n.consume(D),Z)}function fe(D){return D===47||D===62||ea(D)?R(D):t(D)}function se(D){return D===62?(n.consume(D),n.exit("htmlTextData"),n.exit("htmlText"),e):t(D)}function ce(D){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(D),n.exit("lineEnding"),pe}function pe(D){return Bn(D)?dr(n,Ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):Ie(D)}function Ie(D){return n.enter("htmlTextData"),u(D)}}const Ky={name:"labelEnd",resolveAll:vD,resolveTo:bD,tokenize:_D},mD={tokenize:wD},gD={tokenize:AD},yD={tokenize:SD};function vD(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",e+=s}}return n.length!==t.length&&ol(n,0,n.length,t),n}function bD(n,e){let t=n.length,r=0,s,o,u,c;for(;t--;)if(s=n[t][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;n[t][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(n[t][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=t,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(u=t);const f={type:n[o][1].type==="labelLink"?"link":"image",start:{...n[o][1].start},end:{...n[n.length-1][1].end}},d={type:"label",start:{...n[o][1].start},end:{...n[u][1].end}},p={type:"labelText",start:{...n[o+r+2][1].end},end:{...n[u-2][1].start}};return c=[["enter",f,e],["enter",d,e]],c=Ga(c,n.slice(o+1,o+r+3)),c=Ga(c,[["enter",p,e]]),c=Ga(c,$y(e.parser.constructs.insideSpan.null,n.slice(o+r+4,u-3),e)),c=Ga(c,[["exit",p,e],n[u-2],n[u-1],["exit",d,e]]),c=Ga(c,n.slice(u+1)),c=Ga(c,[["exit",f,e]]),ol(n,o,n.length,c),n}function _D(n,e,t){const r=this;let s=r.events.length,o,u;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(A){return o?o._inactive?_(A):(u=r.parser.defined.includes(qh(r.sliceSerialize({start:o.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(A),n.exit("labelMarker"),n.exit("labelEnd"),f):t(A)}function f(A){return A===40?n.attempt(mD,p,u?p:_)(A):A===91?n.attempt(gD,p,u?d:_)(A):u?p(A):_(A)}function d(A){return n.attempt(yD,p,_)(A)}function p(A){return e(A)}function _(A){return o._balanced=!0,t(A)}}function wD(n,e,t){return r;function r(_){return n.enter("resource"),n.enter("resourceMarker"),n.consume(_),n.exit("resourceMarker"),s}function s(_){return ea(_)?_d(n,o)(_):o(_)}function o(_){return _===41?p(_):uE(n,u,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(_)}function u(_){return ea(_)?_d(n,f)(_):p(_)}function c(_){return t(_)}function f(_){return _===34||_===39||_===40?hE(n,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(_):p(_)}function d(_){return ea(_)?_d(n,p)(_):p(_)}function p(_){return _===41?(n.enter("resourceMarker"),n.consume(_),n.exit("resourceMarker"),n.exit("resource"),e):t(_)}}function AD(n,e,t){const r=this;return s;function s(c){return cE.call(r,n,o,u,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(qh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(c):t(c)}function u(c){return t(c)}}function SD(n,e,t){return r;function r(o){return n.enter("reference"),n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),s}function s(o){return o===93?(n.enter("referenceMarker"),n.consume(o),n.exit("referenceMarker"),n.exit("reference"),e):t(o)}}const ED={name:"labelStartImage",resolveAll:Ky.resolveAll,tokenize:xD};function xD(n,e,t){const r=this;return s;function s(c){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(c),n.exit("labelImageMarker"),o}function o(c){return c===91?(n.enter("labelMarker"),n.consume(c),n.exit("labelMarker"),n.exit("labelImage"),u):t(c)}function u(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(c):e(c)}}const TD={name:"labelStartLink",resolveAll:Ky.resolveAll,tokenize:ND};function ND(n,e,t){const r=this;return s;function s(u){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(u),n.exit("labelMarker"),n.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(u):e(u)}}const p0={name:"lineEnding",tokenize:ID};function ID(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),dr(n,e,"linePrefix")}}const Em={name:"thematicBreak",tokenize:CD};function CD(n,e,t){let r=0,s;return o;function o(d){return n.enter("thematicBreak"),u(d)}function u(d){return s=d,c(d)}function c(d){return d===s?(n.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||tn(d))?(n.exit("thematicBreak"),e(d)):t(d)}function f(d){return d===s?(n.consume(d),r++,f):(n.exit("thematicBreakSequence"),Bn(d)?dr(n,c,"whitespace")(d):c(d))}}const Qs={continuation:{tokenize:PD},exit:OD,name:"list",tokenize:LD},kD={partial:!0,tokenize:MD},RD={partial:!0,tokenize:DD};function LD(n,e,t){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return c;function c(v){const M=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(M==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:E2(v)){if(r.containerState.type||(r.containerState.type=M,n.enter(M,{_container:!0})),M==="listUnordered")return n.enter("listItemPrefix"),v===42||v===45?n.check(Em,t,d)(v):d(v);if(!r.interrupt||v===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),f(v)}return t(v)}function f(v){return E2(v)&&++u<10?(n.consume(v),f):(!r.interrupt||u<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(n.exit("listItemValue"),d(v)):t(v)}function d(v){return n.enter("listItemMarker"),n.consume(v),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,n.check(Lg,r.interrupt?t:p,n.attempt(kD,A,_))}function p(v){return r.containerState.initialBlankLine=!0,o++,A(v)}function _(v){return Bn(v)?(n.enter("listItemPrefixWhitespace"),n.consume(v),n.exit("listItemPrefixWhitespace"),A):t(v)}function A(v){return r.containerState.size=o+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(v)}}function PD(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(Lg,s,o);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,dr(n,e,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!Bn(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(RD,e,u)(c))}function u(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,dr(n,n.attempt(Qs,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function DD(n,e,t){const r=this;return dr(n,s,"listItemIndent",r.containerState.size+1);function s(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):t(o)}}function OD(n){n.exit(this.containerState.type)}function MD(n,e,t){const r=this;return dr(n,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=r.events[r.events.length-1];return!Bn(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):t(o)}}const fw={name:"setextUnderline",resolveTo:jD,tokenize:UD};function jD(n,e){let t=n.length,r,s,o;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(s=t)}else n[t][1].type==="content"&&n.splice(t,1),!o&&n[t][1].type==="definition"&&(o=t);const u={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[s][1].type="setextHeadingText",o?(n.splice(s,0,["enter",u,e]),n.splice(o+1,0,["exit",n[r][1],e]),n[r][1].end={...n[o][1].end}):n[r][1]=u,n.push(["exit",u,e]),n}function UD(n,e,t){const r=this;let s;return o;function o(d){let p=r.events.length,_;for(;p--;)if(r.events[p][1].type!=="lineEnding"&&r.events[p][1].type!=="linePrefix"&&r.events[p][1].type!=="content"){_=r.events[p][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||_)?(n.enter("setextHeadingLine"),s=d,u(d)):t(d)}function u(d){return n.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(n.consume(d),c):(n.exit("setextHeadingLineSequence"),Bn(d)?dr(n,f,"lineSuffix")(d):f(d))}function f(d){return d===null||tn(d)?(n.exit("setextHeadingLine"),e(d)):t(d)}}const FD={tokenize:BD};function BD(n){const e=this,t=n.attempt(Lg,r,n.attempt(this.parser.constructs.flowInitial,s,dr(n,n.attempt(this.parser.constructs.flow,s,n.attempt(GP,s)),"linePrefix")));return t;function r(o){if(o===null){n.consume(o);return}return n.enter("lineEndingBlank"),n.consume(o),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function s(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const VD={resolveAll:dE()},zD=fE("string"),qD=fE("text");function fE(n){return{resolveAll:dE(n==="text"?HD:void 0),tokenize:e};function e(t){const r=this,s=this.parser.constructs[n],o=t.attempt(s,u,c);return u;function u(p){return d(p)?o(p):c(p)}function c(p){if(p===null){t.consume(p);return}return t.enter("data"),t.consume(p),f}function f(p){return d(p)?(t.exit("data"),o(p)):(t.consume(p),f)}function d(p){if(p===null)return!0;const _=s[p];let A=-1;if(_)for(;++A<_.length;){const v=_[A];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function dE(n){return e;function e(t,r){let s=-1,o;for(;++s<=t.length;)o===void 0?t[s]&&t[s][1].type==="data"&&(o=s,s++):(!t[s]||t[s][1].type!=="data")&&(s!==o+2&&(t[o][1].end=t[s-1][1].end,t.splice(o+2,s-o-2),s=o+2),o=void 0);return n?n(t,r):t}}function HD(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],s=e.sliceStream(r);let o=s.length,u=-1,c=0,f;for(;o--;){const d=s[o];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)c++,u--;if(u)break;u=-1}else if(d===-2)f=!0,c++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(c=0),c){const d={type:t===n.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(n.splice(t,0,["enter",d,e],["exit",d,e]),t+=2)}t++}return n}const GD={42:Qs,43:Qs,45:Qs,48:Qs,49:Qs,50:Qs,51:Qs,52:Qs,53:Qs,54:Qs,55:Qs,56:Qs,57:Qs,62:sE},YD={91:XP},$D={[-2]:d0,[-1]:d0,32:d0},KD={35:nD,42:Em,45:[fw,Em],60:aD,61:fw,95:Em,96:cw,126:cw},WD={38:oE,92:aE},XD={[-5]:p0,[-4]:p0,[-3]:p0,33:ED,38:oE,42:x2,60:[TP,dD],91:TD,92:[eD,aE],93:Ky,95:x2,96:FP},QD={null:[x2,VD]},JD={null:[42,95]},ZD={null:[]},eO=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:JD,contentInitial:YD,disable:ZD,document:GD,flow:KD,flowInitial:$D,insideSpan:QD,string:WD,text:XD},Symbol.toStringTag,{value:"Module"}));function tO(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const s={},o=[];let u=[],c=[];const f={attempt:V(me),check:V(ue),consume:Q,enter:K,exit:te,interrupt:V(ue,{interrupt:!0})},d={code:null,containerState:{},defineSkip:U,events:[],now:M,parser:n,previous:null,sliceSerialize:A,sliceStream:v,write:_};let p=e.tokenize.call(d,f);return e.resolveAll&&o.push(e),d;function _(N){return u=Ga(u,N),z(),u[u.length-1]!==null?[]:(P(e,0),d.events=$y(o,d.events,d),d.events)}function A(N,x){return rO(v(N),x)}function v(N){return nO(u,N)}function M(){const{_bufferIndex:N,_index:x,line:k,column:Z,offset:fe}=r;return{_bufferIndex:N,_index:x,line:k,column:Z,offset:fe}}function U(N){s[N.line]=N.column,H()}function z(){let N;for(;r._index<u.length;){const x=u[r._index];if(typeof x=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<x.length;)L(x.charCodeAt(r._bufferIndex));else L(x)}}function L(N){p=p(N)}function Q(N){tn(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,H()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=N}function K(N,x){const k=x||{};return k.type=N,k.start=M(),d.events.push(["enter",k,d]),c.push(k),k}function te(N){const x=c.pop();return x.end=M(),d.events.push(["exit",x,d]),x}function me(N,x){P(N,x.from)}function ue(N,x){x.restore()}function V(N,x){return k;function k(Z,fe,se){let ce,pe,Ie,D;return Array.isArray(Z)?F(Z):"tokenize"in Z?F([Z]):ge(Z);function ge(le){return _e;function _e(Se){const Re=Se!==null&&le[Se],Ue=Se!==null&&le.null,Qe=[...Array.isArray(Re)?Re:Re?[Re]:[],...Array.isArray(Ue)?Ue:Ue?[Ue]:[]];return F(Qe)(Se)}}function F(le){return ce=le,pe=0,le.length===0?se:I(le[pe])}function I(le){return _e;function _e(Se){return D=R(),Ie=le,le.partial||(d.currentConstruct=le),le.name&&d.parser.constructs.disable.null.includes(le.name)?he():le.tokenize.call(x?Object.assign(Object.create(d),x):d,f,ne,he)(Se)}}function ne(le){return N(Ie,D),fe}function he(le){return D.restore(),++pe<ce.length?I(ce[pe]):se}}}function P(N,x){N.resolveAll&&!o.includes(N)&&o.push(N),N.resolve&&ol(d.events,x,d.events.length-x,N.resolve(d.events.slice(x),d)),N.resolveTo&&(d.events=N.resolveTo(d.events,d))}function R(){const N=M(),x=d.previous,k=d.currentConstruct,Z=d.events.length,fe=Array.from(c);return{from:Z,restore:se};function se(){r=N,d.previous=x,d.currentConstruct=k,d.events.length=Z,c=fe,H()}}function H(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function nO(n,e){const t=e.start._index,r=e.start._bufferIndex,s=e.end._index,o=e.end._bufferIndex;let u;if(t===s)u=[n[t].slice(r,o)];else{if(u=n.slice(t,s),r>-1){const c=u[0];typeof c=="string"?u[0]=c.slice(r):u.shift()}o>0&&u.push(n[s].slice(0,o))}return u}function rO(n,e){let t=-1;const r=[];let s;for(;++t<n.length;){const o=n[t];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,r.push(u)}return r.join("")}function iO(n){const r={constructs:hP([eO,...(n||{}).extensions||[]]),content:s(bP),defined:[],document:s(wP),flow:s(FD),lazy:{},string:s(zD),text:s(qD)};return r;function s(o){return u;function u(c){return tO(r,o,c)}}}function sO(n){for(;!lE(n););return n}const dw=/[\0\t\n\r]/g;function aO(){let n=1,e="",t=!0,r;return s;function s(o,u,c){const f=[];let d,p,_,A,v;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),_=0,e="",t&&(o.charCodeAt(0)===65279&&_++,t=void 0);_<o.length;){if(dw.lastIndex=_,d=dw.exec(o),A=d&&d.index!==void 0?d.index:o.length,v=o.charCodeAt(A),!d){e=o.slice(_);break}if(v===10&&_===A&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),_<A&&(f.push(o.slice(_,A)),n+=A-_),v){case 0:{f.push(65533),n++;break}case 9:{for(p=Math.ceil(n/4)*4,f.push(-2);n++<p;)f.push(-1);break}case 10:{f.push(-4),n=1;break}default:r=!0,n=1}_=A+1}return c&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const oO=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function lO(n){return n.replace(oO,uO)}function uO(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const s=t.charCodeAt(1),o=s===120||s===88;return iE(t.slice(o?2:1),o?16:10)}return Yy(t)||n}const pE={}.hasOwnProperty;function cO(n,e,t){return typeof e!="string"&&(t=e,e=void 0),hO(t)(sO(iO(t).document().write(aO()(n,e,!0))))}function hO(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(qe),autolinkProtocol:R,autolinkEmail:R,atxHeading:o(re),blockQuote:o(Ue),characterEscape:R,characterReference:R,codeFenced:o(Qe),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(Qe,u),codeText:o(at,u),codeTextData:R,data:R,codeFlowValue:R,definition:o(it),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(vt),hardBreakEscape:o(rt),hardBreakTrailing:o(rt),htmlFlow:o(Tt,u),htmlFlowData:R,htmlText:o(Tt,u),htmlTextData:R,image:o(Nt),label:u,link:o(qe),listItem:o(ot),listItemValue:A,listOrdered:o(ct,_),listUnordered:o(ct),paragraph:o(It),reference:I,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(re),strong:o(At),thematicBreak:o(nn)},exit:{atxHeading:f(),atxHeadingSequence:me,autolink:f(),autolinkEmail:Re,autolinkProtocol:Se,blockQuote:f(),characterEscapeValue:H,characterReferenceMarkerHexadecimal:he,characterReferenceMarkerNumeric:he,characterReferenceValue:le,characterReference:_e,codeFenced:f(z),codeFencedFence:U,codeFencedFenceInfo:v,codeFencedFenceMeta:M,codeFlowValue:H,codeIndented:f(L),codeText:f(fe),codeTextData:H,data:H,definition:f(),definitionDestinationString:te,definitionLabelString:Q,definitionTitleString:K,emphasis:f(),hardBreakEscape:f(x),hardBreakTrailing:f(x),htmlFlow:f(k),htmlFlowData:H,htmlText:f(Z),htmlTextData:H,image:f(ce),label:Ie,labelText:pe,lineEnding:N,link:f(se),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ne,resourceDestinationString:D,resourceTitleString:ge,resource:F,setextHeading:f(P),setextHeadingLineSequence:V,setextHeadingText:ue,strong:f(),thematicBreak:f()}};mE(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(Ne){let Fe={type:"root",children:[]};const et={stack:[Fe],tokenStack:[],config:e,enter:c,exit:d,buffer:u,resume:p,data:t},Ke=[];let lt=-1;for(;++lt<Ne.length;)if(Ne[lt][1].type==="listOrdered"||Ne[lt][1].type==="listUnordered")if(Ne[lt][0]==="enter")Ke.push(lt);else{const ut=Ke.pop();lt=s(Ne,ut,lt)}for(lt=-1;++lt<Ne.length;){const ut=e[Ne[lt][0]];pE.call(ut,Ne[lt][1].type)&&ut[Ne[lt][1].type].call(Object.assign({sliceSerialize:Ne[lt][2].sliceSerialize},et),Ne[lt][1])}if(et.tokenStack.length>0){const ut=et.tokenStack[et.tokenStack.length-1];(ut[1]||pw).call(et,void 0,ut[0])}for(Fe.position={start:ku(Ne.length>0?Ne[0][1].start:{line:1,column:1,offset:0}),end:ku(Ne.length>0?Ne[Ne.length-2][1].end:{line:1,column:1,offset:0})},lt=-1;++lt<e.transforms.length;)Fe=e.transforms[lt](Fe)||Fe;return Fe}function s(Ne,Fe,et){let Ke=Fe-1,lt=-1,ut=!1,Cn,Ot,Mt,Rt;for(;++Ke<=et;){const zt=Ne[Ke];switch(zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{zt[0]==="enter"?lt++:lt--,Rt=void 0;break}case"lineEndingBlank":{zt[0]==="enter"&&(Cn&&!Rt&&!lt&&!Mt&&(Mt=Ke),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!lt&&zt[0]==="enter"&&zt[1].type==="listItemPrefix"||lt===-1&&zt[0]==="exit"&&(zt[1].type==="listUnordered"||zt[1].type==="listOrdered")){if(Cn){let ft=Ke;for(Ot=void 0;ft--;){const ln=Ne[ft];if(ln[1].type==="lineEnding"||ln[1].type==="lineEndingBlank"){if(ln[0]==="exit")continue;Ot&&(Ne[Ot][1].type="lineEndingBlank",ut=!0),ln[1].type="lineEnding",Ot=ft}else if(!(ln[1].type==="linePrefix"||ln[1].type==="blockQuotePrefix"||ln[1].type==="blockQuotePrefixWhitespace"||ln[1].type==="blockQuoteMarker"||ln[1].type==="listItemIndent"))break}Mt&&(!Ot||Mt<Ot)&&(Cn._spread=!0),Cn.end=Object.assign({},Ot?Ne[Ot][1].start:zt[1].end),Ne.splice(Ot||Ke,0,["exit",Cn,zt[2]]),Ke++,et++}if(zt[1].type==="listItemPrefix"){const ft={type:"listItem",_spread:!1,start:Object.assign({},zt[1].start),end:void 0};Cn=ft,Ne.splice(Ke,0,["enter",ft,zt[2]]),Ke++,et++,Mt=void 0,Rt=!0}}}return Ne[Fe][1]._spread=ut,et}function o(Ne,Fe){return et;function et(Ke){c.call(this,Ne(Ke),Ke),Fe&&Fe.call(this,Ke)}}function u(){this.stack.push({type:"fragment",children:[]})}function c(Ne,Fe,et){this.stack[this.stack.length-1].children.push(Ne),this.stack.push(Ne),this.tokenStack.push([Fe,et||void 0]),Ne.position={start:ku(Fe.start),end:void 0}}function f(Ne){return Fe;function Fe(et){Ne&&Ne.call(this,et),d.call(this,et)}}function d(Ne,Fe){const et=this.stack.pop(),Ke=this.tokenStack.pop();if(Ke)Ke[0].type!==Ne.type&&(Fe?Fe.call(this,Ne,Ke[0]):(Ke[1]||pw).call(this,Ne,Ke[0]));else throw new Error("Cannot close `"+Ne.type+"` ("+bd({start:Ne.start,end:Ne.end})+"): its not open");et.position.end=ku(Ne.end)}function p(){return uP(this.stack.pop())}function _(){this.data.expectingFirstListItemValue=!0}function A(Ne){if(this.data.expectingFirstListItemValue){const Fe=this.stack[this.stack.length-2];Fe.start=Number.parseInt(this.sliceSerialize(Ne),10),this.data.expectingFirstListItemValue=void 0}}function v(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.lang=Ne}function M(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.meta=Ne}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function z(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=Ne.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function L(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=Ne.replace(/(\r?\n|\r)$/g,"")}function Q(Ne){const Fe=this.resume(),et=this.stack[this.stack.length-1];et.label=Fe,et.identifier=qh(this.sliceSerialize(Ne)).toLowerCase()}function K(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=Ne}function te(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=Ne}function me(Ne){const Fe=this.stack[this.stack.length-1];if(!Fe.depth){const et=this.sliceSerialize(Ne).length;Fe.depth=et}}function ue(){this.data.setextHeadingSlurpLineEnding=!0}function V(Ne){const Fe=this.stack[this.stack.length-1];Fe.depth=this.sliceSerialize(Ne).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function R(Ne){const et=this.stack[this.stack.length-1].children;let Ke=et[et.length-1];(!Ke||Ke.type!=="text")&&(Ke=An(),Ke.position={start:ku(Ne.start),end:void 0},et.push(Ke)),this.stack.push(Ke)}function H(Ne){const Fe=this.stack.pop();Fe.value+=this.sliceSerialize(Ne),Fe.position.end=ku(Ne.end)}function N(Ne){const Fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const et=Fe.children[Fe.children.length-1];et.position.end=ku(Ne.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Fe.type)&&(R.call(this,Ne),H.call(this,Ne))}function x(){this.data.atHardBreak=!0}function k(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=Ne}function Z(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=Ne}function fe(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=Ne}function se(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=Fe,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function ce(){const Ne=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";Ne.type+="Reference",Ne.referenceType=Fe,delete Ne.url,delete Ne.title}else delete Ne.identifier,delete Ne.label;this.data.referenceType=void 0}function pe(Ne){const Fe=this.sliceSerialize(Ne),et=this.stack[this.stack.length-2];et.label=lO(Fe),et.identifier=qh(Fe).toLowerCase()}function Ie(){const Ne=this.stack[this.stack.length-1],Fe=this.resume(),et=this.stack[this.stack.length-1];if(this.data.inReference=!0,et.type==="link"){const Ke=Ne.children;et.children=Ke}else et.alt=Fe}function D(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=Ne}function ge(){const Ne=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=Ne}function F(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function ne(Ne){const Fe=this.resume(),et=this.stack[this.stack.length-1];et.label=Fe,et.identifier=qh(this.sliceSerialize(Ne)).toLowerCase(),this.data.referenceType="full"}function he(Ne){this.data.characterReferenceType=Ne.type}function le(Ne){const Fe=this.sliceSerialize(Ne),et=this.data.characterReferenceType;let Ke;et?(Ke=iE(Fe,et==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ke=Yy(Fe);const lt=this.stack[this.stack.length-1];lt.value+=Ke}function _e(Ne){const Fe=this.stack.pop();Fe.position.end=ku(Ne.end)}function Se(Ne){H.call(this,Ne);const Fe=this.stack[this.stack.length-1];Fe.url=this.sliceSerialize(Ne)}function Re(Ne){H.call(this,Ne);const Fe=this.stack[this.stack.length-1];Fe.url="mailto:"+this.sliceSerialize(Ne)}function Ue(){return{type:"blockquote",children:[]}}function Qe(){return{type:"code",lang:null,meta:null,value:""}}function at(){return{type:"inlineCode",value:""}}function it(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function vt(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function rt(){return{type:"break"}}function Tt(){return{type:"html",value:""}}function Nt(){return{type:"image",title:null,url:"",alt:null}}function qe(){return{type:"link",title:null,url:"",children:[]}}function ct(Ne){return{type:"list",ordered:Ne.type==="listOrdered",start:null,spread:Ne._spread,children:[]}}function ot(Ne){return{type:"listItem",spread:Ne._spread,checked:null,children:[]}}function It(){return{type:"paragraph",children:[]}}function At(){return{type:"strong",children:[]}}function An(){return{type:"text",value:""}}function nn(){return{type:"thematicBreak"}}}function ku(n){return{line:n.line,column:n.column,offset:n.offset}}function mE(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?mE(n,r):fO(n,r)}}function fO(n,e){let t;for(t in e)if(pE.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function pw(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+bd({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+bd({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+bd({start:e.start,end:e.end})+") is still open")}function dO(n){const e=this;e.parser=t;function t(r){return cO(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function pO(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function mO(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function gO(n,e){const t=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function yO(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function vO(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function bO(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),s=ff(r.toLowerCase()),o=n.footnoteOrder.indexOf(r);let u,c=n.footnoteCounts.get(r);c===void 0?(c=0,n.footnoteOrder.push(r),u=n.footnoteOrder.length):u=o+1,c+=1,n.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+s,id:t+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};n.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return n.patch(e,d),n.applyData(e,d)}function _O(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function wO(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function gE(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const s=n.all(e),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=r:s.push({type:"text",value:r}),s}function AO(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return gE(n,e);const s={src:ff(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return n.patch(e,o),n.applyData(e,o)}function SO(n,e){const t={src:ff(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function EO(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function xO(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return gE(n,e);const s={href:ff(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:n.all(e)};return n.patch(e,o),n.applyData(e,o)}function TO(n,e){const t={href:ff(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function NO(n,e,t){const r=n.all(e),s=t?IO(t):yE(e),o={},u=[];if(typeof e.checked=="boolean"){const p=r[0];let _;p&&p.type==="element"&&p.tagName==="p"?_=p:(_={type:"element",tagName:"p",properties:{},children:[]},r.unshift(_)),_.children.length>0&&_.children.unshift({type:"text",value:" "}),_.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const p=r[c];(s||c!==0||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!s?u.push(...p.children):u.push(p)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:u};return n.patch(e,d),n.applyData(e,d)}function IO(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=yE(t[r])}return e}function yE(n){const e=n.spread;return e??n.children.length>1}function CO(n,e){const t={},r=n.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++s<r.length;){const u=r[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,o),n.applyData(e,o)}function kO(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function RO(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function LO(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function PO(n,e){const t=n.all(e),r=t.shift(),s=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],u),s.push(u)}if(t.length>0){const u={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},c=zy(e.children[1]),f=Q3(e.children[e.children.length-1]);c&&f&&(u.position={start:c,end:f}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:n.wrap(s,!0)};return n.patch(e,o),n.applyData(e,o)}function DO(n,e,t){const r=t?t.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=t&&t.type==="table"?t.align:void 0,c=u?u.length:e.children.length;let f=-1;const d=[];for(;++f<c;){const _=e.children[f],A={},v=u?u[f]:void 0;v&&(A.align=v);let M={type:"element",tagName:o,properties:A,children:[]};_&&(M.children=n.all(_),n.patch(_,M),M=n.applyData(_,M)),d.push(M)}const p={type:"element",tagName:"tr",properties:{},children:n.wrap(d,!0)};return n.patch(e,p),n.applyData(e,p)}function OO(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const mw=9,gw=32;function MO(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),s=0;const o=[];for(;r;)o.push(yw(e.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=t.exec(e);return o.push(yw(e.slice(s),s>0,!1)),o.join("")}function yw(n,e,t){let r=0,s=n.length;if(e){let o=n.codePointAt(r);for(;o===mw||o===gw;)r++,o=n.codePointAt(r)}if(t){let o=n.codePointAt(s-1);for(;o===mw||o===gw;)s--,o=n.codePointAt(s-1)}return s>r?n.slice(r,s):""}function jO(n,e){const t={type:"text",value:MO(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function UO(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const FO={blockquote:pO,break:mO,code:gO,delete:yO,emphasis:vO,footnoteReference:bO,heading:_O,html:wO,imageReference:AO,image:SO,inlineCode:EO,linkReference:xO,link:TO,listItem:NO,list:CO,paragraph:kO,root:RO,strong:LO,table:PO,tableCell:OO,tableRow:DO,text:jO,thematicBreak:UO,toml:nm,yaml:nm,definition:nm,footnoteDefinition:nm};function nm(){}const vE=-1,Pg=0,wd=1,Jm=2,Wy=3,Xy=4,Qy=5,Jy=6,bE=7,_E=8,vw=typeof self=="object"?self:globalThis,BO=(n,e)=>{const t=(s,o)=>(n.set(o,s),s),r=s=>{if(n.has(s))return n.get(s);const[o,u]=e[s];switch(o){case Pg:case vE:return t(u,s);case wd:{const c=t([],s);for(const f of u)c.push(r(f));return c}case Jm:{const c=t({},s);for(const[f,d]of u)c[r(f)]=r(d);return c}case Wy:return t(new Date(u),s);case Xy:{const{source:c,flags:f}=u;return t(new RegExp(c,f),s)}case Qy:{const c=t(new Map,s);for(const[f,d]of u)c.set(r(f),r(d));return c}case Jy:{const c=t(new Set,s);for(const f of u)c.add(r(f));return c}case bE:{const{name:c,message:f}=u;return t(new vw[c](f),s)}case _E:return t(BigInt(u),s);case"BigInt":return t(Object(BigInt(u)),s);case"ArrayBuffer":return t(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:c}=new Uint8Array(u);return t(new DataView(c),u)}}return t(new vw[o](u),s)};return r},bw=n=>BO(new Map,n)(0),xh="",{toString:VO}={},{keys:zO}=Object,id=n=>{const e=typeof n;if(e!=="object"||!n)return[Pg,e];const t=VO.call(n).slice(8,-1);switch(t){case"Array":return[wd,xh];case"Object":return[Jm,xh];case"Date":return[Wy,xh];case"RegExp":return[Xy,xh];case"Map":return[Qy,xh];case"Set":return[Jy,xh];case"DataView":return[wd,t]}return t.includes("Array")?[wd,t]:t.includes("Error")?[bE,t]:[Jm,t]},rm=([n,e])=>n===Pg&&(e==="function"||e==="symbol"),qO=(n,e,t,r)=>{const s=(u,c)=>{const f=r.push(u)-1;return t.set(c,f),f},o=u=>{if(t.has(u))return t.get(u);let[c,f]=id(u);switch(c){case Pg:{let p=u;switch(f){case"bigint":c=_E,p=u.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+f);p=null;break;case"undefined":return s([vE],u)}return s([c,p],u)}case wd:{if(f){let A=u;return f==="DataView"?A=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(A=new Uint8Array(u)),s([f,[...A]],u)}const p=[],_=s([c,p],u);for(const A of u)p.push(o(A));return _}case Jm:{if(f)switch(f){case"BigInt":return s([f,u.toString()],u);case"Boolean":case"Number":case"String":return s([f,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const p=[],_=s([c,p],u);for(const A of zO(u))(n||!rm(id(u[A])))&&p.push([o(A),o(u[A])]);return _}case Wy:return s([c,u.toISOString()],u);case Xy:{const{source:p,flags:_}=u;return s([c,{source:p,flags:_}],u)}case Qy:{const p=[],_=s([c,p],u);for(const[A,v]of u)(n||!(rm(id(A))||rm(id(v))))&&p.push([o(A),o(v)]);return _}case Jy:{const p=[],_=s([c,p],u);for(const A of u)(n||!rm(id(A)))&&p.push(o(A));return _}}const{message:d}=u;return s([c,{name:f,message:d}],u)};return o},_w=(n,{json:e,lossy:t}={})=>{const r=[];return qO(!(e||t),!!e,new Map,r)(n),r},Zm=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?bw(_w(n,e)):structuredClone(n):(n,e)=>bw(_w(n,e));function HO(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function GO(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function YO(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||HO,r=n.options.footnoteBackLabel||GO,s=n.options.footnoteLabel||"Footnotes",o=n.options.footnoteLabelTagName||"h2",u=n.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<n.footnoteOrder.length;){const d=n.footnoteById.get(n.footnoteOrder[f]);if(!d)continue;const p=n.all(d),_=String(d.identifier).toUpperCase(),A=ff(_.toLowerCase());let v=0;const M=[],U=n.footnoteCounts.get(_);for(;U!==void 0&&++v<=U;){M.length>0&&M.push({type:"text",value:" "});let Q=typeof t=="string"?t:t(f,v);typeof Q=="string"&&(Q={type:"text",value:Q}),M.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+A+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,v),className:["data-footnote-backref"]},children:Array.isArray(Q)?Q:[Q]})}const z=p[p.length-1];if(z&&z.type==="element"&&z.tagName==="p"){const Q=z.children[z.children.length-1];Q&&Q.type==="text"?Q.value+=" ":z.children.push({type:"text",value:" "}),z.children.push(...M)}else p.push(...M);const L={type:"element",tagName:"li",properties:{id:e+"fn-"+A},children:n.wrap(p,!0)};n.patch(d,L),c.push(L)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Zm(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(c,!0)},{type:"text",value:`
`}]}}const wE=(function(n){if(n==null)return XO;if(typeof n=="function")return Dg(n);if(typeof n=="object")return Array.isArray(n)?$O(n):KO(n);if(typeof n=="string")return WO(n);throw new Error("Expected function, string, or object as test")});function $O(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=wE(n[t]);return Dg(r);function r(...s){let o=-1;for(;++o<e.length;)if(e[o].apply(this,s))return!0;return!1}}function KO(n){const e=n;return Dg(t);function t(r){const s=r;let o;for(o in n)if(s[o]!==e[o])return!1;return!0}}function WO(n){return Dg(e);function e(t){return t&&t.type===n}}function Dg(n){return e;function e(t,r,s){return!!(QO(t)&&n.call(this,t,typeof r=="number"?r:void 0,s||void 0))}}function XO(){return!0}function QO(n){return n!==null&&typeof n=="object"&&"type"in n}const AE=[],JO=!0,ww=!1,ZO="skip";function e9(n,e,t,r){let s;typeof e=="function"&&typeof t!="function"?(r=t,t=e):s=e;const o=wE(s),u=r?-1:1;c(n,void 0,[])();function c(f,d,p){const _=f&&typeof f=="object"?f:{};if(typeof _.type=="string"){const v=typeof _.tagName=="string"?_.tagName:typeof _.name=="string"?_.name:void 0;Object.defineProperty(A,"name",{value:"node ("+(f.type+(v?"<"+v+">":""))+")"})}return A;function A(){let v=AE,M,U,z;if((!e||o(f,d,p[p.length-1]||void 0))&&(v=t9(t(f,p)),v[0]===ww))return v;if("children"in f&&f.children){const L=f;if(L.children&&v[0]!==ZO)for(U=(r?L.children.length:-1)+u,z=p.concat(L);U>-1&&U<L.children.length;){const Q=L.children[U];if(M=c(Q,U,z)(),M[0]===ww)return M;U=typeof M[1]=="number"?M[1]:U+u}}return v}}}function t9(n){return Array.isArray(n)?n:typeof n=="number"?[JO,n]:n==null?AE:[n]}function SE(n,e,t,r){let s,o,u;typeof e=="function"&&typeof t!="function"?(o=void 0,u=e,s=t):(o=e,u=t,s=r),e9(n,o,c,s);function c(f,d){const p=d[d.length-1],_=p?p.children.indexOf(f):void 0;return u(f,_,p)}}const T2={}.hasOwnProperty,n9={};function r9(n,e){const t=e||n9,r=new Map,s=new Map,o=new Map,u={...FO,...t.handlers},c={all:d,applyData:s9,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:t,patch:i9,wrap:o9};return SE(n,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const _=p.type==="definition"?r:s,A=String(p.identifier).toUpperCase();_.has(A)||_.set(A,p)}}),c;function f(p,_){const A=p.type,v=c.handlers[A];if(T2.call(c.handlers,A)&&v)return v(c,p,_);if(c.options.passThrough&&c.options.passThrough.includes(A)){if("children"in p){const{children:U,...z}=p,L=Zm(z);return L.children=c.all(p),L}return Zm(p)}return(c.options.unknownHandler||a9)(c,p,_)}function d(p){const _=[];if("children"in p){const A=p.children;let v=-1;for(;++v<A.length;){const M=c.one(A[v],p);if(M){if(v&&A[v-1].type==="break"&&(!Array.isArray(M)&&M.type==="text"&&(M.value=Aw(M.value)),!Array.isArray(M)&&M.type==="element")){const U=M.children[0];U&&U.type==="text"&&(U.value=Aw(U.value))}Array.isArray(M)?_.push(...M):_.push(M)}}}return _}}function i9(n,e){n.position&&(e.position=V7(n))}function s9(n,e){let t=e;if(n&&n.data){const r=n.data.hName,s=n.data.hChildren,o=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const u="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:u}}t.type==="element"&&o&&Object.assign(t.properties,Zm(o)),"children"in t&&t.children&&s!==null&&s!==void 0&&(t.children=s)}return t}function a9(n,e){const t=e.data||{},r="value"in e&&!(T2.call(t,"hProperties")||T2.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function o9(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function Aw(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function Sw(n,e){const t=r9(n,e),r=t.one(n,void 0),s=YO(t),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function l9(n,e){return n&&"run"in n?async function(t,r){const s=Sw(t,{file:r,...e});await n.run(s,r)}:function(t,r){return Sw(t,{file:r,...n||e})}}function Ew(n){if(n)throw n}var m0,xw;function u9(){if(xw)return m0;xw=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var p=n.call(d,"constructor"),_=d.constructor&&d.constructor.prototype&&n.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!p&&!_)return!1;var A;for(A in d);return typeof A>"u"||n.call(d,A)},u=function(d,p){t&&p.name==="__proto__"?t(d,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):d[p.name]=p.newValue},c=function(d,p){if(p==="__proto__")if(n.call(d,p)){if(r)return r(d,p).value}else return;return d[p]};return m0=function f(){var d,p,_,A,v,M,U=arguments[0],z=1,L=arguments.length,Q=!1;for(typeof U=="boolean"&&(Q=U,U=arguments[1]||{},z=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});z<L;++z)if(d=arguments[z],d!=null)for(p in d)_=c(U,p),A=c(d,p),U!==A&&(Q&&A&&(o(A)||(v=s(A)))?(v?(v=!1,M=_&&s(_)?_:[]):M=_&&o(_)?_:{},u(U,{name:p,newValue:f(Q,M,A)})):typeof A<"u"&&u(U,{name:p,newValue:A}));return U},m0}var c9=u9();const g0=ig(c9);function N2(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function h9(){const n=[],e={run:t,use:r};return e;function t(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);c(null,...s);function c(f,...d){const p=n[++o];let _=-1;if(f){u(f);return}for(;++_<s.length;)(d[_]===null||d[_]===void 0)&&(d[_]=s[_]);s=d,p?f9(p,c)(...d):u(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return n.push(s),e}}function f9(n,e){let t;return r;function r(...u){const c=n.length>u.length;let f;c&&u.push(s);try{f=n.apply(this,u)}catch(d){const p=d;if(c&&t)throw p;return s(p)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(u,...c){t||(t=!0,e(u,...c))}function o(u){s(null,u)}}const $o={basename:d9,dirname:p9,extname:m9,join:g9,sep:"/"};function d9(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Wd(n);let t=0,r=-1,s=n.length,o;if(e===void 0||e.length===0||e.length>n.length){for(;s--;)if(n.codePointAt(s)===47){if(o){t=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let u=-1,c=e.length-1;for(;s--;)if(n.codePointAt(s)===47){if(o){t=s+1;break}}else u<0&&(o=!0,u=s+1),c>-1&&(n.codePointAt(s)===e.codePointAt(c--)?c<0&&(r=s):(c=-1,r=u));return t===r?r=u:r<0&&(r=n.length),n.slice(t,r)}function p9(n){if(Wd(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function m9(n){Wd(n);let e=n.length,t=-1,r=0,s=-1,o=0,u;for(;e--;){const c=n.codePointAt(e);if(c===47){if(u){r=e+1;break}continue}t<0&&(u=!0,t=e+1),c===46?s<0?s=e:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||t<0||o===0||o===1&&s===t-1&&s===r+1?"":n.slice(s,t)}function g9(...n){let e=-1,t;for(;++e<n.length;)Wd(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":y9(t)}function y9(n){Wd(n);const e=n.codePointAt(0)===47;let t=v9(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function v9(n,e){let t="",r=0,s=-1,o=0,u=-1,c,f;for(;++u<=n.length;){if(u<n.length)c=n.codePointAt(u);else{if(c===47)break;c=47}if(c===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(f=t.lastIndexOf("/"),f!==t.length-1){f<0?(t="",r=0):(t=t.slice(0,f),r=t.length-1-t.lastIndexOf("/")),s=u,o=0;continue}}else if(t.length>0){t="",r=0,s=u,o=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(s+1,u):t=n.slice(s+1,u),r=u-s-1;s=u,o=0}else c===46&&o>-1?o++:o=-1}return t}function Wd(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const b9={cwd:_9};function _9(){return"/"}function I2(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function w9(n){if(typeof n=="string")n=new URL(n);else if(!I2(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return A9(n)}function A9(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const y0=["history","path","basename","stem","extname","dirname"];class EE{constructor(e){let t;e?I2(e)?t={path:e}:typeof e=="string"||S9(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":b9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<y0.length;){const o=y0[r];o in t&&t[o]!==void 0&&t[o]!==null&&(this[o]=o==="history"?[...t[o]]:t[o])}let s;for(s in t)y0.includes(s)||(this[s]=t[s])}get basename(){return typeof this.path=="string"?$o.basename(this.path):void 0}set basename(e){b0(e,"basename"),v0(e,"basename"),this.path=$o.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?$o.dirname(this.path):void 0}set dirname(e){Tw(this.basename,"dirname"),this.path=$o.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?$o.extname(this.path):void 0}set extname(e){if(v0(e,"extname"),Tw(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$o.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){I2(e)&&(e=w9(e)),b0(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?$o.basename(this.path,this.extname):void 0}set stem(e){b0(e,"stem"),v0(e,"stem"),this.path=$o.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const s=this.message(e,t,r);throw s.fatal=!0,s}info(e,t,r){const s=this.message(e,t,r);return s.fatal=void 0,s}message(e,t,r){const s=new As(e,t,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function v0(n,e){if(n&&n.includes($o.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+$o.sep+"`")}function b0(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function Tw(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function S9(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const E9=(function(n){const r=this.constructor.prototype,s=r[n],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),x9={}.hasOwnProperty;class Zy extends E9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=h9()}copy(){const e=new Zy;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(g0(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(A0("data",this.frozen),this.namespace[e]=t,this):x9.call(this.namespace,e)&&this.namespace[e]||void 0:e?(A0("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=t.call(e,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=im(e),r=this.parser||this.Parser;return _0("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),_0("process",this.parser||this.Parser),w0("process",this.compiler||this.Compiler),t?s(void 0,t):new Promise(s);function s(o,u){const c=im(e),f=r.parse(c);r.run(f,c,function(p,_,A){if(p||!_||!A)return d(p);const v=_,M=r.stringify(v,A);I9(M)?A.value=M:A.result=M,d(p,A)});function d(p,_){p||!_?u(p):o?o(_):t(void 0,_)}}}processSync(e){let t=!1,r;return this.freeze(),_0("processSync",this.parser||this.Parser),w0("processSync",this.compiler||this.Compiler),this.process(e,s),Iw("processSync","process",t),r;function s(o,u){t=!0,Ew(o),r=u}}run(e,t,r){Nw(e),this.freeze();const s=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?o(void 0,r):new Promise(o);function o(u,c){const f=im(t);s.run(e,f,d);function d(p,_,A){const v=_||e;p?c(p):u?u(v):r(void 0,v,A)}}}runSync(e,t){let r=!1,s;return this.run(e,t,o),Iw("runSync","run",r),s;function o(u,c){Ew(u),s=c,r=!0}}stringify(e,t){this.freeze();const r=im(t),s=this.compiler||this.Compiler;return w0("stringify",s),Nw(e),s(e,r)}use(e,...t){const r=this.attachers,s=this.namespace;if(A0("use",this.frozen),e!=null)if(typeof e=="function")f(e,t);else if(typeof e=="object")Array.isArray(e)?c(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[p,..._]=d;f(p,_)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=g0(!0,s.settings,d.settings))}function c(d){let p=-1;if(d!=null)if(Array.isArray(d))for(;++p<d.length;){const _=d[p];o(_)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,p){let _=-1,A=-1;for(;++_<r.length;)if(r[_][0]===d){A=_;break}if(A===-1)r.push([d,...p]);else if(p.length>0){let[v,...M]=p;const U=r[A][1];N2(U)&&N2(v)&&(v=g0(!0,U,v)),r[A]=[d,v,...M]}}}}const T9=new Zy().freeze();function _0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function w0(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function A0(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Nw(n){if(!N2(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Iw(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function im(n){return N9(n)?n:new EE(n)}function N9(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function I9(n){return typeof n=="string"||C9(n)}function C9(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const k9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Cw=[],kw={allowDangerousHtml:!0},R9=/^(https?|ircs?|mailto|xmpp)$/i,L9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xE(n){const e=P9(n),t=D9(n);return O9(e.runSync(e.parse(t),t),n)}function P9(n){const e=n.rehypePlugins||Cw,t=n.remarkPlugins||Cw,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...kw}:kw;return T9().use(dO).use(t).use(l9,r).use(e)}function D9(n){const e=n.children||"",t=new EE;return typeof e=="string"&&(t.value=e),t}function O9(n,e){const t=e.allowedElements,r=e.allowElement,s=e.components,o=e.disallowedElements,u=e.skipHtml,c=e.unwrapDisallowed,f=e.urlTransform||M9;for(const p of L9)Object.hasOwn(e,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+k9+p.id,void 0);return SE(n,d),Y7(n,{Fragment:X.Fragment,components:s,ignoreInvalidStyle:!0,jsx:X.jsx,jsxs:X.jsxs,passKeys:!0,passNode:!0});function d(p,_,A){if(p.type==="raw"&&A&&typeof _=="number")return u?A.children.splice(_,1):A.children[_]={type:"text",value:p.value},_;if(p.type==="element"){let v;for(v in f0)if(Object.hasOwn(f0,v)&&Object.hasOwn(p.properties,v)){const M=p.properties[v],U=f0[v];(U===null||U.includes(p.tagName))&&(p.properties[v]=f(String(M||""),v,p))}}if(p.type==="element"){let v=t?!t.includes(p.tagName):o?o.includes(p.tagName):!1;if(!v&&r&&typeof _=="number"&&(v=!r(p,_,A)),v&&A&&typeof _=="number")return c&&p.children?A.children.splice(_,1,...p.children):A.children.splice(_,1),_}}}function M9(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),s=n.indexOf("/");return e===-1||s!==-1&&e>s||t!==-1&&e>t||r!==-1&&e>r||R9.test(n.slice(0,e))?n:""}const j9="modulepreload",U9=function(n){return"/"+n},Rw={},S0=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=u(t.map(d=>{if(d=U9(d),d in Rw)return;Rw[d]=!0;const p=d.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const A=document.createElement("link");if(A.rel=p?"stylesheet":j9,p||(A.as="script"),A.crossOrigin="",A.href=d,f&&A.setAttribute("nonce",f),document.head.appendChild(A),p)return new Promise((v,M)=>{A.addEventListener("load",v),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function er(n){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(n)}var Eo=Uint8Array,_a=Uint16Array,e5=Int32Array,t5=new Eo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n5=new Eo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Lw=new Eo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TE=function(n,e){for(var t=new _a(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new e5(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},NE=TE(t5,2),F9=NE.b,C2=NE.r;F9[28]=258,C2[258]=28;var B9=TE(n5,0),Pw=B9.r,k2=new _a(32768);for(var gr=0;gr<32768;++gr){var Ru=(gr&43690)>>1|(gr&21845)<<1;Ru=(Ru&52428)>>2|(Ru&13107)<<2,Ru=(Ru&61680)>>4|(Ru&3855)<<4,k2[gr]=((Ru&65280)>>8|(Ru&255)<<8)>>1}var Ad=(function(n,e,t){for(var r=n.length,s=0,o=new _a(e);s<r;++s)n[s]&&++o[n[s]-1];var u=new _a(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new _a(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],p=e-n[s],_=u[n[s]-1]++<<p,A=_|(1<<p)-1;_<=A;++_)c[k2[_]>>f]=d}else for(c=new _a(r),s=0;s<r;++s)n[s]&&(c[s]=k2[u[n[s]-1]++]>>15-n[s]);return c}),jc=new Eo(288);for(var gr=0;gr<144;++gr)jc[gr]=8;for(var gr=144;gr<256;++gr)jc[gr]=9;for(var gr=256;gr<280;++gr)jc[gr]=7;for(var gr=280;gr<288;++gr)jc[gr]=8;var eg=new Eo(32);for(var gr=0;gr<32;++gr)eg[gr]=5;var V9=Ad(jc,9,0),z9=Ad(eg,5,0),IE=function(n){return(n+7)/8|0},q9=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Eo(n.subarray(e,t))},Ol=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},sd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},E0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:kE,l:0};if(s==1){var u=new Eo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(me,ue){return me.f-ue.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,p=1,_=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};p!=s-1;)c=t[t[d].f<t[_].f?d++:_++],f=t[d!=p&&t[d].f<t[_].f?d++:_++],t[p++]={s:-1,f:c.f+f.f,l:c,r:f};for(var A=o[0].s,r=1;r<s;++r)o[r].s>A&&(A=o[r].s);var v=new _a(A+1),M=R2(t[p-1],v,0);if(M>e){var r=0,U=0,z=M-e,L=1<<z;for(o.sort(function(ue,V){return v[V.s]-v[ue.s]||ue.f-V.f});r<s;++r){var Q=o[r].s;if(v[Q]>e)U+=L-(1<<M-v[Q]),v[Q]=e;else break}for(U>>=z;U>0;){var K=o[r].s;v[K]<e?U-=1<<e-v[K]++-1:++r}for(;r>=0&&U;--r){var te=o[r].s;v[te]==e&&(--v[te],++U)}M=e}return{t:new Eo(v),l:M}},R2=function(n,e,t){return n.s==-1?Math.max(R2(n.l,e,t+1),R2(n.r,e,t+1)):e[n.s]=t},Dw=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new _a(++e),r=0,s=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},ad=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},CE=function(n,e,t){var r=t.length,s=IE(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},Ow=function(n,e,t,r,s,o,u,c,f,d,p){Ol(e,p++,t),++s[256];for(var _=E0(s,15),A=_.t,v=_.l,M=E0(o,15),U=M.t,z=M.l,L=Dw(A),Q=L.c,K=L.n,te=Dw(U),me=te.c,ue=te.n,V=new _a(19),P=0;P<Q.length;++P)++V[Q[P]&31];for(var P=0;P<me.length;++P)++V[me[P]&31];for(var R=E0(V,7),H=R.t,N=R.l,x=19;x>4&&!H[Lw[x-1]];--x);var k=d+5<<3,Z=ad(s,jc)+ad(o,eg)+u,fe=ad(s,A)+ad(o,U)+u+14+3*x+ad(V,H)+2*V[16]+3*V[17]+7*V[18];if(f>=0&&k<=Z&&k<=fe)return CE(e,p,n.subarray(f,f+d));var se,ce,pe,Ie;if(Ol(e,p,1+(fe<Z)),p+=2,fe<Z){se=Ad(A,v,0),ce=A,pe=Ad(U,z,0),Ie=U;var D=Ad(H,N,0);Ol(e,p,K-257),Ol(e,p+5,ue-1),Ol(e,p+10,x-4),p+=14;for(var P=0;P<x;++P)Ol(e,p+3*P,H[Lw[P]]);p+=3*x;for(var ge=[Q,me],F=0;F<2;++F)for(var I=ge[F],P=0;P<I.length;++P){var ne=I[P]&31;Ol(e,p,D[ne]),p+=H[ne],ne>15&&(Ol(e,p,I[P]>>5&127),p+=I[P]>>12)}}else se=V9,ce=jc,pe=z9,Ie=eg;for(var P=0;P<c;++P){var he=r[P];if(he>255){var ne=he>>18&31;sd(e,p,se[ne+257]),p+=ce[ne+257],ne>7&&(Ol(e,p,he>>23&31),p+=t5[ne]);var le=he&31;sd(e,p,pe[le]),p+=Ie[le],le>3&&(sd(e,p,he>>5&8191),p+=n5[le])}else sd(e,p,se[he]),p+=ce[he]}return sd(e,p,se[256]),p+ce[256]},H9=new e5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kE=new Eo(0),G9=function(n,e,t,r,s,o){var u=o.z||n.length,c=new Eo(r+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(r,c.length-s),d=o.l,p=(o.r||0)&7;if(e){p&&(f[0]=o.r>>3);for(var _=H9[e-1],A=_>>13,v=_&8191,M=(1<<t)-1,U=o.p||new _a(32768),z=o.h||new _a(M+1),L=Math.ceil(t/3),Q=2*L,K=function(vt){return(n[vt]^n[vt+1]<<L^n[vt+2]<<Q)&M},te=new e5(25e3),me=new _a(288),ue=new _a(32),V=0,P=0,R=o.i||0,H=0,N=o.w||0,x=0;R+2<u;++R){var k=K(R),Z=R&32767,fe=z[k];if(U[Z]=fe,z[k]=Z,N<=R){var se=u-R;if((V>7e3||H>24576)&&(se>423||!d)){p=Ow(n,f,0,te,me,ue,P,H,x,R-x,p),H=V=P=0,x=R;for(var ce=0;ce<286;++ce)me[ce]=0;for(var ce=0;ce<30;++ce)ue[ce]=0}var pe=2,Ie=0,D=v,ge=Z-fe&32767;if(se>2&&k==K(R-ge))for(var F=Math.min(A,se)-1,I=Math.min(32767,R),ne=Math.min(258,se);ge<=I&&--D&&Z!=fe;){if(n[R+pe]==n[R+pe-ge]){for(var he=0;he<ne&&n[R+he]==n[R+he-ge];++he);if(he>pe){if(pe=he,Ie=ge,he>F)break;for(var le=Math.min(ge,he-2),_e=0,ce=0;ce<le;++ce){var Se=R-ge+ce&32767,Re=U[Se],Ue=Se-Re&32767;Ue>_e&&(_e=Ue,fe=Se)}}}Z=fe,fe=U[Z],ge+=Z-fe&32767}if(Ie){te[H++]=268435456|C2[pe]<<18|Pw[Ie];var Qe=C2[pe]&31,at=Pw[Ie]&31;P+=t5[Qe]+n5[at],++me[257+Qe],++ue[at],N=R+pe,++V}else te[H++]=n[R],++me[n[R]]}}for(R=Math.max(R,N);R<u;++R)te[H++]=n[R],++me[n[R]];p=Ow(n,f,d,te,me,ue,P,H,x,R-x,p),d||(o.r=p&7|f[p/8|0]<<3,p-=7,o.h=z,o.p=U,o.i=R,o.w=N)}else{for(var R=o.w||0;R<u+d;R+=65535){var it=R+65535;it>=u&&(f[p/8|0]=d,it=u),p=CE(f,p+1,n.subarray(R,it))}o.i=u}return q9(c,0,r+IE(p)+s)},RE=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},Y9=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new Eo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return G9(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},LE=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},$9=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=RE();s.p(e.dictionary),LE(n,2,s.d())}};function L2(n,e){e||(e={});var t=RE();t.p(n);var r=Y9(n,e,e.dictionary?6:2,4);return $9(r,e),LE(r,r.length-4,t.d()),r}var K9=typeof TextDecoder<"u"&&new TextDecoder,W9=0;try{K9.decode(kE,{stream:!0}),W9=1}catch{}function X9(n){if(Array.isArray(n))return n}function Q9(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){d=!0,s=p}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function Mw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function J9(n,e){if(n){if(typeof n=="string")return Mw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Mw(n,e):void 0}}function Z9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jw(n,e){return X9(n)||Q9(n,e)||J9(n,e)||Z9()}function Uw(n,e="utf8"){return new TextDecoder(e).decode(n)}const eM=new TextEncoder;function tM(n){return eM.encode(n)}const nM=1024*8,rM=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),x0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class r5{constructor(e=nM,t={}){Zn(this,"buffer");Zn(this,"byteLength");Zn(this,"byteOffset");Zn(this,"length");Zn(this,"offset");Zn(this,"lastWrittenByte");Zn(this,"littleEndian");Zn(this,"_data");Zn(this,"_mark");Zn(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof r5)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=x0[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===rM&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+r));c.reverse();const f=new x0[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new x0[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Uw(this.readBytes(e))}decodeText(e=1,t="utf8"){return Uw(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(tM(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function df(n){let e=n.length;for(;--e>=0;)n[e]=0}const iM=3,sM=258,PE=29,aM=256,oM=aM+1+PE,DE=30,lM=512,uM=new Array((oM+2)*2);df(uM);const cM=new Array(DE*2);df(cM);const hM=new Array(lM);df(hM);const fM=new Array(sM-iM+1);df(fM);const dM=new Array(PE);df(dM);const pM=new Array(DE);df(pM);const mM=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var P2=mM;const gM=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},yM=new Uint32Array(gM()),vM=(n,e,t,r)=>{const s=yM,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var Go=vM,D2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},OE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bM=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var _M=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)bM(t,r)&&(n[r]=t[r])}}return n},wM=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];t.set(u,s),s+=u.length}return t},ME={assign:_M,flattenChunks:wM};let jE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jE=!1}const Md=new Uint8Array(256);for(let n=0;n<256;n++)Md[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Md[254]=Md[254]=1;var AM=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const SM=(n,e)=>{if(e<65534&&n.subarray&&jE)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var EM=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){o[s++]=u;continue}let c=Md[u];if(c>4){o[s++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return SM(o,s)},xM=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Md[n[t]]>e?t:e},O2={string2buf:AM,buf2string:EM,utf8border:xM};function TM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var NM=TM;const sm=16209,IM=16191;var CM=function(e,t){let r,s,o,u,c,f,d,p,_,A,v,M,U,z,L,Q,K,te,me,ue,V,P,R,H;const N=e.state;r=e.next_in,R=e.input,s=r+(e.avail_in-5),o=e.next_out,H=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=N.dmax,d=N.wsize,p=N.whave,_=N.wnext,A=N.window,v=N.hold,M=N.bits,U=N.lencode,z=N.distcode,L=(1<<N.lenbits)-1,Q=(1<<N.distbits)-1;e:do{M<15&&(v+=R[r++]<<M,M+=8,v+=R[r++]<<M,M+=8),K=U[v&L];t:for(;;){if(te=K>>>24,v>>>=te,M-=te,te=K>>>16&255,te===0)H[o++]=K&65535;else if(te&16){me=K&65535,te&=15,te&&(M<te&&(v+=R[r++]<<M,M+=8),me+=v&(1<<te)-1,v>>>=te,M-=te),M<15&&(v+=R[r++]<<M,M+=8,v+=R[r++]<<M,M+=8),K=z[v&Q];n:for(;;){if(te=K>>>24,v>>>=te,M-=te,te=K>>>16&255,te&16){if(ue=K&65535,te&=15,M<te&&(v+=R[r++]<<M,M+=8,M<te&&(v+=R[r++]<<M,M+=8)),ue+=v&(1<<te)-1,ue>f){e.msg="invalid distance too far back",N.mode=sm;break e}if(v>>>=te,M-=te,te=o-u,ue>te){if(te=ue-te,te>p&&N.sane){e.msg="invalid distance too far back",N.mode=sm;break e}if(V=0,P=A,_===0){if(V+=d-te,te<me){me-=te;do H[o++]=A[V++];while(--te);V=o-ue,P=H}}else if(_<te){if(V+=d+_-te,te-=_,te<me){me-=te;do H[o++]=A[V++];while(--te);if(V=0,_<me){te=_,me-=te;do H[o++]=A[V++];while(--te);V=o-ue,P=H}}}else if(V+=_-te,te<me){me-=te;do H[o++]=A[V++];while(--te);V=o-ue,P=H}for(;me>2;)H[o++]=P[V++],H[o++]=P[V++],H[o++]=P[V++],me-=3;me&&(H[o++]=P[V++],me>1&&(H[o++]=P[V++]))}else{V=o-ue;do H[o++]=H[V++],H[o++]=H[V++],H[o++]=H[V++],me-=3;while(me>2);me&&(H[o++]=H[V++],me>1&&(H[o++]=H[V++]))}}else if((te&64)===0){K=z[(K&65535)+(v&(1<<te)-1)];continue n}else{e.msg="invalid distance code",N.mode=sm;break e}break}}else if((te&64)===0){K=U[(K&65535)+(v&(1<<te)-1)];continue t}else if(te&32){N.mode=IM;break e}else{e.msg="invalid literal/length code",N.mode=sm;break e}break}}while(r<s&&o<c);me=M>>3,r-=me,M-=me<<3,v&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<c?257+(c-o):257-(o-c),N.hold=v,N.bits=M};const Th=15,Fw=852,Bw=592,Vw=0,T0=1,zw=2,kM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),PM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DM=(n,e,t,r,s,o,u,c)=>{const f=c.bits;let d=0,p=0,_=0,A=0,v=0,M=0,U=0,z=0,L=0,Q=0,K,te,me,ue,V,P=null,R;const H=new Uint16Array(Th+1),N=new Uint16Array(Th+1);let x=null,k,Z,fe;for(d=0;d<=Th;d++)H[d]=0;for(p=0;p<r;p++)H[e[t+p]]++;for(v=f,A=Th;A>=1&&H[A]===0;A--);if(v>A&&(v=A),A===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(_=1;_<A&&H[_]===0;_++);for(v<_&&(v=_),z=1,d=1;d<=Th;d++)if(z<<=1,z-=H[d],z<0)return-1;if(z>0&&(n===Vw||A!==1))return-1;for(N[1]=0,d=1;d<Th;d++)N[d+1]=N[d]+H[d];for(p=0;p<r;p++)e[t+p]!==0&&(u[N[e[t+p]]++]=p);if(n===Vw?(P=x=u,R=20):n===T0?(P=kM,x=RM,R=257):(P=LM,x=PM,R=0),Q=0,p=0,d=_,V=o,M=v,U=0,me=-1,L=1<<v,ue=L-1,n===T0&&L>Fw||n===zw&&L>Bw)return 1;for(;;){k=d-U,u[p]+1<R?(Z=0,fe=u[p]):u[p]>=R?(Z=x[u[p]-R],fe=P[u[p]-R]):(Z=96,fe=0),K=1<<d-U,te=1<<M,_=te;do te-=K,s[V+(Q>>U)+te]=k<<24|Z<<16|fe|0;while(te!==0);for(K=1<<d-1;Q&K;)K>>=1;if(K!==0?(Q&=K-1,Q+=K):Q=0,p++,--H[d]===0){if(d===A)break;d=e[t+u[p]]}if(d>v&&(Q&ue)!==me){for(U===0&&(U=v),V+=_,M=d-U,z=1<<M;M+U<A&&(z-=H[M+U],!(z<=0));)M++,z<<=1;if(L+=1<<M,n===T0&&L>Fw||n===zw&&L>Bw)return 1;me=Q&ue,s[me]=v<<24|M<<16|V-o|0}}return Q!==0&&(s[V+Q]=d-U<<24|64<<16|0),c.bits=v,0};var Sd=DM;const OM=0,UE=1,FE=2,{Z_FINISH:qw,Z_BLOCK:MM,Z_TREES:am,Z_OK:Uc,Z_STREAM_END:jM,Z_NEED_DICT:UM,Z_STREAM_ERROR:Wa,Z_DATA_ERROR:BE,Z_MEM_ERROR:VE,Z_BUF_ERROR:FM,Z_DEFLATED:Hw}=OE,Og=16180,Gw=16181,Yw=16182,$w=16183,Kw=16184,Ww=16185,Xw=16186,Qw=16187,Jw=16188,Zw=16189,tg=16190,Ml=16191,N0=16192,eA=16193,I0=16194,tA=16195,nA=16196,rA=16197,iA=16198,om=16199,lm=16200,sA=16201,aA=16202,oA=16203,lA=16204,uA=16205,C0=16206,cA=16207,hA=16208,Er=16209,zE=16210,qE=16211,BM=852,VM=592,zM=15,qM=zM,fA=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function HM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<Og||e.mode>qE?1:0},HE=n=>{if(Gc(n))return Wa;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=Og,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(BM),e.distcode=e.distdyn=new Int32Array(VM),e.sane=1,e.back=-1,Uc},GE=n=>{if(Gc(n))return Wa;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,HE(n)},YE=(n,e)=>{let t;if(Gc(n))return Wa;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Wa:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,GE(n))},$E=(n,e)=>{if(!n)return Wa;const t=new HM;n.state=t,t.strm=n,t.window=null,t.mode=Og;const r=YE(n,e);return r!==Uc&&(n.state=null),r},GM=n=>$E(n,qM);let dA=!0,k0,R0;const YM=n=>{if(dA){k0=new Int32Array(512),R0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Sd(UE,n.lens,0,288,k0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Sd(FE,n.lens,0,32,R0,0,n.work,{bits:5}),dA=!1}n.lencode=k0,n.lenbits=9,n.distcode=R0,n.distbits=5},KE=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},$M=(n,e)=>{let t,r,s,o,u,c,f,d,p,_,A,v,M,U,z=0,L,Q,K,te,me,ue,V,P;const R=new Uint8Array(4);let H,N;const x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Gc(n)||!n.output||!n.input&&n.avail_in!==0)return Wa;t=n.state,t.mode===Ml&&(t.mode=N0),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,p=t.bits,_=c,A=f,P=Uc;e:for(;;)switch(t.mode){case Og:if(t.wrap===0){t.mode=N0;break}for(;p<16;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=d&255,R[1]=d>>>8&255,t.check=Go(t.check,R,2,0),d=0,p=0,t.mode=Gw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Er;break}if((d&15)!==Hw){n.msg="unknown compression method",t.mode=Er;break}if(d>>>=4,p-=4,V=(d&15)+8,t.wbits===0&&(t.wbits=V),V>15||V>t.wbits){n.msg="invalid window size",t.mode=Er;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?Zw:Ml,d=0,p=0;break;case Gw:for(;p<16;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(t.flags=d,(t.flags&255)!==Hw){n.msg="unknown compression method",t.mode=Er;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Er;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Go(t.check,R,2,0)),d=0,p=0,t.mode=Yw;case Yw:for(;p<32;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,t.check=Go(t.check,R,4,0)),d=0,p=0,t.mode=$w;case $w:for(;p<16;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Go(t.check,R,2,0)),d=0,p=0,t.mode=Kw;case Kw:if(t.flags&1024){for(;p<16;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Go(t.check,R,2,0)),d=0,p=0}else t.head&&(t.head.extra=null);t.mode=Ww;case Ww:if(t.flags&1024&&(v=t.length,v>c&&(v=c),v&&(t.head&&(V=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+v),V)),t.flags&512&&t.wrap&4&&(t.check=Go(t.check,r,v,o)),c-=v,o+=v,t.length-=v),t.length))break e;t.length=0,t.mode=Xw;case Xw:if(t.flags&2048){if(c===0)break e;v=0;do V=r[o+v++],t.head&&V&&t.length<65536&&(t.head.name+=String.fromCharCode(V));while(V&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=Go(t.check,r,v,o)),c-=v,o+=v,V)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Qw;case Qw:if(t.flags&4096){if(c===0)break e;v=0;do V=r[o+v++],t.head&&V&&t.length<65536&&(t.head.comment+=String.fromCharCode(V));while(V&&v<c);if(t.flags&512&&t.wrap&4&&(t.check=Go(t.check,r,v,o)),c-=v,o+=v,V)break e}else t.head&&(t.head.comment=null);t.mode=Jw;case Jw:if(t.flags&512){for(;p<16;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Er;break}d=0,p=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Ml;break;case Zw:for(;p<32;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}n.adler=t.check=fA(d),d=0,p=0,t.mode=tg;case tg:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,UM;n.adler=t.check=1,t.mode=Ml;case Ml:if(e===MM||e===am)break e;case N0:if(t.last){d>>>=p&7,p-=p&7,t.mode=C0;break}for(;p<3;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}switch(t.last=d&1,d>>>=1,p-=1,d&3){case 0:t.mode=eA;break;case 1:if(YM(t),t.mode=om,e===am){d>>>=2,p-=2;break e}break;case 2:t.mode=nA;break;case 3:n.msg="invalid block type",t.mode=Er}d>>>=2,p-=2;break;case eA:for(d>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Er;break}if(t.length=d&65535,d=0,p=0,t.mode=I0,e===am)break e;case I0:t.mode=tA;case tA:if(v=t.length,v){if(v>c&&(v=c),v>f&&(v=f),v===0)break e;s.set(r.subarray(o,o+v),u),c-=v,o+=v,f-=v,u+=v,t.length-=v;break}t.mode=Ml;break;case nA:for(;p<14;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(t.nlen=(d&31)+257,d>>>=5,p-=5,t.ndist=(d&31)+1,d>>>=5,p-=5,t.ncode=(d&15)+4,d>>>=4,p-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Er;break}t.have=0,t.mode=rA;case rA:for(;t.have<t.ncode;){for(;p<3;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}t.lens[x[t.have++]]=d&7,d>>>=3,p-=3}for(;t.have<19;)t.lens[x[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,H={bits:t.lenbits},P=Sd(OM,t.lens,0,19,t.lencode,0,t.work,H),t.lenbits=H.bits,P){n.msg="invalid code lengths set",t.mode=Er;break}t.have=0,t.mode=iA;case iA:for(;t.have<t.nlen+t.ndist;){for(;z=t.lencode[d&(1<<t.lenbits)-1],L=z>>>24,Q=z>>>16&255,K=z&65535,!(L<=p);){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(K<16)d>>>=L,p-=L,t.lens[t.have++]=K;else{if(K===16){for(N=L+2;p<N;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(d>>>=L,p-=L,t.have===0){n.msg="invalid bit length repeat",t.mode=Er;break}V=t.lens[t.have-1],v=3+(d&3),d>>>=2,p-=2}else if(K===17){for(N=L+3;p<N;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}d>>>=L,p-=L,V=0,v=3+(d&7),d>>>=3,p-=3}else{for(N=L+7;p<N;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}d>>>=L,p-=L,V=0,v=11+(d&127),d>>>=7,p-=7}if(t.have+v>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Er;break}for(;v--;)t.lens[t.have++]=V}}if(t.mode===Er)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Er;break}if(t.lenbits=9,H={bits:t.lenbits},P=Sd(UE,t.lens,0,t.nlen,t.lencode,0,t.work,H),t.lenbits=H.bits,P){n.msg="invalid literal/lengths set",t.mode=Er;break}if(t.distbits=6,t.distcode=t.distdyn,H={bits:t.distbits},P=Sd(FE,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,H),t.distbits=H.bits,P){n.msg="invalid distances set",t.mode=Er;break}if(t.mode=om,e===am)break e;case om:t.mode=lm;case lm:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,CM(n,A),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,p=t.bits,t.mode===Ml&&(t.back=-1);break}for(t.back=0;z=t.lencode[d&(1<<t.lenbits)-1],L=z>>>24,Q=z>>>16&255,K=z&65535,!(L<=p);){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(Q&&(Q&240)===0){for(te=L,me=Q,ue=K;z=t.lencode[ue+((d&(1<<te+me)-1)>>te)],L=z>>>24,Q=z>>>16&255,K=z&65535,!(te+L<=p);){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}d>>>=te,p-=te,t.back+=te}if(d>>>=L,p-=L,t.back+=L,t.length=K,Q===0){t.mode=uA;break}if(Q&32){t.back=-1,t.mode=Ml;break}if(Q&64){n.msg="invalid literal/length code",t.mode=Er;break}t.extra=Q&15,t.mode=sA;case sA:if(t.extra){for(N=t.extra;p<N;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=aA;case aA:for(;z=t.distcode[d&(1<<t.distbits)-1],L=z>>>24,Q=z>>>16&255,K=z&65535,!(L<=p);){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if((Q&240)===0){for(te=L,me=Q,ue=K;z=t.distcode[ue+((d&(1<<te+me)-1)>>te)],L=z>>>24,Q=z>>>16&255,K=z&65535,!(te+L<=p);){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}d>>>=te,p-=te,t.back+=te}if(d>>>=L,p-=L,t.back+=L,Q&64){n.msg="invalid distance code",t.mode=Er;break}t.offset=K,t.extra=Q&15,t.mode=oA;case oA:if(t.extra){for(N=t.extra;p<N;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,p-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Er;break}t.mode=lA;case lA:if(f===0)break e;if(v=A-f,t.offset>v){if(v=t.offset-v,v>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Er;break}v>t.wnext?(v-=t.wnext,M=t.wsize-v):M=t.wnext-v,v>t.length&&(v=t.length),U=t.window}else U=s,M=u-t.offset,v=t.length;v>f&&(v=f),f-=v,t.length-=v;do s[u++]=U[M++];while(--v);t.length===0&&(t.mode=lm);break;case uA:if(f===0)break e;s[u++]=t.length,f--,t.mode=lm;break;case C0:if(t.wrap){for(;p<32;){if(c===0)break e;c--,d|=r[o++]<<p,p+=8}if(A-=f,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Go(t.check,s,A,u-A):P2(t.check,s,A,u-A)),A=f,t.wrap&4&&(t.flags?d:fA(d))!==t.check){n.msg="incorrect data check",t.mode=Er;break}d=0,p=0}t.mode=cA;case cA:if(t.wrap&&t.flags){for(;p<32;){if(c===0)break e;c--,d+=r[o++]<<p,p+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Er;break}d=0,p=0}t.mode=hA;case hA:P=jM;break e;case Er:P=BE;break e;case zE:return VE;case qE:default:return Wa}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=p,(t.wsize||A!==n.avail_out&&t.mode<Er&&(t.mode<C0||e!==qw))&&KE(n,n.output,n.next_out,A-n.avail_out),_-=n.avail_in,A-=n.avail_out,n.total_in+=_,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Go(t.check,s,A,n.next_out-A):P2(t.check,s,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Ml?128:0)+(t.mode===om||t.mode===I0?256:0),(_===0&&A===0||e===qw)&&P===Uc&&(P=FM),P},KM=n=>{if(Gc(n))return Wa;let e=n.state;return e.window&&(e.window=null),n.state=null,Uc},WM=(n,e)=>{if(Gc(n))return Wa;const t=n.state;return(t.wrap&2)===0?Wa:(t.head=e,e.done=!1,Uc)},XM=(n,e)=>{const t=e.length;let r,s,o;return Gc(n)||(r=n.state,r.wrap!==0&&r.mode!==tg)?Wa:r.mode===tg&&(s=1,s=P2(s,e,t,0),s!==r.check)?BE:(o=KE(n,e,t,t),o?(r.mode=zE,VE):(r.havedict=1,Uc))};var QM=GE,JM=YE,ZM=HE,ej=GM,tj=$E,nj=$M,rj=KM,ij=WM,sj=XM,aj="pako inflate (from Nodeca project)",jl={inflateReset:QM,inflateReset2:JM,inflateResetKeep:ZM,inflateInit:ej,inflateInit2:tj,inflate:nj,inflateEnd:rj,inflateGetHeader:ij,inflateSetDictionary:sj,inflateInfo:aj};function oj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lj=oj;const WE=Object.prototype.toString,{Z_NO_FLUSH:uj,Z_FINISH:cj,Z_OK:jd,Z_STREAM_END:L0,Z_NEED_DICT:P0,Z_STREAM_ERROR:hj,Z_DATA_ERROR:pA,Z_MEM_ERROR:fj}=OE;function Xd(n){this.options=ME.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NM,this.strm.avail_out=0;let t=jl.inflateInit2(this.strm,e.windowBits);if(t!==jd)throw new Error(D2[t]);if(this.header=new lj,jl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=O2.string2buf(e.dictionary):WE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=jl.inflateSetDictionary(this.strm,e.dictionary),t!==jd)))throw new Error(D2[t])}Xd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?cj:uj,WE.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=jl.inflate(t,u),o===P0&&s&&(o=jl.inflateSetDictionary(t,s),o===jd?o=jl.inflate(t,u):o===pA&&(o=P0));t.avail_in>0&&o===L0&&t.state.wrap>0&&n[t.next_in]!==0;)jl.inflateReset(t),o=jl.inflate(t,u);switch(o){case hj:case pA:case P0:case fj:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===L0))if(this.options.to==="string"){let f=O2.utf8border(t.output,t.next_out),d=t.next_out-f,p=O2.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(p)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===jd&&c===0)){if(o===L0)return o=jl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Xd.prototype.onData=function(n){this.chunks.push(n)};Xd.prototype.onEnd=function(n){n===jd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ME.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function dj(n,e){const t=new Xd(e);if(t.push(n),t.err)throw t.msg||D2[t.err];return t.result}var pj=Xd,mj=dj,gj={Inflate:pj,inflate:mj};const{Inflate:yj,inflate:vj}=gj;var mA=yj,bj=vj;const XE=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;XE[n]=e}const gA=4294967295;function _j(n,e,t){let r=n;for(let s=0;s<t;s++)r=XE[(r^e[s])&255]^r>>>8;return r}function wj(n,e){return(_j(gA,n,e)^gA)>>>0}function yA(n,e,t){const r=n.readUint32(),s=wj(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function QE(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function JE(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function ZE(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function ex(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function tx(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+Aj(e[o-s],t[o],t[o-s])&255}}function Aj(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return s<=o&&s<=u?n:o<=u?e:t}function Sj(n,e,t,r,s,o){switch(n){case 0:QE(e,t,s);break;case 1:JE(e,t,s,o);break;case 2:ZE(e,t,r,s);break;case 3:ex(e,t,r,s,o);break;case 4:tx(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const Ej=new Uint16Array([255]),xj=new Uint8Array(Ej.buffer),Tj=xj[0]===255;function Nj(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(r*t*c);let d=0;for(let p=0;p<7;p++){const _=u[p],A=Math.ceil((t-_.x)/_.xStep),v=Math.ceil((r-_.y)/_.yStep);if(A<=0||v<=0)continue;const M=A*c,U=new Uint8Array(M);for(let z=0;z<v;z++){const L=e[d++],Q=e.subarray(d,d+M);d+=M;const K=new Uint8Array(M);Sj(L,Q,K,U,M,c),U.set(K);for(let te=0;te<A;te++){const me=_.x+te*_.xStep,ue=_.y+z*_.yStep;if(!(me>=t||ue>=r))for(let V=0;V<c;V++)f[(ue*t+me)*c+V]=K[te*c+V]}}}if(o===16){const p=new Uint16Array(f.buffer);if(Tj)for(let _=0;_<p.length;_++)p[_]=Ij(p[_]);return p}else return f}function Ij(n){return(n&255)<<8|n>>8&255}const Cj=new Uint16Array([255]),kj=new Uint8Array(Cj.buffer),Rj=kj[0]===255,Lj=new Uint8Array(0);function vA(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),f=new Uint8Array(r*c);let d=Lj,p=0,_,A;for(let v=0;v<r;v++){switch(_=e.subarray(p+1,p+1+c),A=f.subarray(v*c,(v+1)*c),e[p]){case 0:QE(_,A,c);break;case 1:JE(_,A,c,u);break;case 2:ZE(_,A,d,c);break;case 3:ex(_,A,d,c,u);break;case 4:tx(_,A,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[p]}`)}d=A,p+=c+1}if(o===16){const v=new Uint16Array(f.buffer);if(Rj)for(let M=0;M<v.length;M++)v[M]=Pj(v[M]);return v}else return f}function Pj(n){return(n&255)<<8|n>>8&255}const xm=Uint8Array.of(137,80,78,71,13,10,26,10);function bA(n){if(!Dj(n.readBytes(xm.length)))throw new Error("wrong PNG signature")}function Dj(n){if(n.length<xm.length)return!1;for(let e=0;e<xm.length;e++)if(n[e]!==xm[e])return!1;return!0}const Oj="tEXt",Mj=0,nx=new TextDecoder("latin1");function jj(n){if(Fj(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Uj=/^[\u0000-\u00FF]*$/;function Fj(n){if(!Uj.test(n))throw new Error("invalid latin1 text")}function Bj(n,e,t){const r=rx(e);n[r]=Vj(e,t-r.length-1)}function rx(n){for(n.mark();n.readByte()!==Mj;);const e=n.offset;n.reset();const t=nx.decode(n.readBytes(e-n.offset-1));return n.skip(1),jj(t),t}function Vj(n,e){return nx.decode(n.readBytes(e))}const ma={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},D0={UNKNOWN:-1,DEFLATE:0},_A={UNKNOWN:-1,ADAPTIVE:0},O0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},um={NONE:0,BACKGROUND:1,PREVIOUS:2},M0={SOURCE:0,OVER:1};class zj extends r5{constructor(t,r={}){super(t);Zn(this,"_checkCrc");Zn(this,"_inflator");Zn(this,"_png");Zn(this,"_apng");Zn(this,"_end");Zn(this,"_hasPalette");Zn(this,"_palette");Zn(this,"_hasTransparency");Zn(this,"_transparency");Zn(this,"_compressionMethod");Zn(this,"_filterMethod");Zn(this,"_interlaceMethod");Zn(this,"_colorType");Zn(this,"_isAnimated");Zn(this,"_numberOfFrames");Zn(this,"_numberOfPlays");Zn(this,"_frames");Zn(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new mA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=D0.UNKNOWN,this._filterMethod=_A.UNKNOWN,this._interlaceMethod=O0.UNKNOWN,this._colorType=ma.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(bA(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(bA(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case Oj:Bj(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?yA(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?yA(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=qj(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case ma.GREYSCALE:s=1;break;case ma.TRUECOLOUR:s=3;break;case ma.INDEXED_COLOUR:s=1;break;case ma.GREYSCALE_ALPHA:s=2;break;case ma.TRUECOLOUR_ALPHA:s=4;break;case ma.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==D0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<r;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case ma.GREYSCALE:case ma.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case ma.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ma.UNKNOWN:case ma.GREYSCALE_ALPHA:case ma.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=rx(this),s=this.readUint8();if(s!==D0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:bj(o)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=vA({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(s,o,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,s){switch(t.disposeOp){case um.NONE:break;case um.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let u=0;u<this._png.width;u++){const c=(o*t.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[c+f]=0}break;case um.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const s=1<<this._png.depth,o=(u,c)=>{const f=((u+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,d=(u*r.width+c)*this._png.channels;return{index:f,frameIndex:d}};switch(r.blendOp){case M0.SOURCE:for(let u=0;u<r.height;u++)for(let c=0;c<r.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let p=0;p<this._png.channels;p++)t.data[f+p]=r.data[d+p]}break;case M0.OVER:for(let u=0;u<r.height;u++)for(let c=0;c<r.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let p=0;p<this._png.channels;p++){const _=r.data[d+this._png.channels-1]/s,A=p%(this._png.channels-1)===0?1:r.data[d+p],v=Math.floor(_*A+(1-_)*t.data[f+p]);t.data[f+p]+=v}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==_A.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===O0.NO_INTERLACE)this._png.data=vA({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===O0.ADAM7)this._png.data=Nj({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:um.NONE,blendOp:M0.SOURCE,data:t}),this._inflator=new mA,this._writingDataChunks=!1}}function qj(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var wA;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(wA||(wA={}));function Hj(n,e){return new zj(n,e).decode()}var en=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function j0(){en.console&&typeof en.console.log=="function"&&en.console.log.apply(en.console,arguments)}var ur={log:j0,warn:function(n){en.console&&(typeof en.console.warn=="function"?en.console.warn.apply(en.console,arguments):j0.call(null,arguments))},error:function(n){en.console&&(typeof en.console.error=="function"?en.console.error.apply(en.console,arguments):j0(n))}};function U0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ec(r.response,e,t)},r.onerror=function(){ur.error("could not download file")},r.send()}function AA(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function cm(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Ec=en.saveAs||((typeof window>"u"?"undefined":er(window))!=="object"||window!==en?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=en.URL||en.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?AA(s.href)?U0(n,e,t):cm(s,s.target="_blank"):cm(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){cm(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(AA(n))U0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){cm(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:er(o)!=="object"&&(ur.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return U0(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(en.HTMLElement)||en.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":er(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=u?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},c.readAsDataURL(n)}else{var f=en.URL||en.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ix(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var Tm=en.atob.bind(en),SA=en.btoa.bind(en);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F0(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=ms(t,r,s,o,e[0],7,-680876936),o=ms(o,t,r,s,e[1],12,-389564586),s=ms(s,o,t,r,e[2],17,606105819),r=ms(r,s,o,t,e[3],22,-1044525330),t=ms(t,r,s,o,e[4],7,-176418897),o=ms(o,t,r,s,e[5],12,1200080426),s=ms(s,o,t,r,e[6],17,-1473231341),r=ms(r,s,o,t,e[7],22,-45705983),t=ms(t,r,s,o,e[8],7,1770035416),o=ms(o,t,r,s,e[9],12,-1958414417),s=ms(s,o,t,r,e[10],17,-42063),r=ms(r,s,o,t,e[11],22,-1990404162),t=ms(t,r,s,o,e[12],7,1804603682),o=ms(o,t,r,s,e[13],12,-40341101),s=ms(s,o,t,r,e[14],17,-1502002290),t=gs(t,r=ms(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=gs(o,t,r,s,e[6],9,-1069501632),s=gs(s,o,t,r,e[11],14,643717713),r=gs(r,s,o,t,e[0],20,-373897302),t=gs(t,r,s,o,e[5],5,-701558691),o=gs(o,t,r,s,e[10],9,38016083),s=gs(s,o,t,r,e[15],14,-660478335),r=gs(r,s,o,t,e[4],20,-405537848),t=gs(t,r,s,o,e[9],5,568446438),o=gs(o,t,r,s,e[14],9,-1019803690),s=gs(s,o,t,r,e[3],14,-187363961),r=gs(r,s,o,t,e[8],20,1163531501),t=gs(t,r,s,o,e[13],5,-1444681467),o=gs(o,t,r,s,e[2],9,-51403784),s=gs(s,o,t,r,e[7],14,1735328473),t=ys(t,r=gs(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=ys(o,t,r,s,e[8],11,-2022574463),s=ys(s,o,t,r,e[11],16,1839030562),r=ys(r,s,o,t,e[14],23,-35309556),t=ys(t,r,s,o,e[1],4,-1530992060),o=ys(o,t,r,s,e[4],11,1272893353),s=ys(s,o,t,r,e[7],16,-155497632),r=ys(r,s,o,t,e[10],23,-1094730640),t=ys(t,r,s,o,e[13],4,681279174),o=ys(o,t,r,s,e[0],11,-358537222),s=ys(s,o,t,r,e[3],16,-722521979),r=ys(r,s,o,t,e[6],23,76029189),t=ys(t,r,s,o,e[9],4,-640364487),o=ys(o,t,r,s,e[12],11,-421815835),s=ys(s,o,t,r,e[15],16,530742520),t=vs(t,r=ys(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=vs(o,t,r,s,e[7],10,1126891415),s=vs(s,o,t,r,e[14],15,-1416354905),r=vs(r,s,o,t,e[5],21,-57434055),t=vs(t,r,s,o,e[12],6,1700485571),o=vs(o,t,r,s,e[3],10,-1894986606),s=vs(s,o,t,r,e[10],15,-1051523),r=vs(r,s,o,t,e[1],21,-2054922799),t=vs(t,r,s,o,e[8],6,1873313359),o=vs(o,t,r,s,e[15],10,-30611744),s=vs(s,o,t,r,e[6],15,-1560198380),r=vs(r,s,o,t,e[13],21,1309151649),t=vs(t,r,s,o,e[4],6,-145523070),o=vs(o,t,r,s,e[11],10,-1120210379),s=vs(s,o,t,r,e[2],15,718787259),r=vs(r,s,o,t,e[9],21,-343485551),n[0]=ju(t,n[0]),n[1]=ju(r,n[1]),n[2]=ju(s,n[2]),n[3]=ju(o,n[3])}function Mg(n,e,t,r,s,o){return e=ju(ju(e,n),ju(r,o)),ju(e<<s|e>>>32-s,t)}function ms(n,e,t,r,s,o,u){return Mg(e&t|~e&r,n,e,s,o,u)}function gs(n,e,t,r,s,o,u){return Mg(e&r|t&~r,n,e,s,o,u)}function ys(n,e,t,r,s,o,u){return Mg(e^t^r,n,e,s,o,u)}function vs(n,e,t,r,s,o,u){return Mg(t^(e|~r),n,e,s,o,u)}function sx(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)F0(r,Gj(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(F0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,F0(r,s),r}function Gj(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var EA="0123456789abcdef".split("");function Yj(n){for(var e="",t=0;t<4;t++)e+=EA[n>>8*t+4&15]+EA[n>>8*t&15];return e}function $j(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function M2(n){return sx(n).map($j).join("")}var Kj=(function(n){for(var e=0;e<n.length;e++)n[e]=Yj(n[e]);return n.join("")})(sx("hello"))!="5d41402abc4b2a76b9719d911017c592";function ju(n,e){if(Kj){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j2(n,e){var t,r,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var p=c[f];d=(d+p+u.charCodeAt(f))%256,c[f]=c[d],c[d]=p}t=n,r=c}else c=r;var _=e.length,A=0,v=0,M="";for(f=0;f<_;f++)v=(v+(p=c[A=(A+1)%256]))%256,c[A]=c[v],c[v]=p,u=c[(c[A]+c[v])%256],M+=String.fromCharCode(e.charCodeAt(f)^u);return M}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var xA={print:4,modify:8,copy:16,"annot-forms":32};function Ph(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(xA.perm!==void 0)throw new Error("Invalid permission: "+c);s+=xA[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=M2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=j2(this.encryptionKey,this.padding)}function Dh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function TA(n){if(er(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){en.console&&ur.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ng(n){if(!(this instanceof ng))return new ng(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function ax(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function xc(n,e,t,r,s){if(!(this instanceof xc))return new xc(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,ax.call(this,r,s)}function Oh(n,e,t,r,s){if(!(this instanceof Oh))return new Oh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ax.call(this,r,s)}function kt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",p=null;er(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(p=n.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,A={},v={internal:{},__private__:{}};v.__private__.PubSub=TA;var M="1.3",U=v.__private__.getPdfVersion=function(){return M};v.__private__.setPdfVersion=function(S){M=S};var z={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return z};var L=v.__private__.getPageFormat=function(S){return z[S]};s=s||"a4";var Q="compat",K="advanced",te=Q;function me(){this.saveGraphicsState(),re(new jt(lt,0,0,-lt,0,oa()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),d="n",te=K}function ue(){this.restoreGraphicsState(),d="S",te=Q}var V=v.__private__.combineFontStyleAndFontWeight=function(S,B){if(S=="bold"&&B=="normal"||S=="bold"&&B==400||S=="normal"&&B=="italic"||S=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(S=B==400||B==="normal"?S==="italic"?"italic":"normal":B!=700&&B!=="bold"||S!=="normal"?(B==700?"bold":B)+""+S:"bold"),S};v.advancedAPI=function(S){var B=te===Q;return B&&me.call(this),typeof S!="function"||(S(this),B&&ue.call(this)),this},v.compatAPI=function(S){var B=te===K;return B&&ue.call(this),typeof S!="function"||(S(this),B&&me.call(this)),this},v.isAdvancedAPI=function(){return te===K};var P,R=function(S){if(te!==K)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=v.roundToPrecision=v.__private__.roundToPrecision=function(S,B){var ae=e||B;if(isNaN(S)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ae).replace(/0+$/,"")};P=v.hpf=v.__private__.hpf=typeof f=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,f)}:f==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return H(S,16)};var N=v.f2=v.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return H(S,2)},x=v.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return H(S,3)},k=v.scale=v.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return te===Q?S*lt:te===K?S:void 0},Z=function(S){return k((function(B){return te===Q?oa()-B:te===K?B:void 0})(S))};v.__private__.setPrecision=v.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var fe,se="00000000000000000000000000000000",ce=v.__private__.getFileId=function(){return se},pe=v.__private__.setFileId=function(S){return se=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(mn=new Ph(p.userPermissions,p.userPassword,p.ownerPassword,se)),se};v.setFileId=function(S){return pe(S),this},v.getFileId=function(){return ce()};var Ie=v.__private__.convertDateToPDFDate=function(S){var B=S.getTimezoneOffset(),ae=B<0?"+":"-",ye=Math.floor(Math.abs(B/60)),Ae=Math.abs(B%60),ze=[ae,ne(ye),"'",ne(Ae),"'"].join("");return["D:",S.getFullYear(),ne(S.getMonth()+1),ne(S.getDate()),ne(S.getHours()),ne(S.getMinutes()),ne(S.getSeconds()),ze].join("")},D=v.__private__.convertPDFDateToDate=function(S){var B=parseInt(S.substr(2,4),10),ae=parseInt(S.substr(6,2),10)-1,ye=parseInt(S.substr(8,2),10),Ae=parseInt(S.substr(10,2),10),ze=parseInt(S.substr(12,2),10),We=parseInt(S.substr(14,2),10);return new Date(B,ae,ye,Ae,ze,We,0)},ge=v.__private__.setCreationDate=function(S){var B;if(S===void 0&&(S=new Date),S instanceof Date)B=Ie(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=S}return fe=B},F=v.__private__.getCreationDate=function(S){var B=fe;return S==="jsDate"&&(B=D(fe)),B};v.setCreationDate=function(S){return ge(S),this},v.getCreationDate=function(S){return F(S)};var I,ne=v.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},he=v.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},le=0,_e=[],Se=[],Re=0,Ue=[],Qe=[],at=!1,it=Se;v.__private__.setCustomOutputDestination=function(S){at=!0,it=S};var vt=function(S){at||(it=S)};v.__private__.resetCustomOutputDestination=function(){at=!1,it=Se};var re=v.__private__.out=function(S){return S=S.toString(),Re+=S.length+1,it.push(S),it},rt=v.__private__.write=function(S){return re(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Tt=v.__private__.getArrayBuffer=function(S){for(var B=S.length,ae=new ArrayBuffer(B),ye=new Uint8Array(ae);B--;)ye[B]=S.charCodeAt(B);return ae},Nt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Nt};var qe=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(S){return qe=te===K?S/lt:S,this};var ct,ot=v.__private__.getFontSize=v.getFontSize=function(){return te===Q?qe:qe*lt},It=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(S){return It=S,this},v.__private__.getR2L=v.getR2L=function(){return It};var At,An=v.__private__.setZoomMode=function(S){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))ct=S;else if(isNaN(S)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');ct=S}else ct=parseInt(S,10)};v.__private__.getZoomMode=function(){return ct};var nn,Ne=v.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');At=S};v.__private__.getPageMode=function(){return At};var Fe=v.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');nn=S};v.__private__.getLayoutMode=function(){return nn},v.__private__.setDisplayMode=v.setDisplayMode=function(S,B,ae){return An(S),Fe(B),Ne(ae),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(S){if(Object.keys(et).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[S]},v.__private__.getDocumentProperties=function(){return et},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(S){for(var B in et)et.hasOwnProperty(B)&&S[B]&&(et[B]=S[B]);return this},v.__private__.setDocumentProperty=function(S,B){if(Object.keys(et).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[S]=B};var Ke,lt,ut,Cn,Ot,Mt={},Rt={},zt=[],ft={},ln={},Pt={},Bt={},Mn=null,Et=0,Dt=[],fn=new TA(v),is=n.hotfixes||[],Pr={},Ss={},ni=[],jt=function S(B,ae,ye,Ae,ze,We){if(!(this instanceof S))return new S(B,ae,ye,Ae,ze,We);isNaN(B)&&(B=1),isNaN(ae)&&(ae=0),isNaN(ye)&&(ye=0),isNaN(Ae)&&(Ae=1),isNaN(ze)&&(ze=0),isNaN(We)&&(We=0),this._matrix=[B,ae,ye,Ae,ze,We]};Object.defineProperty(jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),jt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(S)},jt.prototype.multiply=function(S){var B=S.sx*this.sx+S.shy*this.shx,ae=S.sx*this.shy+S.shy*this.sy,ye=S.shx*this.sx+S.sy*this.shx,Ae=S.shx*this.shy+S.sy*this.sy,ze=S.tx*this.sx+S.ty*this.shx+this.tx,We=S.tx*this.shy+S.ty*this.sy+this.ty;return new jt(B,ae,ye,Ae,ze,We)},jt.prototype.decompose=function(){var S=this.sx,B=this.shy,ae=this.shx,ye=this.sy,Ae=this.tx,ze=this.ty,We=Math.sqrt(S*S+B*B),ht=(S/=We)*ae+(B/=We)*ye;ae-=S*ht,ye-=B*ht;var bt=Math.sqrt(ae*ae+ye*ye);return ht/=bt,S*(ye/=bt)<B*(ae/=bt)&&(S=-S,B=-B,ht=-ht,We=-We),{scale:new jt(We,0,0,bt,0,0),translate:new jt(1,0,0,1,Ae,ze),rotate:new jt(S,B,-B,S,0,0),skew:new jt(1,0,ht,1,0,0)}},jt.prototype.toString=function(S){return this.join(" ")},jt.prototype.inversed=function(){var S=this.sx,B=this.shy,ae=this.shx,ye=this.sy,Ae=this.tx,ze=this.ty,We=1/(S*ye-B*ae),ht=ye*We,bt=-B*We,Ft=-ae*We,Ct=S*We;return new jt(ht,bt,Ft,Ct,-ht*Ae-Ft*ze,-bt*Ae-Ct*ze)},jt.prototype.applyToPoint=function(S){var B=S.x*this.sx+S.y*this.shx+this.tx,ae=S.x*this.shy+S.y*this.sy+this.ty;return new Hi(B,ae)},jt.prototype.applyToRectangle=function(S){var B=this.applyToPoint(S),ae=this.applyToPoint(new Hi(S.x+S.w,S.y+S.h));return new ka(B.x,B.y,ae.x-B.x,ae.y-B.y)},jt.prototype.clone=function(){var S=this.sx,B=this.shy,ae=this.shx,ye=this.sy,Ae=this.tx,ze=this.ty;return new jt(S,B,ae,ye,Ae,ze)},v.Matrix=jt;var ri=v.matrixMult=function(S,B){return B.multiply(S)},jn=new jt(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=jn;var Vn=function(S,B){if(!ln[S]){var ae=(B instanceof xc?"Sh":"P")+(Object.keys(ft).length+1).toString(10);B.id=ae,ln[S]=ae,ft[ae]=B,fn.publish("addPattern",B)}};v.ShadingPattern=xc,v.TilingPattern=Oh,v.addShadingPattern=function(S,B){return R("addShadingPattern()"),Vn(S,B),this},v.beginTilingPattern=function(S){R("beginTilingPattern()"),us(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},v.endTilingPattern=function(S,B){R("endTilingPattern()"),B.stream=Qe[I].join(`
`),Vn(S,B),fn.publish("endTilingPattern",B),ni.pop().restore()};var Dr,zn=v.__private__.newObject=function(){var S=cr();return Br(S,!0),S},cr=v.__private__.newObjectDeferred=function(){return le++,_e[le]=function(){return Re},le},Br=function(S,B){return B=typeof B=="boolean"&&B,_e[S]=Re,B&&re(S+" 0 obj"),S},pi=v.__private__.newAdditionalObject=function(){var S={objId:cr(),content:""};return Ue.push(S),S},Fi=cr(),Ti=cr(),Vr=v.__private__.decodeColorString=function(S){var B=S.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length!==5||B[4]!=="k"&&B[4]!=="K"||(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ae=parseFloat(B[0]);B=[ae,ae,ae,"r"]}for(var ye="#",Ae=0;Ae<3;Ae++)ye+=("0"+Math.floor(255*parseFloat(B[Ae])).toString(16)).slice(-2);return ye},Or=v.__private__.encodeColorString=function(S){var B;typeof S=="string"&&(S={ch1:S});var ae=S.ch1,ye=S.ch2,Ae=S.ch3,ze=S.ch4,We=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var ht=new ix(ae);if(ht.ok)ae=ht.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var bt=parseInt(ae.substr(1),16);ae=bt>>16&255,ye=bt>>8&255,Ae=255&bt}if(ye===void 0||ze===void 0&&ae===ye&&ye===Ae)B=typeof ae=="string"?ae+" "+We[0]:S.precision===2?N(ae/255)+" "+We[0]:x(ae/255)+" "+We[0];else if(ze===void 0||er(ze)==="object"){if(ze&&!isNaN(ze.a)&&ze.a===0)return["1.","1.","1.",We[1]].join(" ");B=typeof ae=="string"?[ae,ye,Ae,We[1]].join(" "):S.precision===2?[N(ae/255),N(ye/255),N(Ae/255),We[1]].join(" "):[x(ae/255),x(ye/255),x(Ae/255),We[1]].join(" ")}else B=typeof ae=="string"?[ae,ye,Ae,ze,We[2]].join(" "):S.precision===2?[N(ae),N(ye),N(Ae),N(ze),We[2]].join(" "):[x(ae),x(ye),x(Ae),x(ze),We[2]].join(" ");return B},ii=v.__private__.getFilters=function(){return u},zr=v.__private__.putStream=function(S){var B=(S=S||{}).data||"",ae=S.filters||ii(),ye=S.alreadyAppliedFilters||[],Ae=S.addLength1||!1,ze=B.length,We=S.objectId,ht=function(T){return T};if(p!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ht=mn.encryptor(We,0));var bt={};ae===!0&&(ae=["FlateEncode"]);var Ft=S.additionalKeyValues||[],Ct=(bt=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(B,ae):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(bt.data.length!==0&&(Ft.push({key:"Length",value:bt.data.length}),Ae===!0&&Ft.push({key:"Length1",value:ze})),Ct.length!=0)if(Ct.split("/").length-1==1)Ft.push({key:"Filter",value:Ct});else{Ft.push({key:"Filter",value:"["+Ct+"]"});for(var dn=0;dn<Ft.length;dn+=1)if(Ft[dn].key==="DecodeParms"){for(var tr=[],$n=0;$n<bt.reverseChain.split("/").length-1;$n+=1)tr.push("null");tr.push(Ft[dn].value),Ft[dn].value="["+tr.join(" ")+"]"}}re("<<");for(var g=0;g<Ft.length;g++)re("/"+Ft[g].key+" "+Ft[g].value);re(">>"),bt.data.length!==0&&(re("stream"),re(ht(bt.data)),re("endstream"))},Gn=v.__private__.putPage=function(S){var B=S.number,ae=S.data,ye=S.objId,Ae=S.contentsObjId;Br(ye,!0),re("<</Type /Page"),re("/Parent "+S.rootDictionaryObjId+" 0 R"),re("/Resources "+S.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(P(S.mediaBox.bottomLeftX))+" "+parseFloat(P(S.mediaBox.bottomLeftY))+" "+P(S.mediaBox.topRightX)+" "+P(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&re("/CropBox ["+P(S.cropBox.bottomLeftX)+" "+P(S.cropBox.bottomLeftY)+" "+P(S.cropBox.topRightX)+" "+P(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&re("/BleedBox ["+P(S.bleedBox.bottomLeftX)+" "+P(S.bleedBox.bottomLeftY)+" "+P(S.bleedBox.topRightX)+" "+P(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&re("/TrimBox ["+P(S.trimBox.bottomLeftX)+" "+P(S.trimBox.bottomLeftY)+" "+P(S.trimBox.topRightX)+" "+P(S.trimBox.topRightY)+"]"),S.artBox!==null&&re("/ArtBox ["+P(S.artBox.bottomLeftX)+" "+P(S.artBox.bottomLeftY)+" "+P(S.artBox.topRightX)+" "+P(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&re("/UserUnit "+S.userUnit),fn.publish("putPage",{objId:ye,pageContext:Dt[B],pageNumber:B,page:ae}),re("/Contents "+Ae+" 0 R"),re(">>"),re("endobj");var ze=ae.join(`
`);return te===K&&(ze+=`
Q`),Br(Ae,!0),zr({data:ze,filters:ii(),objectId:Ae}),re("endobj"),ye},Es=v.__private__.putPages=function(){var S,B,ae=[];for(S=1;S<=Et;S++)Dt[S].objId=cr(),Dt[S].contentsObjId=cr();for(S=1;S<=Et;S++)ae.push(Gn({number:S,data:Qe[S],objId:Dt[S].objId,contentsObjId:Dt[S].contentsObjId,mediaBox:Dt[S].mediaBox,cropBox:Dt[S].cropBox,bleedBox:Dt[S].bleedBox,trimBox:Dt[S].trimBox,artBox:Dt[S].artBox,userUnit:Dt[S].userUnit,rootDictionaryObjId:Fi,resourceDictionaryObjId:Ti}));Br(Fi,!0),re("<</Type /Pages");var ye="/Kids [";for(B=0;B<Et;B++)ye+=ae[B]+" 0 R ";re(ye+"]"),re("/Count "+Et),re(">>"),re("endobj"),fn.publish("postPutPages")},xs=function(S){fn.publish("putFont",{font:S,out:re,newObject:zn,putStream:zr}),S.isAlreadyPutted!==!0&&(S.objectNumber=zn(),re("<<"),re("/Type /Font"),re("/BaseFont /"+Dh(S.postScriptName)),re("/Subtype /Type1"),typeof S.encoding=="string"&&re("/Encoding /"+S.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},Bi=function(S){S.objectNumber=zn();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[P(S.x),P(S.y),P(S.x+S.width),P(S.y+S.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ae=S.pages[1].join(`
`);zr({data:ae,additionalKeyValues:B,objectId:S.objectNumber}),re("endobj")},Vi=function(S,B){B||(B=21);var ae=zn(),ye=(function(We,ht){var bt,Ft=[],Ct=1/(ht-1);for(bt=0;bt<1;bt+=Ct)Ft.push(bt);if(Ft.push(1),We[0].offset!=0){var dn={offset:0,color:We[0].color};We.unshift(dn)}if(We[We.length-1].offset!=1){var tr={offset:1,color:We[We.length-1].color};We.push(tr)}for(var $n="",g=0,T=0;T<Ft.length;T++){for(bt=Ft[T];bt>We[g+1].offset;)g++;var O=We[g].offset,J=(bt-O)/(We[g+1].offset-O),xe=We[g].color,De=We[g+1].color;$n+=he(Math.round((1-J)*xe[0]+J*De[0]).toString(16))+he(Math.round((1-J)*xe[1]+J*De[1]).toString(16))+he(Math.round((1-J)*xe[2]+J*De[2]).toString(16))}return $n.trim()})(S.colors,B),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+B+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zr({data:ye,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),re("endobj"),S.objectNumber=zn(),re("<< /ShadingType "+S.type),re("/ColorSpace /DeviceRGB");var ze="/Coords ["+P(parseFloat(S.coords[0]))+" "+P(parseFloat(S.coords[1]))+" ";S.type===2?ze+=P(parseFloat(S.coords[2]))+" "+P(parseFloat(S.coords[3])):ze+=P(parseFloat(S.coords[2]))+" "+P(parseFloat(S.coords[3]))+" "+P(parseFloat(S.coords[4]))+" "+P(parseFloat(S.coords[5])),re(ze+="]"),S.matrix&&re("/Matrix ["+S.matrix.toString()+"]"),re("/Function "+ae+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},Fs=function(S,B){var ae=cr(),ye=zn();B.push({resourcesOid:ae,objectOid:ye}),S.objectNumber=ye;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+S.boundingBox.map(P).join(" ")+"]"}),Ae.push({key:"XStep",value:P(S.xStep)}),Ae.push({key:"YStep",value:P(S.yStep)}),Ae.push({key:"Resources",value:ae+" 0 R"}),S.matrix&&Ae.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),zr({data:S.stream,additionalKeyValues:Ae,objectId:S.objectNumber}),re("endobj")},Bs=function(S){for(var B in S.objectNumber=zn(),re("<<"),S)switch(B){case"opacity":re("/ca "+N(S[B]));break;case"stroke-opacity":re("/CA "+N(S[B]))}re(">>"),re("endobj")},Aa=function(S){Br(S.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var B in re("/Font <<"),Mt)Mt.hasOwnProperty(B)&&(_===!1||_===!0&&A.hasOwnProperty(B))&&re("/"+B+" "+Mt[B].objectNumber+" 0 R");re(">>")})(),(function(){if(Object.keys(ft).length>0){for(var B in re("/Shading <<"),ft)ft.hasOwnProperty(B)&&ft[B]instanceof xc&&ft[B].objectNumber>=0&&re("/"+B+" "+ft[B].objectNumber+" 0 R");fn.publish("putShadingPatternDict"),re(">>")}})(),(function(B){if(Object.keys(ft).length>0){for(var ae in re("/Pattern <<"),ft)ft.hasOwnProperty(ae)&&ft[ae]instanceof v.TilingPattern&&ft[ae].objectNumber>=0&&ft[ae].objectNumber<B&&re("/"+ae+" "+ft[ae].objectNumber+" 0 R");fn.publish("putTilingPatternDict"),re(">>")}})(S.objectOid),(function(){if(Object.keys(Pt).length>0){var B;for(B in re("/ExtGState <<"),Pt)Pt.hasOwnProperty(B)&&Pt[B].objectNumber>=0&&re("/"+B+" "+Pt[B].objectNumber+" 0 R");fn.publish("putGStateDict"),re(">>")}})(),(function(){for(var B in re("/XObject <<"),Pr)Pr.hasOwnProperty(B)&&Pr[B].objectNumber>=0&&re("/"+B+" "+Pr[B].objectNumber+" 0 R");fn.publish("putXobjectDict"),re(">>")})(),re(">>"),re("endobj")},$l=function(S){Rt[S.fontName]=Rt[S.fontName]||{},Rt[S.fontName][S.fontStyle]=S.id},Sa=function(S,B,ae,ye,Ae){var ze={id:"F"+(Object.keys(Mt).length+1).toString(10),postScriptName:S,fontName:B,fontStyle:ae,encoding:ye,isStandardFont:Ae||!1,metadata:{}};return fn.publish("addFont",{font:ze,instance:this}),Mt[ze.id]=ze,$l(ze),ze.id},si=v.__private__.pdfEscape=v.pdfEscape=function(S,B){return(function(ae,ye){var Ae,ze,We,ht,bt,Ft,Ct,dn,tr;if(We=(ye=ye||{}).sourceEncoding||"Unicode",bt=ye.outputEncoding,(ye.autoencode||bt)&&Mt[Ke].metadata&&Mt[Ke].metadata[We]&&Mt[Ke].metadata[We].encoding&&(ht=Mt[Ke].metadata[We].encoding,!bt&&Mt[Ke].encoding&&(bt=Mt[Ke].encoding),!bt&&ht.codePages&&(bt=ht.codePages[0]),typeof bt=="string"&&(bt=ht[bt]),bt)){for(Ct=!1,Ft=[],Ae=0,ze=ae.length;Ae<ze;Ae++)(dn=bt[ae.charCodeAt(Ae)])?Ft.push(String.fromCharCode(dn)):Ft.push(ae[Ae]),Ft[Ae].charCodeAt(0)>>8&&(Ct=!0);ae=Ft.join("")}for(Ae=ae.length;Ct===void 0&&Ae!==0;)ae.charCodeAt(Ae-1)>>8&&(Ct=!0),Ae--;if(!Ct)return ae;for(Ft=ye.noBOM?[]:[254,255],Ae=0,ze=ae.length;Ae<ze;Ae++){if((tr=(dn=ae.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ft.push(tr),Ft.push(dn-(tr<<8))}return String.fromCharCode.apply(void 0,Ft)})(S,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ni=v.__private__.beginPage=function(S){Qe[++Et]=[],Dt[Et]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Vs(Et),vt(Qe[I])},Ea=function(S,B){var ae,ye,Ae;switch(t=B||t,typeof S=="string"&&(ae=L(S.toLowerCase()),Array.isArray(ae)&&(ye=ae[0],Ae=ae[1])),Array.isArray(S)&&(ye=S[0]*lt,Ae=S[1]*lt),isNaN(ye)&&(ye=s[0],Ae=s[1]),(ye>14400||Ae>14400)&&(ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ae=Math.min(14400,Ae)),s=[ye,Ae],t.substr(0,1)){case"l":Ae>ye&&(s=[Ae,ye]);break;case"p":ye>Ae&&(s=[Ae,ye])}Ni(s),Ut(qr),re(ia),Mr!==0&&re(Mr+" J"),sa!==0&&re(sa+" j"),fn.publish("addPage",{pageNumber:Et})},xa=function(S){S>0&&S<=Et&&(Qe.splice(S,1),Dt.splice(S,1),Et--,I>Et&&(I=Et),this.setPage(I))},Vs=function(S){S>0&&S<=Et&&(I=S)},Xa=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Qe.length-1},Qa=function(S,B,ae){var ye,Ae=void 0;return ae=ae||{},S=S!==void 0?S:Mt[Ke].fontName,B=B!==void 0?B:Mt[Ke].fontStyle,ye=S.toLowerCase(),Rt[ye]!==void 0&&Rt[ye][B]!==void 0?Ae=Rt[ye][B]:Rt[S]!==void 0&&Rt[S][B]!==void 0?Ae=Rt[S][B]:ae.disableWarning===!1&&ur.warn("Unable to look up font label for font '"+S+"', '"+B+"'. Refer to getFontList() for available fonts."),Ae||ae.noFallback||(Ae=Rt.times[B])==null&&(Ae=Rt.times.normal),Ae},zs=v.__private__.putInfo=function(){var S=zn(),B=function(ye){return ye};for(var ae in p!==null&&(B=mn.encryptor(S,0)),re("<<"),re("/Producer ("+si(B("jsPDF "+kt.version))+")"),et)et.hasOwnProperty(ae)&&et[ae]&&re("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+si(B(et[ae]))+")");re("/CreationDate ("+si(B(fe))+")"),re(">>"),re("endobj")},Ii=v.__private__.putCatalog=function(S){var B=(S=S||{}).rootDictionaryObjId||Fi;switch(zn(),re("<<"),re("/Type /Catalog"),re("/Pages "+B+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+ct;ae.substr(ae.length-1)==="%"&&(ct=parseInt(ct)/100),typeof ct=="number"&&re("/OpenAction [3 0 R /XYZ null null "+N(ct)+"]")}switch(nn||(nn="continuous"),nn){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}At&&re("/PageMode /"+At),fn.publish("putCatalog"),re(">>"),re("endobj")},sr=v.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(le+1)),re("/Root "+le+" 0 R"),re("/Info "+(le-1)+" 0 R"),p!==null&&re("/Encrypt "+mn.oid+" 0 R"),re("/ID [ <"+se+"> <"+se+"> ]"),re(">>")},Yn=v.__private__.putHeader=function(){re("%PDF-"+M),re("%")},Ta=v.__private__.putXRef=function(){var S="0000000000";re("xref"),re("0 "+(le+1)),re("0000000000 65535 f ");for(var B=1;B<=le;B++)typeof _e[B]=="function"?re((S+_e[B]()).slice(-10)+" 00000 n "):_e[B]!==void 0?re((S+_e[B]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},mi=v.__private__.buildDocument=function(){var S;le=0,Re=0,Se=[],_e=[],Ue=[],Fi=cr(),Ti=cr(),vt(Se),fn.publish("buildDocument"),Yn(),Es(),(function(){fn.publish("putAdditionalObjects");for(var ae=0;ae<Ue.length;ae++){var ye=Ue[ae];Br(ye.objId,!0),re(ye.content),re("endobj")}fn.publish("postPutAdditionalObjects")})(),S=[],(function(){for(var ae in Mt)Mt.hasOwnProperty(ae)&&(_===!1||_===!0&&A.hasOwnProperty(ae))&&xs(Mt[ae])})(),(function(){var ae;for(ae in Pt)Pt.hasOwnProperty(ae)&&Bs(Pt[ae])})(),(function(){for(var ae in Pr)Pr.hasOwnProperty(ae)&&Bi(Pr[ae])})(),(function(ae){var ye;for(ye in ft)ft.hasOwnProperty(ye)&&(ft[ye]instanceof xc?Vi(ft[ye]):ft[ye]instanceof Oh&&Fs(ft[ye],ae))})(S),fn.publish("putResources"),S.forEach(Aa),Aa({resourcesOid:Ti,objectOid:Number.MAX_SAFE_INTEGER}),fn.publish("postPutResources"),p!==null&&(mn.oid=zn(),re("<<"),re("/Filter /Standard"),re("/V "+mn.v),re("/R "+mn.r),re("/U <"+mn.toHexString(mn.U)+">"),re("/O <"+mn.toHexString(mn.O)+">"),re("/P "+mn.P),re(">>"),re("endobj")),zs(),Ii();var B=Re;return Ta(),sr(),re("startxref"),re(""+B),re("%%EOF"),vt(Qe[I]),Se.join(`
`)},In=v.__private__.getBlob=function(S){return new Blob([Tt(S)],{type:"application/pdf"})},qs=v.output=v.__private__.output=(Dr=function(S,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",S){case void 0:return mi();case"save":v.save(B.filename);break;case"arraybuffer":return Tt(mi());case"blob":return In(mi());case"bloburi":case"bloburl":if(en.URL!==void 0&&typeof en.URL.createObjectURL=="function")return en.URL&&en.URL.createObjectURL(In(mi()))||void 0;ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ye=mi();try{ae=SA(ye)}catch{ae=SA(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+B.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(en)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(Ae=B.pdfObjectUrl,ze="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",ht=en.open();return ht!==null&&ht.document.write(We),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(en)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',Ft=en.open();if(Ft!==null){Ft.document.write(bt);var Ct=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=B.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ct.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(en)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',tr=en.open();if(tr!==null&&(tr.document.write(dn),tr.document.title=B.filename),tr||typeof safari>"u")return tr;break;case"datauri":case"dataurl":return en.document.location.href=this.output("datauristring",B);default:return null}},Dr.foo=function(){try{return Dr.apply(this,arguments)}catch(ae){var S=ae.stack||"";~S.indexOf(" at ")&&(S=S.split(" at ")[1]);var B="Error in function "+S.split(`
`)[0].split("<")[0]+": "+ae.message;if(!en.console)throw new Error(B);en.console.error(B,ae),en.alert&&alert(B)}},Dr.foo.bar=Dr,Dr.foo),ai=function(S){return Array.isArray(is)===!0&&is.indexOf(S)>-1};switch(r){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=ai("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);lt=r}var mn=null;ge(),pe();var Ts=v.__private__.getPageInfo=v.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[S].objId,pageNumber:S,pageContext:Dt[S]}},Io=v.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in Dt)if(Dt[B].objId===S)break;return Ts(B)},ul=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Dt[I].objId,pageNumber:I,pageContext:Dt[I]}};v.addPage=function(){return Ea.apply(this,arguments),this},v.setPage=function(){return Vs.apply(this,arguments),vt.call(this,Qe[I]),this},v.insertPage=function(S){return this.addPage(),this.movePage(I,S),this},v.movePage=function(S,B){var ae,ye;if(S>B){ae=Qe[S],ye=Dt[S];for(var Ae=S;Ae>B;Ae--)Qe[Ae]=Qe[Ae-1],Dt[Ae]=Dt[Ae-1];Qe[B]=ae,Dt[B]=ye,this.setPage(B)}else if(S<B){ae=Qe[S],ye=Dt[S];for(var ze=S;ze<B;ze++)Qe[ze]=Qe[ze+1],Dt[ze]=Dt[ze+1];Qe[B]=ae,Dt[B]=ye,this.setPage(B)}return this},v.deletePage=function(){return xa.apply(this,arguments),this},v.__private__.text=v.text=function(S,B,ae,ye,Ae){var ze,We,ht,bt,Ft,Ct,dn,tr,$n,g=(ye=ye||{}).scope||this;if(typeof S=="number"&&typeof B=="number"&&(typeof ae=="string"||Array.isArray(ae))){var T=ae;ae=B,B=S,S=T}if(arguments[3]instanceof jt==0?(ht=arguments[4],bt=arguments[5],er(dn=arguments[3])==="object"&&dn!==null||(typeof ht=="string"&&(bt=ht,ht=null),typeof dn=="string"&&(bt=dn,dn=null),typeof dn=="number"&&(ht=dn,dn=null),ye={flags:dn,angle:ht,align:bt})):(R("The transform parameter of text() with a Matrix value"),$n=Ae),isNaN(B)||isNaN(ae)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return g;var O,J="",xe=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:os,De=g.internal.scaleFactor;function tt(bn){return bn=bn.split("	").join(Array(ye.TabLen||9).join(" ")),si(bn,dn)}function Yt(bn){for(var Un,vr=bn.concat(),ar=[],Da=vr.length;Da--;)typeof(Un=vr.shift())=="string"?ar.push(Un):Array.isArray(bn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?ar.push(Un[0]):ar.push([Un[0],Un[1],Un[2]]);return ar}function Dn(bn,Un){var vr;if(typeof bn=="string")vr=Un(bn)[0];else if(Array.isArray(bn)){for(var ar,Da,ru=bn.concat(),yl=[],Kc=ru.length;Kc--;)typeof(ar=ru.shift())=="string"?yl.push(Un(ar)[0]):Array.isArray(ar)&&typeof ar[0]=="string"&&(Da=Un(ar[0],ar[1],ar[2]),yl.push([Da[0],Da[1],Da[2]]));vr=yl}return vr}var gn=!1,Kn=!0;if(typeof S=="string")gn=!0;else if(Array.isArray(S)){var Hr=S.concat();We=[];for(var vi,Wn=Hr.length;Wn--;)(typeof(vi=Hr.shift())!="string"||Array.isArray(vi)&&typeof vi[0]!="string")&&(Kn=!1);gn=Kn}if(gn===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var bi=qe/g.internal.scaleFactor,_i=bi*(xe-1);switch(ye.baseline){case"bottom":ae-=_i;break;case"top":ae+=bi-_i;break;case"hanging":ae+=bi-2*_i;break;case"middle":ae+=bi/2-_i}if((Ct=ye.maxWidth||0)>0&&(typeof S=="string"?S=g.splitTextToSize(S,Ct):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(bn,Un){return bn.concat(g.splitTextToSize(Un,Ct))},[]))),ze={text:S,x:B,y:ae,options:ye,mutex:{pdfEscape:si,activeFontKey:Ke,fonts:Mt,activeFontSize:qe}},fn.publish("preProcessText",ze),S=ze.text,ht=(ye=ze.options).angle,$n instanceof jt==0&&ht&&typeof ht=="number"){ht*=Math.PI/180,ye.rotationDirection===0&&(ht=-ht),te===K&&(ht=-ht);var eo=Math.cos(ht),tc=Math.sin(ht);$n=new jt(eo,tc,-tc,eo,0,0)}else ht&&ht instanceof jt&&($n=ht);te!==K||$n||($n=jn),(Ft=ye.charSpace||Cs)!==void 0&&(J+=P(k(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tr=ye.horizontalScale)!==void 0&&(J+=P(100*tr)+` Tz
`),ye.lang;var Yi=-1,Ra=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,ml=g.internal.getCurrentPageInfo().pageContext;switch(Ra){case 0:case!1:case"fill":Yi=0;break;case 1:case!0:case"stroke":Yi=1;break;case 2:case"fillThenStroke":Yi=2;break;case 3:case"invisible":Yi=3;break;case 4:case"fillAndAddForClipping":Yi=4;break;case 5:case"strokeAndAddPathForClipping":Yi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Yi=6;break;case 7:case"addToPathForClipping":Yi=7}var Po=ml.usedRenderingMode!==void 0?ml.usedRenderingMode:-1;Yi!==-1?J+=Yi+` Tr
`:Po!==-1&&(J+=`0 Tr
`),Yi!==-1&&(ml.usedRenderingMode=Yi),bt=ye.align||"left";var ki,gl=qe*xe,Do=g.internal.pageSize.getWidth(),Ql=Mt[Ke];Ft=ye.charSpace||Cs,Ct=ye.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var to=[],no=function(bn){return g.getStringUnitWidth(bn,{font:Ql,charSpace:Ft,fontSize:qe,doKerning:!1})*qe/De};if(Object.prototype.toString.call(S)==="[object Array]"){var $i;We=Yt(S),bt!=="left"&&(ki=We.map(no));var hs,ro=0;if(bt==="right"){B-=ki[0],S=[],Wn=We.length;for(var La=0;La<Wn;La++)La===0?(hs=yi(B),$i=Ci(ae)):(hs=k(ro-ki[La]),$i=-gl),S.push([We[La],hs,$i]),ro=ki[La]}else if(bt==="center"){B-=ki[0]/2,S=[],Wn=We.length;for(var Oo=0;Oo<Wn;Oo++)Oo===0?(hs=yi(B),$i=Ci(ae)):(hs=k((ro-ki[Oo])/2),$i=-gl),S.push([We[Oo],hs,$i]),ro=ki[Oo]}else if(bt==="left"){S=[],Wn=We.length;for(var nc=0;nc<Wn;nc++)S.push(We[nc])}else if(bt==="justify"&&Ql.encoding==="Identity-H"){S=[],Wn=We.length,Ct=Ct!==0?Ct:Do;for(var Jl=0,Tr=0;Tr<Wn;Tr++)if($i=Tr===0?Ci(ae):-gl,hs=Tr===0?yi(B):Jl,Tr<Wn-1){var $c=k((Ct-ki[Tr])/(We[Tr].split(" ").length-1)),yr=We[Tr].split(" ");S.push([yr[0]+" ",hs,$i]),Jl=0;for(var fs=1;fs<yr.length;fs++){var Zl=(no(yr[fs-1]+" "+yr[fs])-no(yr[fs]))*De+$c;fs==yr.length-1?S.push([yr[fs],Zl,0]):S.push([yr[fs]+" ",Zl,0]),Jl-=Zl}}else S.push([We[Tr],hs,$i]);S.push(["",Jl,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Wn=We.length,Ct=Ct!==0?Ct:Do,Tr=0;Tr<Wn;Tr++){$i=Tr===0?Ci(ae):-gl,hs=Tr===0?yi(B):0;var eu=We[Tr].split(" ").length-1,tu=eu>0?(Ct-ki[Tr])/eu:0;Tr<Wn-1?to.push(P(k(tu))):to.push(0),S.push([We[Tr],hs,$i])}}}(typeof ye.R2L=="boolean"?ye.R2L:It)===!0&&(S=Dn(S,function(bn,Un,vr){return[bn.split("").reverse().join(""),Un,vr]})),ze={text:S,x:B,y:ae,options:ye,mutex:{pdfEscape:si,activeFontKey:Ke,fonts:Mt,activeFontSize:qe}},fn.publish("postProcessText",ze),S=ze.text,O=ze.mutex.isHex||!1;var nu=Mt[Ke].encoding;nu!=="WinAnsiEncoding"&&nu!=="StandardEncoding"||(S=Dn(S,function(bn,Un,vr){return[tt(bn),Un,vr]})),We=Yt(S),S=[];for(var Pa,Mo,Rs,io=Array.isArray(We[0])?1:0,Gs="",so=function(bn,Un,vr){var ar="";return vr instanceof jt?(vr=typeof ye.angle=="number"?ri(vr,new jt(1,0,0,1,bn,Un)):ri(new jt(1,0,0,1,bn,Un),vr),te===K&&(vr=ri(new jt(1,0,0,-1,0,0),vr)),ar=vr.join(" ")+` Tm
`):ar=P(bn)+" "+P(Un)+` Td
`,ar},Ls=0;Ls<We.length;Ls++){switch(Gs="",io){case 1:Rs=(O?"<":"(")+We[Ls][0]+(O?">":")"),Pa=parseFloat(We[Ls][1]),Mo=parseFloat(We[Ls][2]);break;case 0:Rs=(O?"<":"(")+We[Ls]+(O?">":")"),Pa=yi(B),Mo=Ci(ae)}to!==void 0&&to[Ls]!==void 0&&(Gs=to[Ls]+` Tw
`),Ls===0?S.push(Gs+so(Pa,Mo,$n)+Rs):io===0?S.push(Gs+Rs):io===1&&S.push(Gs+so(Pa,Mo,$n)+Rs)}S=io===0?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var Ri=`BT
/`;return Ri+=Ke+" "+qe+` Tf
`,Ri+=P(qe*xe)+` TL
`,Ri+=Is+`
`,Ri+=J,Ri+=S,re(Ri+="ET"),A[Ke]=!0,g};var Na=v.__private__.clip=v.clip=function(S){return re(S==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return Na("evenodd")},v.__private__.discardPath=v.discardPath=function(){return re("n"),this};var Ns=v.__private__.isValidStyle=function(S){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(B=!0),B};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(S){return Ns(S)&&(d=S),this};var cl=v.__private__.getStyle=v.getStyle=function(S){var B=d;switch(S){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=S}return B},zi=v.close=function(){return re("h"),this};v.stroke=function(){return re("S"),this},v.fill=function(S){return ss("f",S),this},v.fillEvenOdd=function(S){return ss("f*",S),this},v.fillStroke=function(S){return ss("B",S),this},v.fillStrokeEvenOdd=function(S){return ss("B*",S),this};var ss=function(S,B){er(B)==="object"?Co(B,S):re(S)},ra=function(S){S===null||te===K&&S===void 0||(S=cl(S),re(S))};function hl(S,B,ae,ye,Ae){var ze=new Oh(B||this.boundingBox,ae||this.xStep,ye||this.yStep,this.gState,Ae||this.matrix);ze.stream=this.stream;var We=S+"$$"+this.cloneIndex+++"$$";return Vn(We,ze),ze}var Co=function(S,B){var ae=ln[S.key],ye=ft[ae];if(ye instanceof xc)re("q"),re(Kl(B)),ye.gState&&v.setGState(ye.gState),re(S.matrix.toString()+" cm"),re("/"+ae+" sh"),re("Q");else if(ye instanceof Oh){var Ae=new jt(1,0,0,-1,0,oa());S.matrix&&(Ae=Ae.multiply(S.matrix||jn),ae=hl.call(ye,S.key,S.boundingBox,S.xStep,S.yStep,Ae).id),re("q"),re("/Pattern cs"),re("/"+ae+" scn"),ye.gState&&v.setGState(ye.gState),re(B),re("Q")}},Kl=function(S){switch(S){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ko=v.moveTo=function(S,B){return re(P(k(S))+" "+P(Z(B))+" m"),this},as=v.lineTo=function(S,B){return re(P(k(S))+" "+P(Z(B))+" l"),this},qi=v.curveTo=function(S,B,ae,ye,Ae,ze){return re([P(k(S)),P(Z(B)),P(k(ae)),P(Z(ye)),P(k(Ae)),P(Z(ze)),"c"].join(" ")),this};v.__private__.line=v.line=function(S,B,ae,ye,Ae){if(isNaN(S)||isNaN(B)||isNaN(ae)||isNaN(ye)||!Ns(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return te===Q?this.lines([[ae-S,ye-B]],S,B,[1,1],Ae||"S"):this.lines([[ae-S,ye-B]],S,B,[1,1]).stroke()},v.__private__.lines=v.lines=function(S,B,ae,ye,Ae,ze){var We,ht,bt,Ft,Ct,dn,tr,$n,g,T,O,J;if(typeof S=="number"&&(J=ae,ae=B,B=S,S=J),ye=ye||[1,1],ze=ze||!1,isNaN(B)||isNaN(ae)||!Array.isArray(S)||!Array.isArray(ye)||!Ns(Ae)||typeof ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ko(B,ae),We=ye[0],ht=ye[1],Ft=S.length,T=B,O=ae,bt=0;bt<Ft;bt++)(Ct=S[bt]).length===2?(T=Ct[0]*We+T,O=Ct[1]*ht+O,as(T,O)):(dn=Ct[0]*We+T,tr=Ct[1]*ht+O,$n=Ct[2]*We+T,g=Ct[3]*ht+O,T=Ct[4]*We+T,O=Ct[5]*ht+O,qi(dn,tr,$n,g,T,O));return ze&&zi(),ra(Ae),this},v.path=function(S){for(var B=0;B<S.length;B++){var ae=S[B],ye=ae.c;switch(ae.op){case"m":ko(ye[0],ye[1]);break;case"l":as(ye[0],ye[1]);break;case"c":qi.apply(this,ye);break;case"h":zi()}}return this},v.__private__.rect=v.rect=function(S,B,ae,ye,Ae){if(isNaN(S)||isNaN(B)||isNaN(ae)||isNaN(ye)||!Ns(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return te===Q&&(ye=-ye),re([P(k(S)),P(Z(B)),P(k(ae)),P(k(ye)),"re"].join(" ")),ra(Ae),this},v.__private__.triangle=v.triangle=function(S,B,ae,ye,Ae,ze,We){if(isNaN(S)||isNaN(B)||isNaN(ae)||isNaN(ye)||isNaN(Ae)||isNaN(ze)||!Ns(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-S,ye-B],[Ae-ae,ze-ye],[S-Ae,B-ze]],S,B,[1,1],We,!0),this},v.__private__.roundedRect=v.roundedRect=function(S,B,ae,ye,Ae,ze,We){if(isNaN(S)||isNaN(B)||isNaN(ae)||isNaN(ye)||isNaN(Ae)||isNaN(ze)||!Ns(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ae),ze=Math.min(ze,.5*ye),this.lines([[ae-2*Ae,0],[Ae*ht,0,Ae,ze-ze*ht,Ae,ze],[0,ye-2*ze],[0,ze*ht,-Ae*ht,ze,-Ae,ze],[2*Ae-ae,0],[-Ae*ht,0,-Ae,-ze*ht,-Ae,-ze],[0,2*ze-ye],[0,-ze*ht,Ae*ht,-ze,Ae,-ze]],S+Ae,B,[1,1],We,!0),this},v.__private__.ellipse=v.ellipse=function(S,B,ae,ye,Ae){if(isNaN(S)||isNaN(B)||isNaN(ae)||isNaN(ye)||!Ns(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ze=4/3*(Math.SQRT2-1)*ae,We=4/3*(Math.SQRT2-1)*ye;return ko(S+ae,B),qi(S+ae,B-We,S+ze,B-ye,S,B-ye),qi(S-ze,B-ye,S-ae,B-We,S-ae,B),qi(S-ae,B+We,S-ze,B+ye,S,B+ye),qi(S+ze,B+ye,S+ae,B+We,S+ae,B),ra(Ae),this},v.__private__.circle=v.circle=function(S,B,ae,ye){if(isNaN(S)||isNaN(B)||isNaN(ae)||!Ns(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,B,ae,ae,ye)},v.setFont=function(S,B,ae){return ae&&(B=V(B,ae)),Ke=Qa(S,B,{disableWarning:!1}),this};var fl=v.__private__.getFont=v.getFont=function(){return Mt[Qa.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var S,B,ae={};for(S in Rt)if(Rt.hasOwnProperty(S))for(B in ae[S]=[],Rt[S])Rt[S].hasOwnProperty(B)&&ae[S].push(B);return ae},v.addFont=function(S,B,ae,ye,Ae){var ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ze.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&ze.indexOf(arguments[3])==-1&&(ae=V(ae,ye)),Sa.call(this,S,B,ae,Ae=Ae||"Identity-H")};var os,qr=n.lineWidth||.200025,Wl=v.__private__.getLineWidth=v.getLineWidth=function(){return qr},Ut=v.__private__.setLineWidth=v.setLineWidth=function(S){return qr=S,re(P(k(S))+" w"),this};v.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(S,B){if(S=S||[],B=B||0,isNaN(B)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ae){return P(k(ae))}).join(" "),B=P(k(B)),re("["+S+"] "+B+" d"),this};var Ja=v.__private__.getLineHeight=v.getLineHeight=function(){return qe*os};v.__private__.getLineHeight=v.getLineHeight=function(){return qe*os};var Ia=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(os=S),this},gi=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return os};Ia(n.lineHeight);var yi=v.__private__.getHorizontalCoordinate=function(S){return k(S)},Ci=v.__private__.getVerticalCoordinate=function(S){return te===K?S:Dt[I].mediaBox.topRightY-Dt[I].mediaBox.bottomLeftY-k(S)},ls=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(S){return P(yi(S))},qn=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(S){return P(Ci(S))},ia=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return Vr(ia)},v.__private__.setStrokeColor=v.setDrawColor=function(S,B,ae,ye){return ia=Or({ch1:S,ch2:B,ch3:ae,ch4:ye,pdfColorType:"draw",precision:2}),re(ia),this};var Ro=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return Vr(Ro)},v.__private__.setFillColor=v.setFillColor=function(S,B,ae,ye){return Ro=Or({ch1:S,ch2:B,ch3:ae,ch4:ye,pdfColorType:"fill",precision:2}),re(Ro),this};var Is=n.textColor||"0 g",Za=v.__private__.getTextColor=v.getTextColor=function(){return Vr(Is)};v.__private__.setTextColor=v.setTextColor=function(S,B,ae,ye){return Is=Or({ch1:S,ch2:B,ch3:ae,ch4:ye,pdfColorType:"text",precision:3}),this};var Cs=n.charSpace,xr=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Cs||0)};v.__private__.setCharSpace=v.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cs=S,this};var Mr=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(S){var B=v.CapJoinStyles[S];if(B===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mr=B,re(B+" J"),this};var sa=0;v.__private__.setLineJoin=v.setLineJoin=function(S){var B=v.CapJoinStyles[S];if(B===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sa=B,re(B+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(P(k(S))+" M"),this},v.GState=ng,v.setGState=function(S){(S=typeof S=="string"?Pt[Bt[S]]:Ca(null,S)).equals(Mn)||(re("/"+S.id+" gs"),Mn=S)};var Ca=function(S,B){if(!S||!Bt[S]){var ae=!1;for(var ye in Pt)if(Pt.hasOwnProperty(ye)&&Pt[ye].equals(B)){ae=!0;break}if(ae)B=Pt[ye];else{var Ae="GS"+(Object.keys(Pt).length+1).toString(10);Pt[Ae]=B,B.id=Ae}return S&&(Bt[S]=B.id),fn.publish("addGState",B),B}};v.addGState=function(S,B){return Ca(S,B),this},v.saveGraphicsState=function(){return re("q"),zt.push({key:Ke,size:qe,color:Is}),this},v.restoreGraphicsState=function(){re("Q");var S=zt.pop();return Ke=S.key,qe=S.size,Is=S.color,Mn=null,this},v.setCurrentTransformationMatrix=function(S){return re(S.toString()+" cm"),this},v.comment=function(S){return re("#"+S),this};var Hi=function(S,B){var ae=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(ze){isNaN(ze)||(ae=parseFloat(ze))}});var ye=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(ze){isNaN(ze)||(ye=parseFloat(ze))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(ze){Ae=ze.toString()}}),this},ka=function(S,B,ae,ye){Hi.call(this,S,B),this.type="rect";var Ae=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(We){isNaN(We)||(Ae=parseFloat(We))}});var ze=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ze},set:function(We){isNaN(We)||(ze=parseFloat(We))}}),this},Hs=function(){this.page=Et,this.currentPage=I,this.pages=Qe.slice(0),this.pagesContext=Dt.slice(0),this.x=ut,this.y=Cn,this.matrix=Ot,this.width=aa(I),this.height=dl(I),this.outputDestination=it,this.id="",this.objectNumber=-1};Hs.prototype.restore=function(){Et=this.page,I=this.currentPage,Dt=this.pagesContext,Qe=this.pages,ut=this.x,Cn=this.y,Ot=this.matrix,Xl(I,this.width),Gi(I,this.height),it=this.outputDestination};var us=function(S,B,ae,ye,Ae){ni.push(new Hs),Et=I=0,Qe=[],ut=S,Cn=B,Ot=Ae,Ni([ae,ye])};for(var ks in v.beginFormObject=function(S,B,ae,ye,Ae){return us(S,B,ae,ye,Ae),this},v.endFormObject=function(S){return(function(B){if(Ss[B])ni.pop().restore();else{var ae=new Hs,ye="Xo"+(Object.keys(Pr).length+1).toString(10);ae.id=ye,Ss[B]=ye,Pr[ye]=ae,fn.publish("addFormObject",ae),ni.pop().restore()}})(S),this},v.doFormObject=function(S,B){var ae=Pr[Ss[S]];return re("q"),re(B.toString()+" cm"),re("/"+ae.id+" Do"),re("Q"),this},v.getFormObject=function(S){var B=Pr[Ss[S]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},v.save=function(S,B){return S=S||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(Ec(In(mi()),S),typeof Ec.unload=="function"&&en.setTimeout&&setTimeout(Ec.unload,911),this):new Promise(function(ae,ye){try{var Ae=Ec(In(mi()),S);typeof Ec.unload=="function"&&en.setTimeout&&setTimeout(Ec.unload,911),ae(Ae)}catch(ze){ye(ze.message)}})},kt.API)kt.API.hasOwnProperty(ks)&&(ks==="events"&&kt.API.events.length?(function(S,B){var ae,ye,Ae;for(Ae=B.length-1;Ae!==-1;Ae--)ae=B[Ae][0],ye=B[Ae][1],S.subscribe.apply(S,[ae].concat(typeof ye=="function"?[ye]:ye))})(fn,kt.API.events):v[ks]=kt.API[ks]);function aa(S){return Dt[S].mediaBox.topRightX-Dt[S].mediaBox.bottomLeftX}function Xl(S,B){Dt[S].mediaBox.topRightX=B+Dt[S].mediaBox.bottomLeftX}function dl(S){return Dt[S].mediaBox.topRightY-Dt[S].mediaBox.bottomLeftY}function Gi(S,B){Dt[S].mediaBox.topRightY=B+Dt[S].mediaBox.bottomLeftY}var cs=v.getPageWidth=function(S){return aa(S=S||I)/lt},pl=v.setPageWidth=function(S,B){Xl(S,B*lt)},oa=v.getPageHeight=function(S){return dl(S=S||I)/lt},Lo=v.setPageHeight=function(S,B){Gi(S,B*lt)};return v.internal={pdfEscape:si,getStyle:cl,getFont:fl,getFontSize:ot,getCharSpace:xr,getTextColor:Za,getLineHeight:Ja,getLineHeightFactor:gi,getLineWidth:Wl,write:rt,getHorizontalCoordinate:yi,getVerticalCoordinate:Ci,getCoordinateString:ls,getVerticalCoordinateString:qn,collections:{},newObject:zn,newAdditionalObject:pi,newObjectDeferred:cr,newObjectDeferredBegin:Br,getFilters:ii,putStream:zr,events:fn,scaleFactor:lt,pageSize:{getWidth:function(){return cs(I)},setWidth:function(S){pl(I,S)},getHeight:function(){return oa(I)},setHeight:function(S){Lo(I,S)}},encryptionOptions:p,encryption:mn,getEncryptor:function(S){return p!==null?mn.encryptor(S,0):function(B){return B}},output:qs,getNumberOfPages:Xa,get pages(){return Qe},out:re,f2:N,f3:x,getPageInfo:Ts,getPageInfoByObjId:Io,getCurrentPageInfo:ul,getPDFVersion:U,Point:Hi,Rectangle:ka,Matrix:jt,hasHotfix:ai},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return cs(I)},set:function(S){pl(I,S)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return oa(I)},set:function(S){Lo(I,S)},enumerable:!0,configurable:!0}),(function(S){for(var B=0,ae=Nt.length;B<ae;B++){var ye=Sa.call(this,S[B][0],S[B][1],S[B][2],Nt[B][3],!0);_===!1&&(A[ye]=!0);var Ae=S[B][0].split("-");$l({id:ye,fontName:Ae[0],fontStyle:Ae[1]||""})}fn.publish("addFonts",{fonts:Mt,dictionary:Rt})}).call(v,Nt),Ke="F1",Ea(s,t),fn.publish("initialized"),v}Ph.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Ph.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ph.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Ph.prototype.processOwnerPassword=function(n,e){return j2(M2(e).substr(0,5),n)},Ph.prototype.encryptor=function(n,e){var t=M2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return j2(t,r)}},ng.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||er(n)!==er(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},kt.API={events:[]},kt.version="3.0.4";var Fr=kt.API,i5=1,Yc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(n){return n.toFixed(2)},Lu=function(n){return n.toFixed(5)};Fr.__acroform__={};var na=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},NA=function(n){return n*i5},Yo=function(n){var e=new lx,t=wt.internal.getHeight(n)||0,r=wt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(an(r)),Number(an(t))],e},Wj=Fr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Xj=Fr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Qj=Fr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Zr=Fr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Qj(n,e-1)},ei=Fr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Wj(n,e-1)},ti=Fr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Xj(n,e-1)},Jj=Fr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(s+u)||0,f.upperRight_Y=r(o)||0,[Number(an(f.lowerLeft_X)),Number(an(f.lowerLeft_Y)),Number(an(f.upperRight_X)),Number(an(f.upperRight_Y))]},Zj=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=U2(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+an(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Yo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},U2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(N){return N.split(`
`)}):s.map(function(N){return[N]});var o=t,u=wt.internal.getHeight(n)||0;u=u<0?-u:u;var c=wt.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(N,x,k){if(N+1<s.length){var Z=x+" "+s[N+1][0];return hm(Z,n,k).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,p,_=hm("3",n,o).height,A=n.multiline?u-o:(u-_)/2,v=A+=2,M=0,U=0,z=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+hm(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var L="",Q=0,K=0;K<s.length;K++)if(s.hasOwnProperty(K)){var te=!1;if(s[K].length!==1&&z!==s[K].length-1){if((_+2)*(Q+2)+2>u)continue e;L+=s[K][z],te=!0,U=K,K--}else{L=(L+=s[K][z]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var me=parseInt(K),ue=f(me,L,o),V=K>=s.length-1;if(ue&&!V){L+=" ",z=0;continue}if(ue||V){if(V)U=me;else if(n.multiline&&(_+2)*(Q+2)+2>u)continue e}else{if(!n.multiline||(_+2)*(Q+2)+2>u)continue e;U=me}}for(var P="",R=M;R<=U;R++){var H=s[R];if(n.multiline){if(R===U){P+=H[z]+" ",z=(z+1)%H.length;continue}if(R===M){P+=H[H.length-1]+" ";continue}}P+=H[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,p=hm(P,n,o).width,n.textAlign){case"right":d=c-p-2;break;case"center":d=(c-p)/2;break;default:d=2}e+=an(d)+" "+an(v)+` Td
`,e+="("+Yc(P)+`) Tj
`,e+=-an(d)+` 0 Td
`,v=-(o+2),p=0,M=te?U:U+1,Q++,L=""}break}return r.text=e,r.fontSize=o,r},hm=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},eU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tU=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},nU=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(To.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(eU)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");i5=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new ux,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&tU(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=Jj(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=wt.createDefaultAppearanceStream(c),er(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=Zj(c);f.push({key:"AP",value:"<</N "+p+">>"}),s.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var _="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var v=c.appearanceStreamContent[A];if(_+="/"+A+" ",_+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var u in v)if(v.hasOwnProperty(u)){var M=v[u];typeof M=="function"&&(M=M.call(s,c)),_+="/"+u+" "+M+" ",s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M)}}else typeof(M=v)=="function"&&(M=M.call(s,c)),_+="/"+u+" "+M,s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M);_+=">>"}f.push({key:"AP",value:`<<
`+_+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(U,z){for(var L in U)if(U.hasOwnProperty(L)){var Q=L,K=U[L];z.internal.newObjectDeferredBegin(K.objId,!0),er(K)==="object"&&typeof K.putStream=="function"&&K.putStream(),delete U[Q]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},ox=Fr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),er(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+Yc(r(n[o].toString()))+")"):s+=n[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+Yc(r(n))+")"},Xo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Xo.prototype.toString=function(){return this.objId+" 0 R"},Xo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Xo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:ox(s,this.objId,this.scope)}):s instanceof Xo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var lx=function(){Xo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};na(lx,Xo);var ux=function(){Xo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Yc(t(n))+")"}},set:function(t){n=t}})};na(ux,Xo);var To=function n(){Xo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Zr(e,3)},set:function(L){L?this.F=ei(e,3):this.F=ti(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');t=L}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(L){r=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(L){r[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(L){r[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(L){r[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(L){r[3]=L}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof rg)return;o="FieldObject"+n.FieldNum++}var L=function(Q){return Q};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+Yc(L(o))+")"},set:function(L){o=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(L){o=L}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(L){f=L}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/i5:d},set:function(L){d=L}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(L){p=L}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof rg||this instanceof kc))return B0(_,this.objId,this.scope)},set:function(L){L=L.toString(),_=L}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof Ui==0?B0(A,this.objId,this.scope):A},set:function(L){L=L.toString(),A=this instanceof Ui==0?L.substr(0,1)==="("?Nh(L.substr(1,L.length-2)):Nh(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?Nh(A.substr(1,A.length-1)):A},set:function(L){L=L.toString(),A=this instanceof Ui==1?"/"+L:L}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Ui==0?B0(v,this.objId,this.scope):v},set:function(L){L=L.toString(),v=this instanceof Ui==0?L.substr(0,1)==="("?Nh(L.substr(1,L.length-2)):Nh(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ui==1?Nh(v.substr(1,v.length-1)):v},set:function(L){L=L.toString(),v=this instanceof Ui==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,U=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return U},set:function(L){L=!!L,U=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(L){M=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,1)},set:function(L){L?this.Ff=ei(this.Ff,1):this.Ff=ti(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,2)},set:function(L){L?this.Ff=ei(this.Ff,2):this.Ff=ti(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,3)},set:function(L){L?this.Ff=ei(this.Ff,3):this.Ff=ti(this.Ff,3)}});var z=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(z!==null)return z},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');z=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(z){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:z=2;break;case"center":case 1:z=1;break;default:z=0}}})};na(To,Xo);var Hh=function(){To.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ox(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,18)},set:function(t){t?this.Ff=ei(this.Ff,18):this.Ff=ti(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ei(this.Ff,19):this.Ff=ti(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,20)},set:function(t){t?(this.Ff=ei(this.Ff,20),e.sort()):this.Ff=ti(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,22)},set:function(t){t?this.Ff=ei(this.Ff,22):this.Ff=ti(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(t){t?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,27)},set:function(t){t?this.Ff=ei(this.Ff,27):this.Ff=ti(this.Ff,27)}}),this.hasAppearanceStream=!1};na(Hh,To);var Gh=function(){Hh.call(this),this.fontName="helvetica",this.combo=!1};na(Gh,Hh);var Yh=function(){Gh.call(this),this.combo=!0};na(Yh,Gh);var Nm=function(){Yh.call(this),this.edit=!0};na(Nm,Yh);var Ui=function(){To.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,15)},set:function(t){t?this.Ff=ei(this.Ff,15):this.Ff=ti(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,16)},set:function(t){t?this.Ff=ei(this.Ff,16):this.Ff=ti(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,17)},set:function(t){t?this.Ff=ei(this.Ff,17):this.Ff=ti(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(t){t?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+Yc(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){er(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};na(Ui,To);var Im=function(){Ui.call(this),this.pushButton=!0};na(Im,Ui);var $h=function(){Ui.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};na($h,Ui);var rg=function(){var n,e;To.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+Yc(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){er(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};na(rg,To),$h.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},$h.prototype.createOption=function(n){var e=new rg;return e.Parent=this,e.optionName=n,this.Kids.push(e),rU.call(this.scope,e),e};var Cm=function(){Ui.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};na(Cm,Ui);var kc=function(){To.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,13)},set:function(e){e?this.Ff=ei(this.Ff,13):this.Ff=ti(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,21)},set:function(e){e?this.Ff=ei(this.Ff,21):this.Ff=ti(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,23)},set:function(e){e?this.Ff=ei(this.Ff,23):this.Ff=ti(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,24)},set:function(e){e?this.Ff=ei(this.Ff,24):this.Ff=ti(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,25)},set:function(e){e?this.Ff=ei(this.Ff,25):this.Ff=ti(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,26)},set:function(e){e?this.Ff=ei(this.Ff,26):this.Ff=ti(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};na(kc,To);var km=function(){kc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Zr(this.Ff,14)},set:function(n){n?this.Ff=ei(this.Ff,14):this.Ff=ti(this.Ff,14)}}),this.password=!0};na(km,kc);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=U2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+an(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=wt.internal.getHeight(n),u=wt.internal.getWidth(n),c=U2(n,n.caption);return s.push("1 g"),s.push("0 0 "+an(u)+" "+an(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+an(u-1)+" "+an(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+an(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=wt.RadioButton.Circle.YesNormal,e.D[n]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=wt.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Lu(wt.internal.getWidth(n)/2)+" "+Lu(wt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*wt.internal.Bezier_C).toFixed(5)),u=Number((r*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Lu(wt.internal.getWidth(n)/2)+" "+Lu(wt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Lu(wt.internal.getWidth(n)/2)+" "+Lu(wt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Lu(wt.internal.getWidth(n)/2)+" "+Lu(wt.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=wt.RadioButton.Cross.YesNormal,e.D[n]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Yo(n);e.scope=n.scope;var t=[],r=wt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+an(wt.internal.getWidth(n)-2)+" "+an(wt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(an(r.x1.x)+" "+an(r.x1.y)+" m"),t.push(an(r.x2.x)+" "+an(r.x2.y)+" l"),t.push(an(r.x4.x)+" "+an(r.x4.y)+" m"),t.push(an(r.x3.x)+" "+an(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=wt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+an(wt.internal.getWidth(n)-2)+" "+an(wt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),r.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),r.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),r.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Yo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(wt.internal.getWidth(n))+" "+an(wt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};wt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=wt.internal.getWidth(n),t=wt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},wt.internal.getWidth=function(n){var e=0;return er(n)==="object"&&(e=NA(n.Rect[2])),e},wt.internal.getHeight=function(n){var e=0;return er(n)==="object"&&(e=NA(n.Rect[3])),e};var rU=Fr.addField=function(n){if(nU(this,n),!(n instanceof To))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Fr.AcroFormChoiceField=Hh,Fr.AcroFormListBox=Gh,Fr.AcroFormComboBox=Yh,Fr.AcroFormEditBox=Nm,Fr.AcroFormButton=Ui,Fr.AcroFormPushButton=Im,Fr.AcroFormRadioButton=$h,Fr.AcroFormCheckBox=Cm,Fr.AcroFormTextField=kc,Fr.AcroFormPasswordField=km,Fr.AcroFormAppearance=wt,Fr.AcroForm={ChoiceField:Hh,ListBox:Gh,ComboBox:Yh,EditBox:Nm,Button:Ui,PushButton:Im,RadioButton:$h,CheckBox:Cm,TextField:kc,PasswordField:km,Appearance:wt},kt.AcroForm={ChoiceField:Hh,ListBox:Gh,ComboBox:Yh,EditBox:Nm,Button:Ui,PushButton:Im,RadioButton:$h,CheckBox:Cm,TextField:kc,PasswordField:km,Appearance:wt};kt.AcroForm;function cx(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(N,x){var k,Z,fe,se,ce,pe=t;if((x=x||t)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(ue(N))for(ce in r)for(fe=r[ce],k=0;k<fe.length;k+=1){for(se=!0,Z=0;Z<fe[k].length;Z+=1)if(fe[k][Z]!==void 0&&fe[k][Z]!==N[Z]){se=!1;break}if(se===!0){pe=ce;break}}else for(ce in r)for(fe=r[ce],k=0;k<fe.length;k+=1){for(se=!0,Z=0;Z<fe[k].length;Z+=1)if(fe[k][Z]!==void 0&&fe[k][Z]!==N.charCodeAt(Z)){se=!1;break}if(se===!0){pe=ce;break}}return pe===t&&x!==t&&(pe=x),pe},o=function N(x){for(var k=this.internal.write,Z=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);x.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:x.width}),se.push({key:"Height",value:x.height}),x.colorSpace===L.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(x.palette.length/3-1)+" "+("sMask"in x&&x.sMask!==void 0?x.objectId+2:x.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+x.colorSpace}),x.colorSpace===L.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:x.bitsPerComponent}),"decodeParameters"in x&&x.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+x.decodeParameters+">>"}),"transparency"in x&&Array.isArray(x.transparency)&&x.transparency.length>0){for(var ce="",pe=0,Ie=x.transparency.length;pe<Ie;pe++)ce+=x.transparency[pe]+" "+x.transparency[pe]+" ";se.push({key:"Mask",value:"["+ce+"]"})}x.sMask!==void 0&&se.push({key:"SMask",value:x.objectId+1+" 0 R"});var D=x.filter!==void 0?["/"+x.filter]:void 0;if(Z({data:x.data,additionalKeyValues:se,alreadyAppliedFilters:D,objectId:x.objectId}),k("endobj"),"sMask"in x&&x.sMask!==void 0){var ge,F=(ge=x.sMaskBitsPerComponent)!==null&&ge!==void 0?ge:x.bitsPerComponent,I={width:x.width,height:x.height,colorSpace:"DeviceGray",bitsPerComponent:F,data:x.sMask};"filter"in x&&(I.decodeParameters="/Predictor ".concat(x.predictor," /Colors 1 /BitsPerComponent ").concat(F," /Columns ").concat(x.width),I.filter=x.filter),N.call(this,I)}if(x.colorSpace===L.INDEXED){var ne=this.internal.newObject();Z({data:P(new Uint8Array(x.palette)),objectId:ne}),k("endobj")}},u=function(){var N=this.internal.collections[e+"images"];for(var x in N)o.call(this,N[x])},c=function(){var N,x=this.internal.collections[e+"images"],k=this.internal.write;for(var Z in x)k("/I"+(N=x[Z]).index,N.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var N=this.internal.collections[e+"images"];return f.call(this),N},p=function(){return Object.keys(this.internal.collections[e+"images"]).length},_=function(N){return typeof n["process"+N.toUpperCase()]=="function"},A=function(N){return er(N)==="object"&&N.nodeType===1},v=function(N,x){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var k=""+N.getAttribute("src");if(k.indexOf("data:image/")===0)return Tm(unescape(k).split("base64,").pop());var Z=n.loadFile(k,!0);if(Z!==void 0)return Z}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var fe;switch(x){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return Tm(N.toDataURL(fe,1).split("base64,").pop())}},M=function(N){var x=this.internal.collections[e+"images"];if(x){for(var k in x)if(N===x[k].alias)return x[k]}},U=function(N,x,k){return N||x||(N=-96,x=-96),N<0&&(N=-1*k.width*72/N/this.internal.scaleFactor),x<0&&(x=-1*k.height*72/x/this.internal.scaleFactor),N===0&&(N=x*k.width/k.height),x===0&&(x=N*k.height/k.width),[N,x]},z=function(N,x,k,Z,fe,se){var ce=U.call(this,k,Z,fe),pe=this.internal.getCoordinateString,Ie=this.internal.getVerticalCoordinateString,D=d.call(this);if(k=ce[0],Z=ce[1],D[fe.index]=fe,se){se*=Math.PI/180;var ge=Math.cos(se),F=Math.sin(se),I=function(he){return he.toFixed(4)},ne=[I(ge),I(F),I(-1*F),I(ge),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,pe(N),Ie(x+Z),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([pe(k),"0","0",pe(Z),"0","0","cm"].join(" "))):this.internal.write([pe(k),"0","0",pe(Z),pe(N),Ie(x+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},L=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Q=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},K=n.__addimage__.sHashCode=function(N){var x,k,Z=0;if(typeof N=="string")for(k=N.length,x=0;x<k;x++)Z=(Z<<5)-Z+N.charCodeAt(x),Z|=0;else if(ue(N))for(k=N.byteLength/2,x=0;x<k;x++)Z=(Z<<5)-Z+N[x],Z|=0;return Z},te=n.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var x=!0;return N.length===0&&(x=!1),N.length%4!=0&&(x=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(x=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(x=!1),x},me=n.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var x=N.indexOf(",");return x<0?null:N.substring(0,x).trim().endsWith("base64")?N.substring(x+1):null};n.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var ue=n.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},V=n.__addimage__.binaryStringToUint8Array=function(N){for(var x=N.length,k=new Uint8Array(x),Z=0;Z<x;Z++)k[Z]=N.charCodeAt(Z);return k},P=n.__addimage__.arrayBufferToBinaryString=function(N){for(var x="",k=ue(N)?N:new Uint8Array(N),Z=0;Z<k.length;Z+=8192)x+=String.fromCharCode.apply(null,k.subarray(Z,Z+8192));return x};n.addImage=function(){var N,x,k,Z,fe,se,ce,pe,Ie;if(typeof arguments[1]=="number"?(x=t,k=arguments[1],Z=arguments[2],fe=arguments[3],se=arguments[4],ce=arguments[5],pe=arguments[6],Ie=arguments[7]):(x=arguments[1],k=arguments[2],Z=arguments[3],fe=arguments[4],se=arguments[5],ce=arguments[6],pe=arguments[7],Ie=arguments[8]),er(N=arguments[0])==="object"&&!A(N)&&"imageData"in N){var D=N;N=D.imageData,x=D.format||x||t,k=D.x||k||0,Z=D.y||Z||0,fe=D.w||D.width||fe,se=D.h||D.height||se,ce=D.alias||ce,pe=D.compression||pe,Ie=D.rotation||D.angle||Ie}var ge=this.internal.getFilters();if(pe===void 0&&ge.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(k)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var F=R.call(this,N,x,ce,pe);return z.call(this,k,Z,fe,se,F,Ie),this};var R=function(N,x,k,Z){var fe,se,ce;if(typeof N=="string"&&s(N)===t){N=unescape(N);var pe=H(N,!1);(pe!==""||(pe=n.loadFile(N,!0))!==void 0)&&(N=pe)}if(A(N)&&(N=v(N,x)),x=s(N,x),!_(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(((ce=k)==null||ce.length===0)&&(k=(function(Ie){return typeof Ie=="string"||ue(Ie)?K(Ie):ue(Ie.data)?K(Ie.data):null})(N)),(fe=M.call(this,k))||(N instanceof Uint8Array||x==="RGBA"||(se=N,N=V(N)),fe=this["process"+x.toUpperCase()](N,p.call(this),k,(function(Ie){return Ie&&typeof Ie=="string"&&(Ie=Ie.toUpperCase()),Ie in n.image_compression?Ie:Q.NONE})(Z),se)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},H=n.__addimage__.convertBase64ToBinaryString=function(N,x){x=typeof x!="boolean"||x;var k,Z="";if(typeof N=="string"){var fe;k=(fe=me(N))!==null&&fe!==void 0?fe:N;try{Z=Tm(k)}catch(se){if(x)throw te(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Z};n.getImageProperties=function(N){var x,k,Z="";if(A(N)&&(N=v(N)),typeof N=="string"&&s(N)===t&&((Z=H(N,!1))===""&&(Z=n.loadFile(N)||""),N=Z),k=s(N),!_(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(N instanceof Uint8Array||(N=V(N)),!(x=this["process"+k.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return x.fileType=k,x}})(kt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};kt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,p=!1,_=0;_<d.length&&!p;_++)switch((r=d[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){r=d[A];var v=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var U=this.internal.newAdditionalObject(),z=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(U.objId),Q=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+v(L(r.contents))+")",o+=" /Popup "+z.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+v(L(Q))+") >>",U.content=o;var K=U.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+K,r.open&&(o+=" /Open true"),o+=" >>",z.content=o,this.internal.write(U.objId,"0 R",z.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var te=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+v(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+te+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var me=this.annotations._nameMap[r.options.name];r.options.pageNumber=me.page,r.options.top=me.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+v(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var ue=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+ue+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,s,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var p=this.splitTextToSize(t,c).length;u=Math.ceil(d*p)}else c=f,u=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(kt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(U){return e[U.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(U){return typeof U=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(U)},c=n.__arabicParser__.isArabicEndLetter=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(U){return u(U)&&s.indexOf(U.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length>=3};var p=n.__arabicParser__.arabicLetterHasMedialForm=function(U){return u(U)&&o(U)&&e[U.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(U){var z=0,L=t,Q="",K=0;for(z=0;z<U.length;z+=1)L[U.charCodeAt(z)]!==void 0?(K++,typeof(L=L[U.charCodeAt(z)])=="number"&&(Q+=String.fromCharCode(L),L=t,K=0),z===U.length-1&&(L=t,Q+=U.charAt(z-(K-1)),z-=K-1,K=0)):(L=t,Q+=U.charAt(z-K),z-=K,K=0);return Q};n.__arabicParser__.isArabicDiacritic=function(U){return U!==void 0&&r[U.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(U,z,L){return u(U)?o(U)===!1?-1:!d(U)||!u(z)&&!u(L)||!u(L)&&c(z)||c(U)&&!u(z)||c(U)&&f(z)||c(U)&&c(z)?0:p(U)&&u(z)&&!c(z)&&u(L)&&d(L)?3:c(U)||!u(L)?1:2:-1},v=function(U){var z=0,L=0,Q=0,K="",te="",me="",ue=(U=U||"").split("\\s+"),V=[];for(z=0;z<ue.length;z+=1){for(V.push(""),L=0;L<ue[z].length;L+=1)K=ue[z][L],te=ue[z][L-1],me=ue[z][L+1],u(K)?(Q=A(K,te,me),V[z]+=Q!==-1?String.fromCharCode(e[K.charCodeAt(0)][Q]):K):V[z]+=K;V[z]=_(V[z])}return V.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var U,z=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(z)){var Q=0;for(L=[],Q=0;Q<z.length;Q+=1)Array.isArray(z[Q])?L.push([v(z[Q][0]),z[Q][1],z[Q][2]]):L.push([v(z[Q])]);U=L}else U=v(z);return typeof arguments[0]=="string"?U:(arguments[0].text=U,arguments[0])};n.events.push(["preProcessText",M])})(kt.API),kt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(kt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(U){f=U}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(U){d=U}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(U){p=U}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(U){_=U}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(U){A=U}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(U){v=U}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(U){M=U}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),_=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,v=0,M=0,U=0,z=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var L=d.maxWidth;L>0?typeof f=="string"?f=this.splitTextToSize(f,L):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(K,te){return K.concat(z.splitTextToSize(te,L))},[])):f=Array.isArray(f)?f:[f];for(var Q=0;Q<f.length;Q++)v<(U=this.getStringUnitWidth(f[Q],{font:_})*p)&&(v=U);return v!==0&&(M=f.length),{w:v/=A,h:Math.max((M*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=_.top,v&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-p,f.y+p,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+p,{align:"center",baseline:"top",maxWidth:f.width-p-p}):this.text(f.text,f.x+p,f.y+p,{align:"left",baseline:"top",maxWidth:f.width-p-p})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,p,_,A){if(r.call(this),!p)throw new Error("No data for PDF table.");var v,M,U,z,L=[],Q=[],K=[],te={},me={},ue=[],V=[],P=(A=A||{}).autoSize||!1,R=A.printHeaders!==!1,H=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,N=A.margins||Object.assign({width:this.getPageWidth()},e),x=typeof A.padding=="number"?A.padding:3,k=A.headerBackgroundColor||"#c8c8c8",Z=A.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=x,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=Z,this.setFontSize(H),_==null)Q=L=Object.keys(p[0]),K=L.map(function(){return"left"});else if(Array.isArray(_)&&er(_[0])==="object")for(L=_.map(function(D){return D.name}),Q=_.map(function(D){return D.prompt||D.name||""}),K=_.map(function(D){return D.align||"left"}),v=0;v<_.length;v+=1)me[_[v].name]=.7499990551181103*_[v].width;else Array.isArray(_)&&typeof _[0]=="string"&&(Q=L=_,K=L.map(function(){return"left"}));if(P||Array.isArray(_)&&typeof _[0]=="string")for(v=0;v<L.length;v+=1){for(te[z=L[v]]=p.map(function(D){return D[z]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(Q[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=te[z],this.setFont(void 0,"normal"),U=0;U<M.length;U+=1)ue.push(this.getTextDimensions(M[U],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);me[z]=Math.max.apply(null,ue)+x+x,ue=[]}if(R){var fe={};for(v=0;v<L.length;v+=1)fe[L[v]]={},fe[L[v]].text=Q[v],fe[L[v]].align=K[v];var se=c.call(this,fe,me);V=L.map(function(D){return new o(f,d,me[D],se,fe[D].text,void 0,fe[D].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ce=_.reduce(function(D,ge){return D[ge.name]=ge.align,D},{});for(v=0;v<p.length;v+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:v,data:p[v]},this);var pe=c.call(this,p[v],me);for(U=0;U<L.length;U+=1){var Ie=p[v][L[U]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:v,col:U,data:Ie},this),u.call(this,new o(f,d,me[L[U]],pe,Ie,v+2,ce[L[U]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var p=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(v){var M=f[v];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[v]-p-p)},this).map(function(v){return this.getLineHeightFactor()*v.length*_/A+p+p},this).reduce(function(v,M){return Math.max(v,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){p=this.internal.__cell__.tableHeaderRow[v].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,A.push(p)),p.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,p),this.setTextColor(M)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(kt.API);var hx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],F2=cx(fx),dx=[100,200,300,400,500,600,700,800,900],iU=cx(dx);function V0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return hx[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof F2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function IA(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var sU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},CA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kA(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function RA(n){return n.trimLeft()}function aU(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function oU(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var fm,LA,PA,Ih,dm,DA,OA,MA,z0=["times"];function jA(n,e,t,r,s){var o=4,u=FA;switch(s){case kt.API.image_compression.FAST:o=1,u=UA;break;case kt.API.image_compression.MEDIUM:o=6,u=BA;break;case kt.API.image_compression.SLOW:o=9,u=VA}n=(function(f,d,p,_){for(var A,v=f.length/d,M=new Uint8Array(f.length+v),U=[lU,UA,FA,BA,VA],z=0;z<v;z+=1){var L=z*d,Q=f.subarray(L,L+d);if(_)M.set(_(Q,p,A),L+z);else{for(var K=U.length,te=[],me=0;me<K;me+=1)te[me]=U[me](Q,p,A);var ue=cU(te.concat());M.set(te[ue],L+z)}A=Q}return M})(n,e,Math.ceil(t*r/8),u);var c=L2(n,{level:o});return kt.API.__addimage__.arrayBufferToBinaryString(c)}function lU(n){var e=Array.apply([],n);return e.unshift(0),e}function UA(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function FA(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function BA(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function VA(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=uU(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function uU(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function cU(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function q0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),u=(1<<t)-1;return px(n,s)>>o&u}function zA(n,e,t,r){var s=t*r,o=Math.floor(s/8),u=16-(s-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,p,_){if(p+1<d.byteLength)d.setUint16(p,_,!1);else{var A=_>>8&255;d.setUint8(p,A)}})(n,o,px(n,o)&~(c<<u)&65535|f)}function px(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function hU(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,p=[],_=0,A=null,v=0,M=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var U=n[e++];_=n[e++]|n[e++]<<8,A=n[e++],1&U||(A=null),v=U>>2&7,e++;break;case 254:for(;;){if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var z=n[e++]|n[e++]<<8,L=n[e++]|n[e++]<<8,Q=n[e++]|n[e++]<<8,K=n[e++]|n[e++]<<8,te=n[e++],me=te>>6&1,ue=1<<1+(7&te),V=c,P=f,R=!1;te>>7&&(R=!0,V=e,P=ue,e+=3*ue);var H=e;for(e++;;){var N;if(!((N=n[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}p.push({x:z,y:L,width:Q,height:K,has_local_palette:R,palette_offset:V,palette_size:P,data_offset:H,data_length:e-H,transparent_index:A,interlaced:!!me,delay:_,disposal:v});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return M},this.frameInfo=function(x){if(x<0||x>=p.length)throw new Error("Frame index out of range.");return p[x]},this.decodeAndBlitFrameBGRA=function(x,k){var Z=this.frameInfo(x),fe=Z.width*Z.height,se=new Uint8Array(fe);qA(n,Z.data_offset,se,fe);var ce=Z.palette_offset,pe=Z.transparent_index;pe===null&&(pe=256);var Ie=Z.width,D=t-Ie,ge=Ie,F=4*(Z.y*t+Z.x),I=4*((Z.y+Z.height)*t+Z.x),ne=F,he=4*D;Z.interlaced===!0&&(he+=4*t*7);for(var le=8,_e=0,Se=se.length;_e<Se;++_e){var Re=se[_e];if(ge===0&&(ge=Ie,(ne+=he)>=I&&(he=4*D+4*t*(le-1),ne=F+(Ie+D)*(le<<1),le>>=1)),Re===pe)ne+=4;else{var Ue=n[ce+3*Re],Qe=n[ce+3*Re+1],at=n[ce+3*Re+2];k[ne++]=at,k[ne++]=Qe,k[ne++]=Ue,k[ne++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(x,k){var Z=this.frameInfo(x),fe=Z.width*Z.height,se=new Uint8Array(fe);qA(n,Z.data_offset,se,fe);var ce=Z.palette_offset,pe=Z.transparent_index;pe===null&&(pe=256);var Ie=Z.width,D=t-Ie,ge=Ie,F=4*(Z.y*t+Z.x),I=4*((Z.y+Z.height)*t+Z.x),ne=F,he=4*D;Z.interlaced===!0&&(he+=4*t*7);for(var le=8,_e=0,Se=se.length;_e<Se;++_e){var Re=se[_e];if(ge===0&&(ge=Ie,(ne+=he)>=I&&(he=4*D+4*t*(le-1),ne=F+(Ie+D)*(le<<1),le>>=1)),Re===pe)ne+=4;else{var Ue=n[ce+3*Re],Qe=n[ce+3*Re+1],at=n[ce+3*Re+2];k[ne++]=Ue,k[ne++]=Qe,k[ne++]=at,k[ne++]=255}--ge}}}function qA(n,e,t,r){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,p=0,_=0,A=0,v=n[e++],M=new Int32Array(4096),U=null;;){for(;p<16&&v!==0;)_|=n[e++]<<p,p+=8,v===1?v=n[e++]:--v;if(p<f)break;var z=_&d;if(_>>=f,p-=f,z!==o){if(z===u)break;for(var L=z<c?z:U,Q=0,K=L;K>o;)K=M[K]>>8,++Q;var te=K;if(A+Q+(L!==z?1:0)>r)return void ur.log("Warning, gif stream longer than expected.");t[A++]=te;var me=A+=Q;for(L!==z&&(t[A++]=te),K=L;Q--;)K=M[K],t[--me]=255&K,K>>=8;U!==null&&c<4096&&(M[c++]=U<<8|te,c>=d+1&&f<12&&(++f,d=d<<1|1)),U=z}else c=u+1,d=(1<<(f=s+1))-1,U=null}return A!==r&&ur.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function H0(n){var e,t,r,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),p=new Array(64),_=new Array(65535),A=new Array(65535),v=new Array(64),M=new Array(64),U=[],z=0,L=7,Q=new Array(64),K=new Array(64),te=new Array(64),me=new Array(256),ue=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(F,I){for(var ne=0,he=0,le=new Array,_e=1;_e<=16;_e++){for(var Se=1;Se<=F[_e];Se++)le[I[he]]=[],le[I[he]][0]=ne,le[I[he]][1]=_e,he++,ne++;ne*=2}return le}function ce(F){for(var I=F[0],ne=F[1]-1;ne>=0;)I&1<<ne&&(z|=1<<L),ne--,--L<0&&(z==255?(pe(255),pe(0)):pe(z),L=7,z=0)}function pe(F){U.push(F)}function Ie(F){pe(F>>8&255),pe(255&F)}function D(F,I,ne,he,le){for(var _e,Se=le[0],Re=le[240],Ue=(function(qe,ct){var ot,It,At,An,nn,Ne,Fe,et,Ke,lt,ut=0;for(Ke=0;Ke<8;++Ke){ot=qe[ut],It=qe[ut+1],At=qe[ut+2],An=qe[ut+3],nn=qe[ut+4],Ne=qe[ut+5],Fe=qe[ut+6];var Cn=ot+(et=qe[ut+7]),Ot=ot-et,Mt=It+Fe,Rt=It-Fe,zt=At+Ne,ft=At-Ne,ln=An+nn,Pt=An-nn,Bt=Cn+ln,Mn=Cn-ln,Et=Mt+zt,Dt=Mt-zt;qe[ut]=Bt+Et,qe[ut+4]=Bt-Et;var fn=.707106781*(Dt+Mn);qe[ut+2]=Mn+fn,qe[ut+6]=Mn-fn;var is=.382683433*((Bt=Pt+ft)-(Dt=Rt+Ot)),Pr=.5411961*Bt+is,Ss=1.306562965*Dt+is,ni=.707106781*(Et=ft+Rt),jt=Ot+ni,ri=Ot-ni;qe[ut+5]=ri+Pr,qe[ut+3]=ri-Pr,qe[ut+1]=jt+Ss,qe[ut+7]=jt-Ss,ut+=8}for(ut=0,Ke=0;Ke<8;++Ke){ot=qe[ut],It=qe[ut+8],At=qe[ut+16],An=qe[ut+24],nn=qe[ut+32],Ne=qe[ut+40],Fe=qe[ut+48];var jn=ot+(et=qe[ut+56]),Vn=ot-et,Dr=It+Fe,zn=It-Fe,cr=At+Ne,Br=At-Ne,pi=An+nn,Fi=An-nn,Ti=jn+pi,Vr=jn-pi,Or=Dr+cr,ii=Dr-cr;qe[ut]=Ti+Or,qe[ut+32]=Ti-Or;var zr=.707106781*(ii+Vr);qe[ut+16]=Vr+zr,qe[ut+48]=Vr-zr;var Gn=.382683433*((Ti=Fi+Br)-(ii=zn+Vn)),Es=.5411961*Ti+Gn,xs=1.306562965*ii+Gn,Bi=.707106781*(Or=Br+zn),Vi=Vn+Bi,Fs=Vn-Bi;qe[ut+40]=Fs+Es,qe[ut+24]=Fs-Es,qe[ut+8]=Vi+xs,qe[ut+56]=Vi-xs,ut++}for(Ke=0;Ke<64;++Ke)lt=qe[Ke]*ct[Ke],v[Ke]=lt>0?lt+.5|0:lt-.5|0;return v})(F,I),Qe=0;Qe<64;++Qe)M[V[Qe]]=Ue[Qe];var at=M[0]-ne;ne=M[0],at==0?ce(he[0]):(ce(he[A[_e=32767+at]]),ce(_[_e]));for(var it=63;it>0&&M[it]==0;)it--;if(it==0)return ce(Se),ne;for(var vt,re=1;re<=it;){for(var rt=re;M[re]==0&&re<=it;)++re;var Tt=re-rt;if(Tt>=16){vt=Tt>>4;for(var Nt=1;Nt<=vt;++Nt)ce(Re);Tt&=15}_e=32767+M[re],ce(le[(Tt<<4)+A[_e]]),ce(_[_e]),re++}return it!=63&&ce(Se),ne}function ge(F){F=Math.min(Math.max(F,1),100),o!=F&&((function(I){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var le=u((ne[he]*I+50)/100);le=Math.min(Math.max(le,1),255),c[V[he]]=le}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Re=u((_e[Se]*I+50)/100);Re=Math.min(Math.max(Re,1),255),f[V[Se]]=Re}for(var Ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,at=0;at<8;at++)for(var it=0;it<8;it++)d[Qe]=1/(c[V[Qe]]*Ue[at]*Ue[it]*8),p[Qe]=1/(f[V[Qe]]*Ue[at]*Ue[it]*8),Qe++})(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),o=F)}this.encode=function(F,I){I&&ge(I),U=new Array,z=0,L=7,Ie(65496),Ie(65504),Ie(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ie(1),Ie(1),pe(0),pe(0),(function(){Ie(65499),Ie(132),pe(0);for(var It=0;It<64;It++)pe(c[It]);pe(1);for(var At=0;At<64;At++)pe(f[At])})(),(function(It,At){Ie(65472),Ie(17),pe(8),Ie(At),Ie(It),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)})(F.width,F.height),(function(){Ie(65476),Ie(418),pe(0);for(var It=0;It<16;It++)pe(P[It+1]);for(var At=0;At<=11;At++)pe(R[At]);pe(16);for(var An=0;An<16;An++)pe(H[An+1]);for(var nn=0;nn<=161;nn++)pe(N[nn]);pe(1);for(var Ne=0;Ne<16;Ne++)pe(x[Ne+1]);for(var Fe=0;Fe<=11;Fe++)pe(k[Fe]);pe(17);for(var et=0;et<16;et++)pe(Z[et+1]);for(var Ke=0;Ke<=161;Ke++)pe(fe[Ke])})(),Ie(65498),Ie(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var ne=0,he=0,le=0;z=0,L=7,this.encode.displayName="_encode_";for(var _e,Se,Re,Ue,Qe,at,it,vt,re,rt=F.data,Tt=F.width,Nt=F.height,qe=4*Tt,ct=0;ct<Nt;){for(_e=0;_e<qe;){for(Qe=qe*ct+_e,it=-1,vt=0,re=0;re<64;re++)at=Qe+(vt=re>>3)*qe+(it=4*(7&re)),ct+vt>=Nt&&(at-=qe*(ct+1+vt-Nt)),_e+it>=qe&&(at-=_e+it-qe+4),Se=rt[at++],Re=rt[at++],Ue=rt[at++],Q[re]=(ue[Se]+ue[Re+256|0]+ue[Ue+512|0]>>16)-128,K[re]=(ue[Se+768|0]+ue[Re+1024|0]+ue[Ue+1280|0]>>16)-128,te[re]=(ue[Se+1280|0]+ue[Re+1536|0]+ue[Ue+1792|0]>>16)-128;ne=D(Q,d,ne,e,r),he=D(K,p,he,t,s),le=D(te,p,le,t,s),_e+=32}ct+=8}if(L>=0){var ot=[];ot[1]=L+1,ot[0]=(1<<L+1)-1,ce(ot)}return Ie(65497),new Uint8Array(U)},n=n||50,(function(){for(var F=String.fromCharCode,I=0;I<256;I++)me[I]=F(I)})(),e=se(P,R),t=se(x,k),r=se(H,N),s=se(Z,fe),(function(){for(var F=1,I=2,ne=1;ne<=15;ne++){for(var he=F;he<I;he++)A[32767+he]=ne,_[32767+he]=[],_[32767+he][1]=ne,_[32767+he][0]=he;for(var le=-(I-1);le<=-F;le++)A[32767+le]=ne,_[32767+le]=[],_[32767+le][1]=ne,_[32767+le][0]=I-1+le;F<<=1,I<<=1}})(),(function(){for(var F=0;F<256;F++)ue[F]=19595*F,ue[F+256|0]=38470*F,ue[F+512|0]=7471*F+32768,ue[F+768|0]=-11059*F,ue[F+1024|0]=-21709*F,ue[F+1280|0]=32768*F+8421375,ue[F+1536|0]=-27439*F,ue[F+1792|0]=-5329*F})(),ge(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function _o(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function HA(n){function e(R){if(!R)throw Error("assert :P")}function t(R,H,N){for(var x=0;4>x;x++)if(R[H+x]!=N.charCodeAt(x))return!0;return!1}function r(R,H,N,x,k){for(var Z=0;Z<k;Z++)R[H+Z]=N[x+Z]}function s(R,H,N,x){for(var k=0;k<x;k++)R[H+k]=N}function o(R){return new Int32Array(R)}function u(R,H){for(var N=[],x=0;x<R;x++)N.push(new H);return N}function c(R,H){var N=[];return(function x(k,Z,fe){for(var se=fe[Z],ce=0;ce<se&&(k.push(fe.length>Z+1?[]:new H),!(fe.length<Z+1));ce++)x(k[ce],Z+1,fe)})(N,0,R),N}var f=function(){var R=this;function H(m,b){for(var E=1<<b-1>>>0;m&E;)E>>>=1;return E?(m&E-1)+E:m}function N(m,b,E,C,q){e(!(C%E));do m[b+(C-=E)]=q;while(0<C)}function x(m,b,E,C,q){if(e(2328>=q),512>=q)var G=o(512);else if((G=o(q))==null)return 0;return(function(Y,W,ee,oe,ve,Le){var ie,we,Te=W,je=1<<ee,ke=o(16),Ve=o(16);for(e(ve!=0),e(oe!=null),e(Y!=null),e(0<ee),we=0;we<ve;++we){if(15<oe[we])return 0;++ke[oe[we]]}if(ke[0]==ve)return 0;for(Ve[1]=0,ie=1;15>ie;++ie){if(ke[ie]>1<<ie)return 0;Ve[ie+1]=Ve[ie]+ke[ie]}for(we=0;we<ve;++we)ie=oe[we],0<oe[we]&&(Le[Ve[ie]++]=we);if(Ve[15]==1)return(oe=new k).g=0,oe.value=Le[0],N(Y,Te,1,je,oe),je;var Be,Je=-1,Ye=je-1,St=0,dt=1,Jt=1,mt=1<<ee;for(we=0,ie=1,ve=2;ie<=ee;++ie,ve<<=1){if(dt+=Jt<<=1,0>(Jt-=ke[ie]))return 0;for(;0<ke[ie];--ke[ie])(oe=new k).g=ie,oe.value=Le[we++],N(Y,Te+St,ve,mt,oe),St=H(St,ie)}for(ie=ee+1,ve=2;15>=ie;++ie,ve<<=1){if(dt+=Jt<<=1,0>(Jt-=ke[ie]))return 0;for(;0<ke[ie];--ke[ie]){if(oe=new k,(St&Ye)!=Je){for(Te+=mt,Be=1<<(Je=ie)-ee;15>Je&&!(0>=(Be-=ke[Je]));)++Je,Be<<=1;je+=mt=1<<(Be=Je-ee),Y[W+(Je=St&Ye)].g=Be+ee,Y[W+Je].value=Te-W-Je}oe.g=ie-ee,oe.value=Le[we++],N(Y,Te+(St>>ee),ve,mt,oe),St=H(St,ie)}}return dt!=2*Ve[15]-1?0:je})(m,b,E,C,q,G)}function k(){this.value=this.g=0}function Z(){this.value=this.g=0}function fe(){this.G=u(5,k),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(no,Z)}function se(m,b,E,C){e(m!=null),e(b!=null),e(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=b,m.pa=E,m.Jd=b,m.Yc=E+C,m.Zc=4<=C?E+C-4+1:E,Se(m)}function ce(m,b){for(var E=0;0<b--;)E|=Ue(m,128)<<b;return E}function pe(m,b){var E=ce(m,b);return Re(m)?-E:E}function Ie(m,b,E,C){var q,G=0;for(e(m!=null),e(b!=null),e(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),q=0;q<C;++q)G+=b[E+q]<<8*q;m.Ra=G,m.bb=C,m.oa=b,m.pa=E}function D(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ro-8>>>0,++m.bb,m.u-=8;he(m)&&(m.h=1,m.u=0)}function ge(m,b){if(e(0<=b),!m.h&&b<=hs){var E=ne(m)&$i[b];return m.u+=b,D(m),E}return m.h=1,m.u=0}function F(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(m){return m.Ra>>>(m.u&ro-1)>>>0}function he(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ro}function le(m,b){m.u=b,m.h=he(m)}function _e(m){m.u>=La&&(e(m.u>=La),D(m))}function Se(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Re(m){return ce(m,1)}function Ue(m,b){var E=m.Ca;0>m.b&&Se(m);var C=m.b,q=E*b>>>8,G=(m.I>>>C>q)+0;for(G?(E-=q,m.I-=q+1<<C>>>0):E=q+1,C=E,q=0;256<=C;)q+=8,C>>=8;return C=7^q+Oo[C],m.b-=C,m.Ca=(E<<C)-1,G}function Qe(m,b,E){m[b+0]=E>>24&255,m[b+1]=E>>16&255,m[b+2]=E>>8&255,m[b+3]=255&E}function at(m,b){return m[b+0]|m[b+1]<<8}function it(m,b){return at(m,b)|m[b+2]<<16}function vt(m,b){return at(m,b)|at(m,b+2)<<16}function re(m,b){var E=1<<b;return e(m!=null),e(0<b),m.X=o(E),m.X==null?0:(m.Mb=32-b,m.Xa=b,1)}function rt(m,b){e(m!=null),e(b!=null),e(m.Xa==b.Xa),r(b.X,0,m.X,0,1<<b.Xa)}function Tt(){this.X=[],this.Xa=this.Mb=0}function Nt(m,b,E,C){e(E!=null),e(C!=null);var q=E[0],G=C[0];return q==0&&(q=(m*G+b/2)/b),G==0&&(G=(b*q+m/2)/m),0>=q||0>=G?0:(E[0]=q,C[0]=G,1)}function qe(m,b){return m+(1<<b)-1>>>b}function ct(m,b){return((4278255360&m)+(4278255360&b)>>>0&4278255360)+((16711935&m)+(16711935&b)>>>0&16711935)>>>0}function ot(m,b){R[b]=function(E,C,q,G,Y,W,ee){var oe;for(oe=0;oe<Y;++oe){var ve=R[m](W[ee+oe-1],q,G+oe);W[ee+oe]=ct(E[C+oe],ve)}}}function It(){this.ud=this.hd=this.jd=0}function At(m,b){return((4278124286&(m^b))>>>1)+(m&b)>>>0}function An(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function nn(m,b){return An(m+(m-b+.5>>1))}function Ne(m,b,E){return Math.abs(b-E)-Math.abs(m-E)}function Fe(m,b,E,C,q,G,Y){for(C=G[Y-1],E=0;E<q;++E)G[Y+E]=C=ct(m[b+E],C)}function et(m,b,E,C,q){var G;for(G=0;G<E;++G){var Y=m[b+G],W=Y>>8&255,ee=16711935&(ee=(ee=16711935&Y)+((W<<16)+W));C[q+G]=(4278255360&Y)+ee>>>0}}function Ke(m,b){b.jd=255&m,b.hd=m>>8&255,b.ud=m>>16&255}function lt(m,b,E,C,q,G){var Y;for(Y=0;Y<C;++Y){var W=b[E+Y],ee=W>>>8,oe=W,ve=255&(ve=(ve=W>>>16)+((m.jd<<24>>24)*(ee<<24>>24)>>>5));oe=255&(oe=(oe+=(m.hd<<24>>24)*(ee<<24>>24)>>>5)+((m.ud<<24>>24)*(ve<<24>>24)>>>5)),q[G+Y]=(4278255360&W)+(ve<<16)+oe}}function ut(m,b,E,C,q){R[b]=function(G,Y,W,ee,oe,ve,Le,ie,we){for(ee=Le;ee<ie;++ee)for(Le=0;Le<we;++Le)oe[ve++]=q(W[C(G[Y++])])},R[m]=function(G,Y,W,ee,oe,ve,Le){var ie=8>>G.b,we=G.Ea,Te=G.K[0],je=G.w;if(8>ie)for(G=(1<<G.b)-1,je=(1<<ie)-1;Y<W;++Y){var ke,Ve=0;for(ke=0;ke<we;++ke)ke&G||(Ve=C(ee[oe++])),ve[Le++]=q(Te[Ve&je]),Ve>>=ie}else R["VP8LMapColor"+E](ee,oe,Te,je,ve,Le,Y,W,we)}}function Cn(m,b,E,C,q){for(E=b+E;b<E;){var G=m[b++];C[q++]=G>>16&255,C[q++]=G>>8&255,C[q++]=255&G}}function Ot(m,b,E,C,q){for(E=b+E;b<E;){var G=m[b++];C[q++]=G>>16&255,C[q++]=G>>8&255,C[q++]=255&G,C[q++]=G>>24&255}}function Mt(m,b,E,C,q){for(E=b+E;b<E;){var G=(Y=m[b++])>>16&240|Y>>12&15,Y=240&Y|Y>>28&15;C[q++]=G,C[q++]=Y}}function Rt(m,b,E,C,q){for(E=b+E;b<E;){var G=(Y=m[b++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;C[q++]=G,C[q++]=Y}}function zt(m,b,E,C,q){for(E=b+E;b<E;){var G=m[b++];C[q++]=255&G,C[q++]=G>>8&255,C[q++]=G>>16&255}}function ft(m,b,E,C,q,G){if(G==0)for(E=b+E;b<E;)Qe(C,((G=m[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else r(C,q,m,b,E)}function ln(m,b){R[b][0]=R[m+"0"],R[b][1]=R[m+"1"],R[b][2]=R[m+"2"],R[b][3]=R[m+"3"],R[b][4]=R[m+"4"],R[b][5]=R[m+"5"],R[b][6]=R[m+"6"],R[b][7]=R[m+"7"],R[b][8]=R[m+"8"],R[b][9]=R[m+"9"],R[b][10]=R[m+"10"],R[b][11]=R[m+"11"],R[b][12]=R[m+"12"],R[b][13]=R[m+"13"],R[b][14]=R[m+"0"],R[b][15]=R[m+"0"]}function Pt(m){return m==ac||m==jo||m==oo||m==au}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function Mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new Mn,this.sd=null}function Dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function is(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Pr(m,b){var E=m.T,C=b.ba.f.RGBA,q=C.eb,G=C.fb+m.ka*C.A,Y=li[b.ba.S],W=m.y,ee=m.O,oe=m.f,ve=m.N,Le=m.ea,ie=m.W,we=b.cc,Te=b.dc,je=b.Mc,ke=b.Nc,Ve=m.ka,Be=m.ka+m.T,Je=m.U,Ye=Je+1>>1;for(Ve==0?Y(W,ee,null,null,oe,ve,Le,ie,oe,ve,Le,ie,q,G,null,null,Je):(Y(b.ec,b.fc,W,ee,we,Te,je,ke,oe,ve,Le,ie,q,G-C.A,q,G,Je),++E);Ve+2<Be;Ve+=2)we=oe,Te=ve,je=Le,ke=ie,ve+=m.Rc,ie+=m.Rc,G+=2*C.A,Y(W,(ee+=2*m.fa)-m.fa,W,ee,we,Te,je,ke,oe,ve,Le,ie,q,G-C.A,q,G,Je);return ee+=m.fa,m.j+Be<m.o?(r(b.ec,b.fc,W,ee,Je),r(b.cc,b.dc,oe,ve,Ye),r(b.Mc,b.Nc,Le,ie,Ye),E--):1&Be||Y(W,ee,null,null,oe,ve,Le,ie,oe,ve,Le,ie,q,G+C.A,null,null,Je),E}function Ss(m,b,E){var C=m.F,q=[m.J];if(C!=null){var G=m.U,Y=b.ba.S,W=Y==wl||Y==oo;b=b.ba.f.RGBA;var ee=[0],oe=m.ka;ee[0]=m.T,m.Kb&&(oe==0?--ee[0]:(--oe,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(ee[0]=m.o-m.j-oe));var ve=b.eb;oe=b.fb+oe*b.A,m=Ds(C,q[0],m.width,G,ee,ve,oe+(W?0:3),b.A),e(E==ee),m&&Pt(Y)&&iu(ve,oe,W,G,ee,b.A)}return 0}function ni(m){var b=m.ma,E=b.ba.S,C=11>E,q=E==su||E==sc||E==wl||E==ao||E==12||Pt(E);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Do(b.Oa,m,q?11:12))return 0;if(q&&Pt(E)&&Yt(),m.da)alert("todo:use_scaling");else{if(C){if(b.Ib=is,m.Kb){if(E=m.U+1>>1,b.memory=o(m.U+2*E),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+m.U,b.Mc=b.cc,b.Nc=b.dc+E,b.Ib=Pr,Yt()}}else alert("todo:EmitYUV");q&&(b.Jb=Ss,C&&De())}if(C&&!np){for(m=0;256>m;++m)Fg[m]=89858*(m-128)+Yr>>Fa,uc[m]=-22014*(m-128)+Yr,yf[m]=-45773*(m-128),$r[m]=113618*(m-128)+Yr>>Fa;for(m=Bo;m<ih;++m)b=76283*(m-16)+Yr>>Fa,cc[m-Bo]=zs(b,255),vf[m-Bo]=zs(b+8>>4,15);np=1}return 1}function jt(m){var b=m.ma,E=m.U,C=m.T;return e(!(1&m.ka)),0>=E||0>=C?0:(E=b.Ib(m,b),b.Jb!=null&&b.Jb(m,b,E),b.Dc+=E,1)}function ri(m){m.ma.memory=null}function jn(m,b,E,C){return ge(m,8)!=47?0:(b[0]=ge(m,14)+1,E[0]=ge(m,14)+1,C[0]=ge(m,1),ge(m,3)!=0?0:!m.h)}function Vn(m,b){if(4>m)return m+1;var E=m-2>>1;return(2+(1&m)<<E)+ge(b,E)+1}function Dr(m,b){return 120<b?b-120:1<=(E=((E=uo[b-1])>>4)*m+(8-(15&E)))?E:1;var E}function zn(m,b,E){var C=ne(E),q=m[b+=255&C].g-8;return 0<q&&(le(E,E.u+8),C=ne(E),b+=m[b].value,b+=C&(1<<q)-1),le(E,E.u+m[b].g),m[b].value}function cr(m,b,E){return E.g+=m.g,E.value+=m.value<<b>>>0,e(8>=E.g),m.g}function Br(m,b,E){var C=m.xc;return e((b=C==0?0:m.vc[m.md*(E>>C)+(b>>C)])<m.Wb),m.Ya[b]}function pi(m,b,E,C){var q=m.ab,G=m.c*b,Y=m.C;b=Y+b;var W=E,ee=C;for(C=m.Ta,E=m.Ua;0<q--;){var oe=m.gc[q],ve=Y,Le=b,ie=W,we=ee,Te=(ee=C,W=E,oe.Ea);switch(e(ve<Le),e(Le<=oe.nc),oe.hc){case 2:Tr(ie,we,(Le-ve)*Te,ee,W);break;case 0:var je=ve,ke=Le,Ve=ee,Be=W,Je=(mt=oe).Ea;je==0&&(nc(ie,we,null,null,1,Ve,Be),Fe(ie,we+1,0,0,Je-1,Ve,Be+1),we+=Je,Be+=Je,++je);for(var Ye=1<<mt.b,St=Ye-1,dt=qe(Je,mt.b),Jt=mt.K,mt=mt.w+(je>>mt.b)*dt;je<ke;){var yn=Jt,jr=mt,Xt=1;for(Jl(ie,we,Ve,Be-Je,1,Ve,Be);Xt<Je;){var gt=(Xt&~St)+Ye;gt>Je&&(gt=Je),(0,eu[yn[jr++]>>8&15])(ie,we+ +Xt,Ve,Be+Xt-Je,gt-Xt,Ve,Be+Xt),Xt=gt}we+=Je,Be+=Je,++je&St||(mt+=dt)}Le!=oe.nc&&r(ee,W-Te,ee,W+(Le-ve-1)*Te,Te);break;case 1:for(Te=ie,ke=we,Je=(ie=oe.Ea)-(Be=ie&~(Ve=(we=1<<oe.b)-1)),je=qe(ie,oe.b),Ye=oe.K,oe=oe.w+(ve>>oe.b)*je;ve<Le;){for(St=Ye,dt=oe,Jt=new It,mt=ke+Be,yn=ke+ie;ke<mt;)Ke(St[dt++],Jt),tu(Jt,Te,ke,we,ee,W),ke+=we,W+=we;ke<yn&&(Ke(St[dt++],Jt),tu(Jt,Te,ke,Je,ee,W),ke+=Je,W+=Je),++ve&Ve||(oe+=je)}break;case 3:if(ie==ee&&we==W&&0<oe.b){for(ke=ee,ie=Te=W+(Le-ve)*Te-(Be=(Le-ve)*qe(oe.Ea,oe.b)),we=ee,Ve=W,je=[],Be=(Je=Be)-1;0<=Be;--Be)je[Be]=we[Ve+Be];for(Be=Je-1;0<=Be;--Be)ke[ie+Be]=je[Be];$c(oe,ve,Le,ee,Te,ee,W)}else $c(oe,ve,Le,ie,we,ee,W)}W=C,ee=E}ee!=E&&r(C,E,W,ee,G)}function Fi(m,b){var E=m.V,C=m.Ba+m.c*m.C,q=b-m.C;if(e(b<=m.l.o),e(16>=q),0<q){var G=m.l,Y=m.Ta,W=m.Ua,ee=G.width;if(pi(m,q,E,C),q=W=[W],e((E=m.C)<(C=b)),e(G.v<G.va),C>G.o&&(C=G.o),E<G.j){var oe=G.j-E;E=G.j,q[0]+=oe*ee}if(E>=C?E=0:(q[0]+=4*G.v,G.ka=E-G.j,G.U=G.va-G.v,G.T=C-E,E=1),E){if(W=W[0],11>(E=m.ca).S){var ve=E.f.RGBA,Le=(C=E.S,q=G.U,G=G.T,oe=ve.eb,ve.A),ie=G;for(ve=ve.fb+m.Ma*ve.A;0<ie--;){var we=Y,Te=W,je=q,ke=oe,Ve=ve;switch(C){case Li:nu(we,Te,je,ke,Ve);break;case su:Pa(we,Te,je,ke,Ve);break;case ac:Pa(we,Te,je,ke,Ve),iu(ke,Ve,0,je,1,0);break;case Oa:io(we,Te,je,ke,Ve);break;case sc:ft(we,Te,je,ke,Ve,1);break;case jo:ft(we,Te,je,ke,Ve,1),iu(ke,Ve,0,je,1,0);break;case wl:ft(we,Te,je,ke,Ve,0);break;case oo:ft(we,Te,je,ke,Ve,0),iu(ke,Ve,1,je,1,0);break;case ao:Mo(we,Te,je,ke,Ve);break;case au:Mo(we,Te,je,ke,Ve),Ps(ke,Ve,je,1,0);break;case Zc:Rs(we,Te,je,ke,Ve);break;default:e(0)}W+=ee,ve+=Le}m.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=E.height)}}m.C=b,e(m.C<=m.i)}function Ti(m){var b;if(0<m.ua)return 0;for(b=0;b<m.Wb;++b){var E=m.Ya[b].G,C=m.Ya[b].H;if(0<E[1][C[1]+0].g||0<E[2][C[2]+0].g||0<E[3][C[3]+0].g)return 0}return 1}function Vr(m,b,E,C,q,G){if(m.Z!=0){var Y=m.qd,W=m.rd;for(e(ja[m.Z]!=null);b<E;++b)ja[m.Z](Y,W,C,q,C,q,G),Y=C,W=q,q+=G;m.qd=Y,m.rd=W}}function Or(m,b){var E=m.l.ma,C=E.Z==0||E.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,e(b<=m.l.o),b>C){var q=m.l.width,G=E.ca,Y=E.tb+q*C,W=m.V,ee=m.Ba+m.c*C,oe=m.gc;e(m.ab==1),e(oe[0].hc==3),fs(oe[0],C,b,W,ee,G,Y),Vr(E,C,b,G,Y,q)}m.C=m.Ma=b}function ii(m,b,E,C,q,G,Y){var W=m.$/C,ee=m.$%C,oe=m.m,ve=m.s,Le=E+m.$,ie=Le;q=E+C*q;var we=E+C*G,Te=280+ve.ua,je=m.Pb?W:16777216,ke=0<ve.ua?ve.Wa:null,Ve=ve.wc,Be=Le<we?Br(ve,ee,W):null;e(m.C<G),e(we<=q);var Je=!1;e:for(;;){for(;Je||Le<we;){var Ye=0;if(W>=je){var St=Le-E;e((je=m).Pb),je.wd=je.m,je.xd=St,0<je.s.ua&&rt(je.s.Wa,je.s.vb),je=W+Zd}if(ee&Ve||(Be=Br(ve,ee,W)),e(Be!=null),Be.Qb&&(b[Le]=Be.qb,Je=!0),!Je)if(_e(oe),Be.jc){Ye=oe,St=b;var dt=Le,Jt=Be.pd[ne(Ye)&no-1];e(Be.jc),256>Jt.g?(le(Ye,Ye.u+Jt.g),St[dt]=Jt.value,Ye=0):(le(Ye,Ye.u+Jt.g-256),e(256<=Jt.value),Ye=Jt.value),Ye==0&&(Je=!0)}else Ye=zn(Be.G[0],Be.H[0],oe);if(oe.h)break;if(Je||256>Ye){if(!Je)if(Be.nd)b[Le]=(Be.qb|Ye<<8)>>>0;else{if(_e(oe),Je=zn(Be.G[1],Be.H[1],oe),_e(oe),St=zn(Be.G[2],Be.H[2],oe),dt=zn(Be.G[3],Be.H[3],oe),oe.h)break;b[Le]=(dt<<24|Je<<16|Ye<<8|St)>>>0}if(Je=!1,++Le,++ee>=C&&(ee=0,++W,Y!=null&&W<=G&&!(W%16)&&Y(m,W),ke!=null))for(;ie<Le;)Ye=b[ie++],ke.X[(506832829*Ye&4294967295)>>>ke.Mb]=Ye}else if(280>Ye){if(Ye=Vn(Ye-256,oe),St=zn(Be.G[4],Be.H[4],oe),_e(oe),St=Dr(C,St=Vn(St,oe)),oe.h)break;if(Le-E<St||q-Le<Ye)break e;for(dt=0;dt<Ye;++dt)b[Le+dt]=b[Le+dt-St];for(Le+=Ye,ee+=Ye;ee>=C;)ee-=C,++W,Y!=null&&W<=G&&!(W%16)&&Y(m,W);if(e(Le<=q),ee&Ve&&(Be=Br(ve,ee,W)),ke!=null)for(;ie<Le;)Ye=b[ie++],ke.X[(506832829*Ye&4294967295)>>>ke.Mb]=Ye}else{if(!(Ye<Te))break e;for(Je=Ye-280,e(ke!=null);ie<Le;)Ye=b[ie++],ke.X[(506832829*Ye&4294967295)>>>ke.Mb]=Ye;Ye=Le,e(!(Je>>>(St=ke).Xa)),b[Ye]=St.X[Je],Je=!0}Je||e(oe.h==he(oe))}if(m.Pb&&oe.h&&Le<q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&rt(m.s.vb,m.s.Wa);else{if(oe.h)break e;Y!=null&&Y(m,W>G?G:W),m.a=0,m.$=Le-E}return 1}return m.a=3,0}function zr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var b=m.Wa;b!=null&&(b.X=null),m.vb=null,e(m!=null)}function Gn(){var m=new Ft;return m==null?null:(m.a=0,m.xb=ou,ln("Predictor","VP8LPredictors"),ln("Predictor","VP8LPredictors_C"),ln("PredictorAdd","VP8LPredictorsAdd"),ln("PredictorAdd","VP8LPredictorsAdd_C"),Tr=et,tu=lt,nu=Cn,Pa=Ot,Mo=Mt,Rs=Rt,io=zt,R.VP8LMapColor32b=yr,R.VP8LMapColor8b=Zl,m)}function Es(m,b,E,C,q){var G=1,Y=[m],W=[b],ee=C.m,oe=C.s,ve=null,Le=0;e:for(;;){if(E)for(;G&&ge(ee,1);){var ie=Y,we=W,Te=C,je=1,ke=Te.m,Ve=Te.gc[Te.ab],Be=ge(ke,2);if(Te.Oc&1<<Be)G=0;else{switch(Te.Oc|=1<<Be,Ve.hc=Be,Ve.Ea=ie[0],Ve.nc=we[0],Ve.K=[null],++Te.ab,e(4>=Te.ab),Be){case 0:case 1:Ve.b=ge(ke,3)+2,je=Es(qe(Ve.Ea,Ve.b),qe(Ve.nc,Ve.b),0,Te,Ve.K),Ve.K=Ve.K[0];break;case 3:var Je,Ye=ge(ke,8)+1,St=16<Ye?0:4<Ye?1:2<Ye?2:3;if(ie[0]=qe(Ve.Ea,St),Ve.b=St,Je=je=Es(Ye,1,0,Te,Ve.K)){var dt,Jt=Ye,mt=Ve,yn=1<<(8>>mt.b),jr=o(yn);if(jr==null)Je=0;else{var Xt=mt.K[0],gt=mt.w;for(jr[0]=mt.K[0][0],dt=1;dt<1*Jt;++dt)jr[dt]=ct(Xt[gt+dt],jr[dt-1]);for(;dt<4*yn;++dt)jr[dt]=0;mt.K[0]=null,mt.K[0]=jr,Je=1}}je=Je;break;case 2:break;default:e(0)}G=je}}if(Y=Y[0],W=W[0],G&&ge(ee,1)&&!(G=1<=(Le=ge(ee,4))&&11>=Le)){C.a=3;break e}var st;if(st=G)t:{var pr,Zt,un,yt=C,rn=Y,Sn=W,or=Le,Nr=E,Ir=yt.m,_r=yt.s,pn=[null],En=1,wr=0,qt=Sl[or];n:for(;;){if(Nr&&ge(Ir,1)){var Kr=ge(Ir,3)+2,js=qe(rn,Kr),Ar=qe(Sn,Kr),Wi=js*Ar;if(!Es(js,Ar,0,yt,pn))break n;for(pn=pn[0],_r.xc=Kr,pr=0;pr<Wi;++pr){var Xn=pn[pr]>>8&65535;pn[pr]=Xn,Xn>=En&&(En=Xn+1)}}if(Ir.h)break n;for(Zt=0;5>Zt;++Zt){var Cr=Os[Zt];!Zt&&0<or&&(Cr+=1<<or),wr<Cr&&(wr=Cr)}var Xi=u(En*qt,k),wi=En,nr=u(wi,fe);if(nr==null)var kn=null;else e(65536>=wi),kn=nr;var Pi=o(wr);if(kn==null||Pi==null||Xi==null){yt.a=1;break n}var Ai=Xi;for(pr=un=0;pr<En;++pr){var Fn=kn[pr],Qi=Fn.G,Wr=Fn.H,Ba=0,la=1,Xr=0;for(Zt=0;5>Zt;++Zt){Cr=Os[Zt],Qi[Zt]=Ai,Wr[Zt]=un,!Zt&&0<or&&(Cr+=1<<or);i:{var hc,sh=Cr,fc=yt,uu=Pi,sp=Ai,ap=un,dc=0,po=fc.m,Vg=ge(po,1);if(s(uu,0,0,sh),Vg){var op=ge(po,1)+1,lp=ge(po,1),bf=ge(po,lp==0?1:8);uu[bf]=1,op==2&&(uu[bf=ge(po,8)]=1);var cu=1}else{var _f=o(19),wf=ge(po,4)+4;if(19<wf){fc.a=3;var pc=0;break i}for(hc=0;hc<wf;++hc)_f[lo[hc]]=ge(po,3);var ah=void 0,hu=void 0,up=fc,cp=_f,mo=sh,mc=uu,oh=0,ua=up.m,fu=8,Af=u(128,k);r:for(;x(Af,0,7,cp,19);){if(ge(ua,1)){var hp=2+2*ge(ua,3);if((ah=2+ge(ua,hp))>mo)break r}else ah=mo;for(hu=0;hu<mo&&ah--;){_e(ua);var Sf=Af[0+(127&ne(ua))];le(ua,ua.u+Sf.g);var Tl=Sf.value;if(16>Tl)mc[hu++]=Tl,Tl!=0&&(fu=Tl);else{var fp=Tl==16,Ef=Tl-16,xf=Ks[Ef],Tf=ge(ua,eh[Ef])+xf;if(hu+Tf>mo)break r;for(var dp=fp?fu:0;0<Tf--;)mc[hu++]=dp}}oh=1;break r}oh||(up.a=3),cu=oh}(cu=cu&&!po.h)&&(dc=x(sp,ap,8,uu,sh)),cu&&dc!=0?pc=dc:(fc.a=3,pc=0)}if(pc==0)break n;if(la&&Al[Zt]==1&&(la=Ai[un].g==0),Ba+=Ai[un].g,un+=pc,3>=Zt){var Nl,lh=Pi[0];for(Nl=1;Nl<Cr;++Nl)Pi[Nl]>lh&&(lh=Pi[Nl]);Xr+=lh}}if(Fn.nd=la,Fn.Qb=0,la&&(Fn.qb=(Qi[3][Wr[3]+0].value<<24|Qi[1][Wr[1]+0].value<<16|Qi[2][Wr[2]+0].value)>>>0,Ba==0&&256>Qi[0][Wr[0]+0].value&&(Fn.Qb=1,Fn.qb+=Qi[0][Wr[0]+0].value<<8)),Fn.jc=!Fn.Qb&&6>Xr,Fn.jc){var gc,go=Fn;for(gc=0;gc<no;++gc){var Va=gc,yo=go.pd[Va],yc=go.G[0][go.H[0]+Va];256<=yc.value?(yo.g=yc.g+256,yo.value=yc.value):(yo.g=0,yo.value=0,Va>>=cr(yc,8,yo),Va>>=cr(go.G[1][go.H[1]+Va],16,yo),Va>>=cr(go.G[2][go.H[2]+Va],0,yo),cr(go.G[3][go.H[3]+Va],24,yo))}}}_r.vc=pn,_r.Wb=En,_r.Ya=kn,_r.yc=Xi,st=1;break t}st=0}if(!(G=st)){C.a=3;break e}if(0<Le){if(oe.ua=1<<Le,!re(oe.Wa,Le)){C.a=1,G=0;break e}}else oe.ua=0;var vc=C,Nf=Y,pp=W,If=vc.s,Cf=If.xc;if(vc.c=Nf,vc.i=pp,If.md=qe(Nf,Cf),If.wc=Cf==0?-1:(1<<Cf)-1,E){C.xb=tp;break e}if((ve=o(Y*W))==null){C.a=1,G=0;break e}G=(G=ii(C,ve,0,Y,W,W,null))&&!ee.h;break e}return G?(q!=null?q[0]=ve:(e(ve==null),e(E)),C.$=0,E||zr(oe)):zr(oe),G}function xs(m,b){var E=m.c*m.i,C=E+b+16*b;return e(m.c<=b),m.V=o(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+E+b,1)}function Bi(m,b){var E=m.C,C=b-E,q=m.V,G=m.Ba+m.c*E;for(e(b<=m.l.o);0<C;){var Y=16<C?16:C,W=m.l.ma,ee=m.l.width,oe=ee*Y,ve=W.ca,Le=W.tb+ee*E,ie=m.Ta,we=m.Ua;pi(m,Y,q,G),vl(ie,we,ve,Le,oe),Vr(W,E,E+Y,ve,Le,ee),C-=Y,q+=Y*m.c,E+=Y}e(E==b),m.C=m.Ma=b}function Vi(){this.ub=this.yd=this.td=this.Rb=0}function Fs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bs(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Aa(){this.Yb=(function(){var m=[];return(function b(E,C,q){for(var G=q[C],Y=0;Y<G&&(E.push(q.length>C+1?[]:0),!(q.length<C+1));Y++)b(E[Y],C+1,q)})(m,0,[3,11]),m})()}function $l(){this.jb=o(3),this.Wc=c([4,8],Aa),this.Xc=c([4,17],Aa)}function Sa(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function si(){this.ld=this.La=this.dd=this.tc=0}function Ni(){this.Na=this.la=0}function Ea(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xa(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vs(){this.uc=this.M=this.Nb=0,this.wa=Array(new si),this.Y=0,this.ya=Array(new xa),this.aa=0,this.l=new Ii}function Xa(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Qa(){this.cb=this.a=0,this.sc="",this.m=new F,this.Od=new Vi,this.Kc=new Fs,this.ed=new Sa,this.Qa=new Bs,this.Ic=this.$c=this.Aa=0,this.D=new Vs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,F),this.ia=0,this.pb=u(4,Ea),this.Pa=new $l,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xa),this.Hd=0,this.rb=Array(new Ni),this.sb=0,this.wa=Array(new si),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xa),this.L=this.aa=0,this.gd=c([4,2],si),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(m,b){return 0>m?0:m>b?b:m}function Ii(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sr(){var m=new Qa;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Gr||(Gr=In)),m}function Yn(m,b,E){return m.a==0&&(m.a=b,m.sc=E,m.cb=0),0}function Ta(m,b,E){return 3<=E&&m[b+0]==157&&m[b+1]==1&&m[b+2]==42}function mi(m,b){if(m==null)return 0;if(m.a=0,m.sc="OK",b==null)return Yn(m,2,"null VP8Io passed to VP8GetHeaders()");var E=b.data,C=b.w,q=b.ha;if(4>q)return Yn(m,7,"Truncated header.");var G=E[C+0]|E[C+1]<<8|E[C+2]<<16,Y=m.Od;if(Y.Rb=!(1&G),Y.td=G>>1&7,Y.yd=G>>4&1,Y.ub=G>>5,3<Y.td)return Yn(m,3,"Incorrect keyframe parameters.");if(!Y.yd)return Yn(m,4,"Frame not displayable.");C+=3,q-=3;var W=m.Kc;if(Y.Rb){if(7>q)return Yn(m,7,"cannot parse picture header");if(!Ta(E,C,q))return Yn(m,3,"Bad code word");W.c=16383&(E[C+4]<<8|E[C+3]),W.Td=E[C+4]>>6,W.i=16383&(E[C+6]<<8|E[C+5]),W.Ud=E[C+6]>>6,C+=7,q-=7,m.za=W.c+15>>4,m.Ub=W.i+15>>4,b.width=W.c,b.height=W.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,s((G=m.Pa).jb,0,255,G.jb.length),e((G=m.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,s(G.Zb,0,0,G.Zb.length),s(G.Lb,0,0,G.Lb)}if(Y.ub>q)return Yn(m,7,"bad partition length");se(G=m.m,E,C,Y.ub),C+=Y.ub,q-=Y.ub,Y.Rb&&(W.Ld=Re(G),W.Kd=Re(G)),W=m.Qa;var ee,oe=m.Pa;if(e(G!=null),e(W!=null),W.Cb=Re(G),W.Cb){if(W.Bb=Re(G),Re(G)){for(W.Fb=Re(G),ee=0;4>ee;++ee)W.Zb[ee]=Re(G)?pe(G,7):0;for(ee=0;4>ee;++ee)W.Lb[ee]=Re(G)?pe(G,6):0}if(W.Bb)for(ee=0;3>ee;++ee)oe.jb[ee]=Re(G)?ce(G,8):255}else W.Bb=0;if(G.Ka)return Yn(m,3,"cannot parse segment header");if((W=m.ed).zd=Re(G),W.Tb=ce(G,6),W.wb=ce(G,3),W.Pc=Re(G),W.Pc&&Re(G)){for(oe=0;4>oe;++oe)Re(G)&&(W.vd[oe]=pe(G,6));for(oe=0;4>oe;++oe)Re(G)&&(W.od[oe]=pe(G,6))}if(m.L=W.Tb==0?0:W.zd?1:2,G.Ka)return Yn(m,3,"cannot parse filter header");var ve=q;if(q=ee=C,C=ee+ve,W=ve,m.Xb=(1<<ce(m.m,2))-1,ve<3*(oe=m.Xb))E=7;else{for(ee+=3*oe,W-=3*oe,ve=0;ve<oe;++ve){var Le=E[q+0]|E[q+1]<<8|E[q+2]<<16;Le>W&&(Le=W),se(m.Jc[+ve],E,ee,Le),ee+=Le,W-=Le,q+=3}se(m.Jc[+oe],E,ee,W),E=ee<C?0:5}if(E!=0)return Yn(m,E,"cannot parse partitions");for(E=ce(ee=m.m,7),q=Re(ee)?pe(ee,4):0,C=Re(ee)?pe(ee,4):0,W=Re(ee)?pe(ee,4):0,oe=Re(ee)?pe(ee,4):0,ee=Re(ee)?pe(ee,4):0,ve=m.Qa,Le=0;4>Le;++Le){if(ve.Cb){var ie=ve.Zb[Le];ve.Fb||(ie+=E)}else{if(0<Le){m.pb[Le]=m.pb[0];continue}ie=E}var we=m.pb[Le];we.Sc[0]=oc[zs(ie+q,127)],we.Sc[1]=lc[zs(ie+0,127)],we.Eb[0]=2*oc[zs(ie+C,127)],we.Eb[1]=101581*lc[zs(ie+W,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=oc[zs(ie+oe,117)],we.Qc[1]=lc[zs(ie+ee,127)],we.lc=ie+ee}if(!Y.Rb)return Yn(m,4,"Not a key frame.");for(Re(G),Y=m.Pa,E=0;4>E;++E){for(q=0;8>q;++q)for(C=0;3>C;++C)for(W=0;11>W;++W)oe=Ue(G,El[E][q][C][W])?ce(G,8):Ma[E][q][C][W],Y.Wc[E][q].Yb[C][W]=oe;for(q=0;17>q;++q)Y.Xc[E][q]=Y.Wc[E][ep[q]]}return m.kc=Re(G),m.kc&&(m.Bd=ce(G,8)),m.cb=1}function In(m,b,E,C,q,G,Y){var W=b[q].Yb[E];for(E=0;16>q;++q){if(!Ue(m,W[E+0]))return q;for(;!Ue(m,W[E+1]);)if(W=b[++q].Yb[0],E=0,q==16)return 16;var ee=b[q+1].Yb;if(Ue(m,W[E+2])){var oe=m,ve=0;if(Ue(oe,(ie=W)[(Le=E)+3]))if(Ue(oe,ie[Le+6])){for(W=0,Le=2*(ve=Ue(oe,ie[Le+8]))+(ie=Ue(oe,ie[Le+9+ve])),ve=0,ie=br[Le];ie[W];++W)ve+=ve+Ue(oe,ie[W]);ve+=3+(8<<Le)}else Ue(oe,ie[Le+7])?(ve=7+2*Ue(oe,165),ve+=Ue(oe,145)):ve=5+Ue(oe,159);else ve=Ue(oe,ie[Le+4])?3+Ue(oe,ie[Le+5]):2;W=ee[2]}else ve=1,W=ee[1];ee=Y+Pn[q],0>(oe=m).b&&Se(oe);var Le,ie=oe.b,we=(Le=oe.Ca>>1)-(oe.I>>ie)>>31;--oe.b,oe.Ca+=we,oe.Ca|=1,oe.I-=(Le+1&we)<<ie,G[ee]=((ve^we)-we)*C[(0<q)+0]}return 16}function qs(m){var b=m.rb[m.sb-1];b.la=0,b.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function ai(m,b,E,C,q){q=m[b+E+32*C]+(q>>3),m[b+E+32*C]=-256&q?0>q?0:255:q}function mn(m,b,E,C,q,G){ai(m,b,0,E,C+q),ai(m,b,1,E,C+G),ai(m,b,2,E,C-G),ai(m,b,3,E,C-q)}function Ts(m){return(20091*m>>16)+m}function Io(m,b,E,C){var q,G=0,Y=o(16);for(q=0;4>q;++q){var W=m[b+0]+m[b+8],ee=m[b+0]-m[b+8],oe=(35468*m[b+4]>>16)-Ts(m[b+12]),ve=Ts(m[b+4])+(35468*m[b+12]>>16);Y[G+0]=W+ve,Y[G+1]=ee+oe,Y[G+2]=ee-oe,Y[G+3]=W-ve,G+=4,b++}for(q=G=0;4>q;++q)W=(m=Y[G+0]+4)+Y[G+8],ee=m-Y[G+8],oe=(35468*Y[G+4]>>16)-Ts(Y[G+12]),ai(E,C,0,0,W+(ve=Ts(Y[G+4])+(35468*Y[G+12]>>16))),ai(E,C,1,0,ee+oe),ai(E,C,2,0,ee-oe),ai(E,C,3,0,W-ve),G++,C+=32}function ul(m,b,E,C){var q=m[b+0]+4,G=35468*m[b+4]>>16,Y=Ts(m[b+4]),W=35468*m[b+1]>>16;mn(E,C,0,q+Y,m=Ts(m[b+1]),W),mn(E,C,1,q+G,m,W),mn(E,C,2,q-G,m,W),mn(E,C,3,q-Y,m,W)}function Na(m,b,E,C,q){Io(m,b,E,C),q&&Io(m,b+16,E,C+4)}function Ns(m,b,E,C){so(m,b+0,E,C,1),so(m,b+32,E,C+128,1)}function cl(m,b,E,C){var q;for(m=m[b+0]+4,q=0;4>q;++q)for(b=0;4>b;++b)ai(E,C,b,q,m)}function zi(m,b,E,C){m[b+0]&&bn(m,b+0,E,C),m[b+16]&&bn(m,b+16,E,C+4),m[b+32]&&bn(m,b+32,E,C+128),m[b+48]&&bn(m,b+48,E,C+128+4)}function ss(m,b,E,C){var q,G=o(16);for(q=0;4>q;++q){var Y=m[b+0+q]+m[b+12+q],W=m[b+4+q]+m[b+8+q],ee=m[b+4+q]-m[b+8+q],oe=m[b+0+q]-m[b+12+q];G[0+q]=Y+W,G[8+q]=Y-W,G[4+q]=oe+ee,G[12+q]=oe-ee}for(q=0;4>q;++q)Y=(m=G[0+4*q]+3)+G[3+4*q],W=G[1+4*q]+G[2+4*q],ee=G[1+4*q]-G[2+4*q],oe=m-G[3+4*q],E[C+0]=Y+W>>3,E[C+16]=oe+ee>>3,E[C+32]=Y-W>>3,E[C+48]=oe-ee>>3,C+=64}function ra(m,b,E){var C,q=b-32,G=oi,Y=255-m[q-1];for(C=0;C<E;++C){var W,ee=G,oe=Y+m[b-1];for(W=0;W<E;++W)m[b+W]=ee[oe+m[q+W]];b+=32}}function hl(m,b){ra(m,b,4)}function Co(m,b){ra(m,b,8)}function Kl(m,b){ra(m,b,16)}function ko(m,b){var E;for(E=0;16>E;++E)r(m,b+32*E,m,b-32,16)}function as(m,b){var E;for(E=16;0<E;--E)s(m,b,m[b-1],16),b+=32}function qi(m,b,E){var C;for(C=0;16>C;++C)s(b,E+32*C,m,16)}function fl(m,b){var E,C=16;for(E=0;16>E;++E)C+=m[b-1+32*E]+m[b+E-32];qi(C>>5,m,b)}function os(m,b){var E,C=8;for(E=0;16>E;++E)C+=m[b-1+32*E];qi(C>>4,m,b)}function qr(m,b){var E,C=8;for(E=0;16>E;++E)C+=m[b+E-32];qi(C>>4,m,b)}function Wl(m,b){qi(128,m,b)}function Ut(m,b,E){return m+2*b+E+2>>2}function Ja(m,b){var E,C=b-32;for(C=new Uint8Array([Ut(m[C-1],m[C+0],m[C+1]),Ut(m[C+0],m[C+1],m[C+2]),Ut(m[C+1],m[C+2],m[C+3]),Ut(m[C+2],m[C+3],m[C+4])]),E=0;4>E;++E)r(m,b+32*E,C,0,C.length)}function Ia(m,b){var E=m[b-1],C=m[b-1+32],q=m[b-1+64],G=m[b-1+96];Qe(m,b+0,16843009*Ut(m[b-1-32],E,C)),Qe(m,b+32,16843009*Ut(E,C,q)),Qe(m,b+64,16843009*Ut(C,q,G)),Qe(m,b+96,16843009*Ut(q,G,G))}function gi(m,b){var E,C=4;for(E=0;4>E;++E)C+=m[b+E-32]+m[b-1+32*E];for(C>>=3,E=0;4>E;++E)s(m,b+32*E,C,4)}function yi(m,b){var E=m[b-1+0],C=m[b-1+32],q=m[b-1+64],G=m[b-1-32],Y=m[b+0-32],W=m[b+1-32],ee=m[b+2-32],oe=m[b+3-32];m[b+0+96]=Ut(C,q,m[b-1+96]),m[b+1+96]=m[b+0+64]=Ut(E,C,q),m[b+2+96]=m[b+1+64]=m[b+0+32]=Ut(G,E,C),m[b+3+96]=m[b+2+64]=m[b+1+32]=m[b+0+0]=Ut(Y,G,E),m[b+3+64]=m[b+2+32]=m[b+1+0]=Ut(W,Y,G),m[b+3+32]=m[b+2+0]=Ut(ee,W,Y),m[b+3+0]=Ut(oe,ee,W)}function Ci(m,b){var E=m[b+1-32],C=m[b+2-32],q=m[b+3-32],G=m[b+4-32],Y=m[b+5-32],W=m[b+6-32],ee=m[b+7-32];m[b+0+0]=Ut(m[b+0-32],E,C),m[b+1+0]=m[b+0+32]=Ut(E,C,q),m[b+2+0]=m[b+1+32]=m[b+0+64]=Ut(C,q,G),m[b+3+0]=m[b+2+32]=m[b+1+64]=m[b+0+96]=Ut(q,G,Y),m[b+3+32]=m[b+2+64]=m[b+1+96]=Ut(G,Y,W),m[b+3+64]=m[b+2+96]=Ut(Y,W,ee),m[b+3+96]=Ut(W,ee,ee)}function ls(m,b){var E=m[b-1+0],C=m[b-1+32],q=m[b-1+64],G=m[b-1-32],Y=m[b+0-32],W=m[b+1-32],ee=m[b+2-32],oe=m[b+3-32];m[b+0+0]=m[b+1+64]=G+Y+1>>1,m[b+1+0]=m[b+2+64]=Y+W+1>>1,m[b+2+0]=m[b+3+64]=W+ee+1>>1,m[b+3+0]=ee+oe+1>>1,m[b+0+96]=Ut(q,C,E),m[b+0+64]=Ut(C,E,G),m[b+0+32]=m[b+1+96]=Ut(E,G,Y),m[b+1+32]=m[b+2+96]=Ut(G,Y,W),m[b+2+32]=m[b+3+96]=Ut(Y,W,ee),m[b+3+32]=Ut(W,ee,oe)}function qn(m,b){var E=m[b+0-32],C=m[b+1-32],q=m[b+2-32],G=m[b+3-32],Y=m[b+4-32],W=m[b+5-32],ee=m[b+6-32],oe=m[b+7-32];m[b+0+0]=E+C+1>>1,m[b+1+0]=m[b+0+64]=C+q+1>>1,m[b+2+0]=m[b+1+64]=q+G+1>>1,m[b+3+0]=m[b+2+64]=G+Y+1>>1,m[b+0+32]=Ut(E,C,q),m[b+1+32]=m[b+0+96]=Ut(C,q,G),m[b+2+32]=m[b+1+96]=Ut(q,G,Y),m[b+3+32]=m[b+2+96]=Ut(G,Y,W),m[b+3+64]=Ut(Y,W,ee),m[b+3+96]=Ut(W,ee,oe)}function ia(m,b){var E=m[b-1+0],C=m[b-1+32],q=m[b-1+64],G=m[b-1+96];m[b+0+0]=E+C+1>>1,m[b+2+0]=m[b+0+32]=C+q+1>>1,m[b+2+32]=m[b+0+64]=q+G+1>>1,m[b+1+0]=Ut(E,C,q),m[b+3+0]=m[b+1+32]=Ut(C,q,G),m[b+3+32]=m[b+1+64]=Ut(q,G,G),m[b+3+64]=m[b+2+64]=m[b+0+96]=m[b+1+96]=m[b+2+96]=m[b+3+96]=G}function Ro(m,b){var E=m[b-1+0],C=m[b-1+32],q=m[b-1+64],G=m[b-1+96],Y=m[b-1-32],W=m[b+0-32],ee=m[b+1-32],oe=m[b+2-32];m[b+0+0]=m[b+2+32]=E+Y+1>>1,m[b+0+32]=m[b+2+64]=C+E+1>>1,m[b+0+64]=m[b+2+96]=q+C+1>>1,m[b+0+96]=G+q+1>>1,m[b+3+0]=Ut(W,ee,oe),m[b+2+0]=Ut(Y,W,ee),m[b+1+0]=m[b+3+32]=Ut(E,Y,W),m[b+1+32]=m[b+3+64]=Ut(C,E,Y),m[b+1+64]=m[b+3+96]=Ut(q,C,E),m[b+1+96]=Ut(G,q,C)}function Is(m,b){var E;for(E=0;8>E;++E)r(m,b+32*E,m,b-32,8)}function Za(m,b){var E;for(E=0;8>E;++E)s(m,b,m[b-1],8),b+=32}function Cs(m,b,E){var C;for(C=0;8>C;++C)s(b,E+32*C,m,8)}function xr(m,b){var E,C=8;for(E=0;8>E;++E)C+=m[b+E-32]+m[b-1+32*E];Cs(C>>4,m,b)}function Mr(m,b){var E,C=4;for(E=0;8>E;++E)C+=m[b+E-32];Cs(C>>3,m,b)}function sa(m,b){var E,C=4;for(E=0;8>E;++E)C+=m[b-1+32*E];Cs(C>>3,m,b)}function Ca(m,b){Cs(128,m,b)}function Hi(m,b,E){var C=m[b-E],q=m[b+0],G=3*(q-C)+Jc[1020+m[b-2*E]-m[b+E]],Y=_l[112+(G+4>>3)];m[b-E]=oi[255+C+_l[112+(G+3>>3)]],m[b+0]=oi[255+q-Y]}function ka(m,b,E,C){var q=m[b+0],G=m[b+E];return $s[255+m[b-2*E]-m[b-E]]>C||$s[255+G-q]>C}function Hs(m,b,E,C){return 4*$s[255+m[b-E]-m[b+0]]+$s[255+m[b-2*E]-m[b+E]]<=C}function us(m,b,E,C,q){var G=m[b-3*E],Y=m[b-2*E],W=m[b-E],ee=m[b+0],oe=m[b+E],ve=m[b+2*E],Le=m[b+3*E];return 4*$s[255+W-ee]+$s[255+Y-oe]>C?0:$s[255+m[b-4*E]-G]<=q&&$s[255+G-Y]<=q&&$s[255+Y-W]<=q&&$s[255+Le-ve]<=q&&$s[255+ve-oe]<=q&&$s[255+oe-ee]<=q}function ks(m,b,E,C){var q=2*C+1;for(C=0;16>C;++C)Hs(m,b+C,E,q)&&Hi(m,b+C,E)}function aa(m,b,E,C){var q=2*C+1;for(C=0;16>C;++C)Hs(m,b+C*E,1,q)&&Hi(m,b+C*E,1)}function Xl(m,b,E,C){var q;for(q=3;0<q;--q)ks(m,b+=4*E,E,C)}function dl(m,b,E,C){var q;for(q=3;0<q;--q)aa(m,b+=4,E,C)}function Gi(m,b,E,C,q,G,Y,W){for(G=2*G+1;0<q--;){if(us(m,b,E,G,Y))if(ka(m,b,E,W))Hi(m,b,E);else{var ee=m,oe=b,ve=E,Le=ee[oe-2*ve],ie=ee[oe-ve],we=ee[oe+0],Te=ee[oe+ve],je=ee[oe+2*ve],ke=27*(Be=Jc[1020+3*(we-ie)+Jc[1020+Le-Te]])+63>>7,Ve=18*Be+63>>7,Be=9*Be+63>>7;ee[oe-3*ve]=oi[255+ee[oe-3*ve]+Be],ee[oe-2*ve]=oi[255+Le+Ve],ee[oe-ve]=oi[255+ie+ke],ee[oe+0]=oi[255+we-ke],ee[oe+ve]=oi[255+Te-Ve],ee[oe+2*ve]=oi[255+je-Be]}b+=C}}function cs(m,b,E,C,q,G,Y,W){for(G=2*G+1;0<q--;){if(us(m,b,E,G,Y))if(ka(m,b,E,W))Hi(m,b,E);else{var ee=m,oe=b,ve=E,Le=ee[oe-ve],ie=ee[oe+0],we=ee[oe+ve],Te=_l[112+(4+(je=3*(ie-Le))>>3)],je=_l[112+(je+3>>3)],ke=Te+1>>1;ee[oe-2*ve]=oi[255+ee[oe-2*ve]+ke],ee[oe-ve]=oi[255+Le+je],ee[oe+0]=oi[255+ie-Te],ee[oe+ve]=oi[255+we-ke]}b+=C}}function pl(m,b,E,C,q,G){Gi(m,b,E,1,16,C,q,G)}function oa(m,b,E,C,q,G){Gi(m,b,1,E,16,C,q,G)}function Lo(m,b,E,C,q,G){var Y;for(Y=3;0<Y;--Y)cs(m,b+=4*E,E,1,16,C,q,G)}function S(m,b,E,C,q,G){var Y;for(Y=3;0<Y;--Y)cs(m,b+=4,1,E,16,C,q,G)}function B(m,b,E,C,q,G,Y,W){Gi(m,b,q,1,8,G,Y,W),Gi(E,C,q,1,8,G,Y,W)}function ae(m,b,E,C,q,G,Y,W){Gi(m,b,1,q,8,G,Y,W),Gi(E,C,1,q,8,G,Y,W)}function ye(m,b,E,C,q,G,Y,W){cs(m,b+4*q,q,1,8,G,Y,W),cs(E,C+4*q,q,1,8,G,Y,W)}function Ae(m,b,E,C,q,G,Y,W){cs(m,b+4,1,q,8,G,Y,W),cs(E,C+4,1,q,8,G,Y,W)}function ze(){this.ba=new Et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function We(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bt(){this.ua=0,this.Wa=new Tt,this.vb=new Tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new k}function Ft(){this.xb=this.a=0,this.l=new Ii,this.ca=new Et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bt,this.ab=0,this.gc=u(4,ht),this.Oc=0}function Ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ii,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(m,b,E,C,q,G,Y){for(m=m==null?0:m[b+0],b=0;b<Y;++b)q[G+b]=m+E[C+b]&255,m=q[G+b]}function tr(m,b,E,C,q,G,Y){var W;if(m==null)dn(null,null,E,C,q,G,Y);else for(W=0;W<Y;++W)q[G+W]=m[b+W]+E[C+W]&255}function $n(m,b,E,C,q,G,Y){if(m==null)dn(null,null,E,C,q,G,Y);else{var W,ee=m[b+0],oe=ee,ve=ee;for(W=0;W<Y;++W)oe=ve+(ee=m[b+W])-oe,ve=E[C+W]+(-256&oe?0>oe?0:255:oe)&255,oe=ee,q[G+W]=ve}}function g(m,b,E,C){var q=b.width,G=b.o;if(e(m!=null&&b!=null),0>E||0>=C||E+C>G)return null;if(!m.Cc){if(m.ga==null){var Y;if(m.ga=new Ct,(Y=m.ga==null)||(Y=b.width*b.o,e(m.Gb.length==0),m.Gb=o(Y),m.Uc=0,m.Gb==null?Y=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,Y=1),Y=!Y),!Y){Y=m.ga;var W=m.Fa,ee=m.P,oe=m.qc,ve=m.mb,Le=m.nb,ie=ee+1,we=oe-1,Te=Y.l;if(e(W!=null&&ve!=null&&b!=null),ja[0]=null,ja[1]=dn,ja[2]=tr,ja[3]=$n,Y.ca=ve,Y.tb=Le,Y.c=b.width,Y.i=b.height,e(0<Y.c&&0<Y.i),1>=oe)b=0;else if(Y.$a=3&W[ee+0],Y.Z=W[ee+0]>>2&3,Y.Lc=W[ee+0]>>4&3,ee=W[ee+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||ee)b=0;else if(Te.put=jt,Te.ac=ni,Te.bc=ri,Te.ma=Y,Te.width=b.width,Te.height=b.height,Te.Da=b.Da,Te.v=b.v,Te.va=b.va,Te.j=b.j,Te.o=b.o,Y.$a)e:{e(Y.$a==1),b=Gn();t:for(;;){if(b==null){b=0;break e}if(e(Y!=null),Y.mc=b,b.c=Y.c,b.i=Y.i,b.l=Y.l,b.l.ma=Y,b.l.width=Y.c,b.l.height=Y.i,b.a=0,Ie(b.m,W,ie,we),!Es(Y.c,Y.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ti(b.s)?(Y.ic=1,W=b.c*b.i,b.Ta=null,b.Ua=0,b.V=o(W),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Y.ic=0,b=xs(b,Y.c)),!b))break t;b=1;break e}Y.mc=null,b=0}else b=we>=Y.c*Y.i;Y=!b}if(Y)return null;m.ga.Lc!=1?m.Ga=0:C=G-E}e(m.ga!=null),e(E+C<=G);e:{if(b=(W=m.ga).c,G=W.l.o,W.$a==0){if(ie=m.rc,we=m.Vc,Te=m.Fa,ee=m.P+1+E*b,oe=m.mb,ve=m.nb+E*b,e(ee<=m.P+m.qc),W.Z!=0)for(e(ja[W.Z]!=null),Y=0;Y<C;++Y)ja[W.Z](ie,we,Te,ee,oe,ve,b),ie=oe,we=ve,ve+=b,ee+=b;else for(Y=0;Y<C;++Y)r(oe,ve,Te,ee,b),ie=oe,we=ve,ve+=b,ee+=b;m.rc=ie,m.Vc=we}else{if(e(W.mc!=null),b=E+C,e((Y=W.mc)!=null),e(b<=Y.i),Y.C>=b)b=1;else if(W.ic||De(),W.ic){W=Y.V,ie=Y.Ba,we=Y.c;var je=Y.i,ke=(Te=1,ee=Y.$/we,oe=Y.$%we,ve=Y.m,Le=Y.s,Y.$),Ve=we*je,Be=we*b,Je=Le.wc,Ye=ke<Be?Br(Le,oe,ee):null;e(ke<=Ve),e(b<=je),e(Ti(Le));t:for(;;){for(;!ve.h&&ke<Be;){if(oe&Je||(Ye=Br(Le,oe,ee)),e(Ye!=null),_e(ve),256>(je=zn(Ye.G[0],Ye.H[0],ve)))W[ie+ke]=je,++ke,++oe>=we&&(oe=0,++ee<=b&&!(ee%16)&&Or(Y,ee));else{if(!(280>je)){Te=0;break t}je=Vn(je-256,ve);var St,dt=zn(Ye.G[4],Ye.H[4],ve);if(_e(ve),!(ke>=(dt=Dr(we,dt=Vn(dt,ve)))&&Ve-ke>=je)){Te=0;break t}for(St=0;St<je;++St)W[ie+ke+St]=W[ie+ke+St-dt];for(ke+=je,oe+=je;oe>=we;)oe-=we,++ee<=b&&!(ee%16)&&Or(Y,ee);ke<Be&&oe&Je&&(Ye=Br(Le,oe,ee))}e(ve.h==he(ve))}Or(Y,ee>b?b:ee);break t}!Te||ve.h&&ke<Ve?(Te=0,Y.a=ve.h?5:3):Y.$=ke,b=Te}else b=ii(Y,Y.V,Y.Ba,Y.c,Y.i,b,Bi);if(!b){C=0;break e}}E+C>=G&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+E*q}function T(m,b,E,C,q,G){for(;0<q--;){var Y,W=m,ee=b+(E?1:0),oe=m,ve=b+(E?0:3);for(Y=0;Y<C;++Y){var Le=oe[ve+4*Y];Le!=255&&(Le*=32897,W[ee+4*Y+0]=W[ee+4*Y+0]*Le>>23,W[ee+4*Y+1]=W[ee+4*Y+1]*Le>>23,W[ee+4*Y+2]=W[ee+4*Y+2]*Le>>23)}b+=G}}function O(m,b,E,C,q){for(;0<C--;){var G;for(G=0;G<E;++G){var Y=m[b+2*G+0],W=15&(oe=m[b+2*G+1]),ee=4369*W,oe=(240&oe|oe>>4)*ee>>16;m[b+2*G+0]=(240&Y|Y>>4)*ee>>16&240|(15&Y|Y<<4)*ee>>16>>4&15,m[b+2*G+1]=240&oe|W}b+=q}}function J(m,b,E,C,q,G,Y,W){var ee,oe,ve=255;for(oe=0;oe<q;++oe){for(ee=0;ee<C;++ee){var Le=m[b+ee];G[Y+4*ee]=Le,ve&=Le}b+=E,Y+=W}return ve!=255}function xe(m,b,E,C,q){var G;for(G=0;G<q;++G)E[C+G]=m[b+G]>>8}function De(){iu=T,Ps=O,Ds=J,vl=xe}function tt(m,b,E){R[m]=function(C,q,G,Y,W,ee,oe,ve,Le,ie,we,Te,je,ke,Ve,Be,Je){var Ye,St=Je-1>>1,dt=W[ee+0]|oe[ve+0]<<16,Jt=Le[ie+0]|we[Te+0]<<16;e(C!=null);var mt=3*dt+Jt+131074>>2;for(b(C[q+0],255&mt,mt>>16,je,ke),G!=null&&(mt=3*Jt+dt+131074>>2,b(G[Y+0],255&mt,mt>>16,Ve,Be)),Ye=1;Ye<=St;++Ye){var yn=W[ee+Ye]|oe[ve+Ye]<<16,jr=Le[ie+Ye]|we[Te+Ye]<<16,Xt=dt+yn+Jt+jr+524296,gt=Xt+2*(yn+Jt)>>3;mt=gt+dt>>1,dt=(Xt=Xt+2*(dt+jr)>>3)+yn>>1,b(C[q+2*Ye-1],255&mt,mt>>16,je,ke+(2*Ye-1)*E),b(C[q+2*Ye-0],255&dt,dt>>16,je,ke+(2*Ye-0)*E),G!=null&&(mt=Xt+Jt>>1,dt=gt+jr>>1,b(G[Y+2*Ye-1],255&mt,mt>>16,Ve,Be+(2*Ye-1)*E),b(G[Y+2*Ye+0],255&dt,dt>>16,Ve,Be+(2*Ye+0)*E)),dt=yn,Jt=jr}1&Je||(mt=3*dt+Jt+131074>>2,b(C[q+Je-1],255&mt,mt>>16,je,ke+(Je-1)*E),G!=null&&(mt=3*Jt+dt+131074>>2,b(G[Y+Je-1],255&mt,mt>>16,Ve,Be+(Je-1)*E)))}}function Yt(){li[Li]=ho,li[su]=Ua,li[Oa]=Fo,li[sc]=th,li[wl]=nh,li[ao]=lu,li[Zc]=rh,li[ac]=Ua,li[jo]=th,li[oo]=nh,li[au]=lu}function Dn(m){return m&-16384?0>m?0:255:m>>Ug}function gn(m,b){return Dn((19077*m>>8)+(26149*b>>8)-14234)}function Kn(m,b,E){return Dn((19077*m>>8)-(6419*b>>8)-(13320*E>>8)+8708)}function Hr(m,b){return Dn((19077*m>>8)+(33050*b>>8)-17685)}function vi(m,b,E,C,q){C[q+0]=gn(m,E),C[q+1]=Kn(m,b,E),C[q+2]=Hr(m,b)}function Wn(m,b,E,C,q){C[q+0]=Hr(m,b),C[q+1]=Kn(m,b,E),C[q+2]=gn(m,E)}function bi(m,b,E,C,q){var G=Kn(m,b,E);b=G<<3&224|Hr(m,b)>>3,C[q+0]=248&gn(m,E)|G>>5,C[q+1]=b}function _i(m,b,E,C,q){var G=240&Hr(m,b)|15;C[q+0]=240&gn(m,E)|Kn(m,b,E)>>4,C[q+1]=G}function eo(m,b,E,C,q){C[q+0]=255,vi(m,b,E,C,q+1)}function tc(m,b,E,C,q){Wn(m,b,E,C,q),C[q+3]=255}function Yi(m,b,E,C,q){vi(m,b,E,C,q),C[q+3]=255}function Ra(m,b,E){R[m]=function(C,q,G,Y,W,ee,oe,ve,Le){for(var ie=ve+(-2&Le)*E;ve!=ie;)b(C[q+0],G[Y+0],W[ee+0],oe,ve),b(C[q+1],G[Y+0],W[ee+0],oe,ve+E),q+=2,++Y,++ee,ve+=2*E;1&Le&&b(C[q+0],G[Y+0],W[ee+0],oe,ve)}}function ml(m,b,E){return E==0?m==0?b==0?6:5:b==0?4:0:E}function Po(m,b,E,C,q){switch(m>>>30){case 3:so(b,E,C,q,0);break;case 2:Ls(b,E,C,q);break;case 1:bn(b,E,C,q)}}function ki(m,b){var E,C,q=b.M,G=b.Nb,Y=m.oc,W=m.pc+40,ee=m.oc,oe=m.pc+584,ve=m.oc,Le=m.pc+600;for(E=0;16>E;++E)Y[W+32*E-1]=129;for(E=0;8>E;++E)ee[oe+32*E-1]=129,ve[Le+32*E-1]=129;for(0<q?Y[W-1-32]=ee[oe-1-32]=ve[Le-1-32]=129:(s(Y,W-32-1,127,21),s(ee,oe-32-1,127,9),s(ve,Le-32-1,127,9)),C=0;C<m.za;++C){var ie=b.ya[b.aa+C];if(0<C){for(E=-1;16>E;++E)r(Y,W+32*E-4,Y,W+32*E+12,4);for(E=-1;8>E;++E)r(ee,oe+32*E-4,ee,oe+32*E+4,4),r(ve,Le+32*E-4,ve,Le+32*E+4,4)}var we=m.Gd,Te=m.Hd+C,je=ie.ad,ke=ie.Hc;if(0<q&&(r(Y,W-32,we[Te].y,0,16),r(ee,oe-32,we[Te].f,0,8),r(ve,Le-32,we[Te].ea,0,8)),ie.Za){var Ve=Y,Be=W-32+16;for(0<q&&(C>=m.za-1?s(Ve,Be,we[Te].y[15],4):r(Ve,Be,we[Te+1].y,0,4)),E=0;4>E;E++)Ve[Be+128+E]=Ve[Be+256+E]=Ve[Be+384+E]=Ve[Be+0+E];for(E=0;16>E;++E,ke<<=2)Ve=Y,Be=W+xl[E],Ki[ie.Ob[E]](Ve,Be),Po(ke,je,16*+E,Ve,Be)}else if(Ve=ml(C,q,ie.Ob[0]),co[Ve](Y,W),ke!=0)for(E=0;16>E;++E,ke<<=2)Po(ke,je,16*+E,Y,W+xl[E]);for(E=ie.Gc,Ve=ml(C,q,ie.Dd),Ms[Ve](ee,oe),Ms[Ve](ve,Le),ke=je,Ve=ee,Be=oe,255&(ie=0|E)&&(170&ie?Ri(ke,256,Ve,Be):Un(ke,256,Ve,Be)),ie=ve,ke=Le,255&(E>>=8)&&(170&E?Ri(je,320,ie,ke):Un(je,320,ie,ke)),q<m.Ub-1&&(r(we[Te].y,0,Y,W+480,16),r(we[Te].f,0,ee,oe+224,8),r(we[Te].ea,0,ve,Le+224,8)),E=8*G*m.B,we=m.sa,Te=m.ta+16*C+16*G*m.R,je=m.qa,ie=m.ra+8*C+E,ke=m.Ha,Ve=m.Ia+8*C+E,E=0;16>E;++E)r(we,Te+E*m.R,Y,W+32*E,16);for(E=0;8>E;++E)r(je,ie+E*m.B,ee,oe+32*E,8),r(ke,Ve+E*m.B,ve,Le+32*E,8)}}function gl(m,b,E,C,q,G,Y,W,ee){var oe=[0],ve=[0],Le=0,ie=ee!=null?ee.kd:0,we=ee??new We;if(m==null||12>E)return 7;we.data=m,we.w=b,we.ha=E,b=[b],E=[E],we.gb=[we.gb];e:{var Te=b,je=E,ke=we.gb;if(e(m!=null),e(je!=null),e(ke!=null),ke[0]=0,12<=je[0]&&!t(m,Te[0],"RIFF")){if(t(m,Te[0]+8,"WEBP")){ke=3;break e}var Ve=vt(m,Te[0]+4);if(12>Ve||4294967286<Ve){ke=3;break e}if(ie&&Ve>je[0]-8){ke=7;break e}ke[0]=Ve,Te[0]+=12,je[0]-=12}ke=0}if(ke!=0)return ke;for(Ve=0<we.gb[0],E=E[0];;){e:{var Be=m;je=b,ke=E;var Je=oe,Ye=ve,St=Te=[0];if((mt=Le=[Le])[0]=0,8>ke[0])ke=7;else{if(!t(Be,je[0],"VP8X")){if(vt(Be,je[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var dt=vt(Be,je[0]+8),Jt=1+it(Be,je[0]+12);if(2147483648<=Jt*(Be=1+it(Be,je[0]+15))){ke=3;break e}St!=null&&(St[0]=dt),Je!=null&&(Je[0]=Jt),Ye!=null&&(Ye[0]=Be),je[0]+=18,ke[0]-=18,mt[0]=1}ke=0}}if(Le=Le[0],Te=Te[0],ke!=0)return ke;if(je=!!(2&Te),!Ve&&Le)return 3;if(G!=null&&(G[0]=!!(16&Te)),Y!=null&&(Y[0]=je),W!=null&&(W[0]=0),Y=oe[0],Te=ve[0],Le&&je&&ee==null){ke=0;break}if(4>E){ke=7;break}if(Ve&&Le||!Ve&&!Le&&!t(m,b[0],"ALPH")){E=[E],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{dt=m,ke=b,Ve=E;var mt=we.gb;Je=we.na,Ye=we.P,St=we.Sa,Jt=22,e(dt!=null),e(Ve!=null),Be=ke[0];var yn=Ve[0];for(e(Je!=null),e(St!=null),Je[0]=null,Ye[0]=null,St[0]=0;;){if(ke[0]=Be,Ve[0]=yn,8>yn){ke=7;break e}var jr=vt(dt,Be+4);if(4294967286<jr){ke=3;break e}var Xt=8+jr+1&-2;if(Jt+=Xt,0<mt&&Jt>mt){ke=3;break e}if(!t(dt,Be,"VP8 ")||!t(dt,Be,"VP8L")){ke=0;break e}if(yn[0]<Xt){ke=7;break e}t(dt,Be,"ALPH")||(Je[0]=dt,Ye[0]=Be+8,St[0]=jr),Be+=Xt,yn-=Xt}}if(E=E[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],ke!=0)break}E=[E],we.Ja=[we.Ja],we.xa=[we.xa];e:if(mt=m,ke=b,Ve=E,Je=we.gb[0],Ye=we.Ja,St=we.xa,dt=ke[0],Be=!t(mt,dt,"VP8 "),Jt=!t(mt,dt,"VP8L"),e(mt!=null),e(Ve!=null),e(Ye!=null),e(St!=null),8>Ve[0])ke=7;else{if(Be||Jt){if(mt=vt(mt,dt+4),12<=Je&&mt>Je-12){ke=3;break e}if(ie&&mt>Ve[0]-8){ke=7;break e}Ye[0]=mt,ke[0]+=8,Ve[0]-=8,St[0]=Jt}else St[0]=5<=Ve[0]&&mt[dt+0]==47&&!(mt[dt+4]>>5),Ye[0]=Ve[0];ke=0}if(E=E[0],we.Ja=we.Ja[0],we.xa=we.xa[0],b=b[0],ke!=0)break;if(4294967286<we.Ja)return 3;if(W==null||je||(W[0]=we.xa?2:1),Y=[Y],Te=[Te],we.xa){if(5>E){ke=7;break}W=Y,ie=Te,je=G,m==null||5>E?m=0:5<=E&&m[b+0]==47&&!(m[b+4]>>5)?(Ve=[0],mt=[0],Je=[0],Ie(Ye=new I,m,b,E),jn(Ye,Ve,mt,Je)?(W!=null&&(W[0]=Ve[0]),ie!=null&&(ie[0]=mt[0]),je!=null&&(je[0]=Je[0]),m=1):m=0):m=0}else{if(10>E){ke=7;break}W=Te,m==null||10>E||!Ta(m,b+3,E-3)?m=0:(ie=m[b+0]|m[b+1]<<8|m[b+2]<<16,je=16383&(m[b+7]<<8|m[b+6]),m=16383&(m[b+9]<<8|m[b+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=we.Ja||!je||!m?m=0:(Y&&(Y[0]=je),W&&(W[0]=m),m=1))}if(!m||(Y=Y[0],Te=Te[0],Le&&(oe[0]!=Y||ve[0]!=Te)))return 3;ee!=null&&(ee[0]=we,ee.offset=b-ee.w,e(4294967286>b-ee.w),e(ee.offset==ee.ha-E));break}return ke==0||ke==7&&Le&&ee==null?(G!=null&&(G[0]|=we.na!=null&&0<we.na.length),C!=null&&(C[0]=Y),q!=null&&(q[0]=Te),0):ke}function Do(m,b,E){var C=b.width,q=b.height,G=0,Y=0,W=C,ee=q;if(b.Da=m!=null&&0<m.Da,b.Da&&(W=m.cd,ee=m.bd,G=m.v,Y=m.j,11>E||(G&=-2,Y&=-2),0>G||0>Y||0>=W||0>=ee||G+W>C||Y+ee>q))return 0;if(b.v=G,b.j=Y,b.va=G+W,b.o=Y+ee,b.U=W,b.T=ee,b.da=m!=null&&0<m.da,b.da){if(!Nt(W,ee,E=[m.ib],G=[m.hb]))return 0;b.ib=E[0],b.hb=G[0]}return b.ob=m!=null&&m.ob,b.Kb=m==null||!m.Sd,b.da&&(b.ob=b.ib<3*C/4&&b.hb<3*q/4,b.Kb=0),1}function Ql(m){if(m==null)return 2;if(11>m.S){var b=m.f.RGBA;b.fb+=(m.height-1)*b.A,b.A=-b.A}else b=m.f.kb,m=m.height,b.O+=(m-1)*b.fa,b.fa=-b.fa,b.N+=(m-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(m-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(m-1)*b.lb,b.lb=-b.lb);return 0}function to(m,b,E,C){if(C==null||0>=m||0>=b)return 2;if(E!=null){if(E.Da){var q=E.cd,G=E.bd,Y=-2&E.v,W=-2&E.j;if(0>Y||0>W||0>=q||0>=G||Y+q>m||W+G>b)return 2;m=q,b=G}if(E.da){if(!Nt(m,b,q=[E.ib],G=[E.hb]))return 2;m=q[0],b=G[0]}}C.width=m,C.height=b;e:{var ee=C.width,oe=C.height;if(m=C.S,0>=ee||0>=oe||!(m>=Li&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){Y=G=q=b=0;var ve=(W=ee*ip[m])*oe;if(11>m||(G=(oe+1)/2*(b=(ee+1)/2),m==12&&(Y=(q=ee)*oe)),(oe=o(ve+2*G+Y))==null){m=1;break e}C.sd=oe,11>m?((ee=C.f.RGBA).eb=oe,ee.fb=0,ee.A=W,ee.size=ve):((ee=C.f.kb).y=oe,ee.O=0,ee.fa=W,ee.Fd=ve,ee.f=oe,ee.N=0+ve,ee.Ab=b,ee.Cd=G,ee.ea=oe,ee.W=0+ve+G,ee.Db=b,ee.Ed=G,m==12&&(ee.F=oe,ee.J=0+ve+2*G),ee.Tc=Y,ee.lb=q)}if(b=1,q=C.S,G=C.width,Y=C.height,q>=Li&&13>q)if(11>q)m=C.f.RGBA,b&=(W=Math.abs(m.A))*(Y-1)+G<=m.size,b&=W>=G*ip[q],b&=m.eb!=null;else{m=C.f.kb,W=(G+1)/2,ve=(Y+1)/2,ee=Math.abs(m.fa),oe=Math.abs(m.Ab);var Le=Math.abs(m.Db),ie=Math.abs(m.lb),we=ie*(Y-1)+G;b&=ee*(Y-1)+G<=m.Fd,b&=oe*(ve-1)+W<=m.Cd,b=(b&=Le*(ve-1)+W<=m.Ed)&ee>=G&oe>=W&Le>=W,b&=m.y!=null,b&=m.f!=null,b&=m.ea!=null,q==12&&(b&=ie>=G,b&=we<=m.Tc,b&=m.F!=null)}else b=0;m=b?0:2}}return m!=0||E!=null&&E.fd&&(m=Ql(C)),m}var no=64,$i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hs=24,ro=32,La=8,Oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(m){return m},R.Predictor2=function(m,b,E){return b[E+0]},R.Predictor3=function(m,b,E){return b[E+1]},R.Predictor4=function(m,b,E){return b[E-1]},R.Predictor5=function(m,b,E){return At(At(m,b[E+1]),b[E+0])},R.Predictor6=function(m,b,E){return At(m,b[E-1])},R.Predictor7=function(m,b,E){return At(m,b[E+0])},R.Predictor8=function(m,b,E){return At(b[E-1],b[E+0])},R.Predictor9=function(m,b,E){return At(b[E+0],b[E+1])},R.Predictor10=function(m,b,E){return At(At(m,b[E-1]),At(b[E+0],b[E+1]))},R.Predictor11=function(m,b,E){var C=b[E+0];return 0>=Ne(C>>24&255,m>>24&255,(b=b[E-1])>>24&255)+Ne(C>>16&255,m>>16&255,b>>16&255)+Ne(C>>8&255,m>>8&255,b>>8&255)+Ne(255&C,255&m,255&b)?C:m},R.Predictor12=function(m,b,E){var C=b[E+0];return(An((m>>24&255)+(C>>24&255)-((b=b[E-1])>>24&255))<<24|An((m>>16&255)+(C>>16&255)-(b>>16&255))<<16|An((m>>8&255)+(C>>8&255)-(b>>8&255))<<8|An((255&m)+(255&C)-(255&b)))>>>0},R.Predictor13=function(m,b,E){var C=b[E-1];return(nn((m=At(m,b[E+0]))>>24&255,C>>24&255)<<24|nn(m>>16&255,C>>16&255)<<16|nn(m>>8&255,C>>8&255)<<8|nn(255&m,255&C))>>>0};var nc=R.PredictorAdd0;R.PredictorAdd1=Fe,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var Jl=R.PredictorAdd2;ut("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Tr,$c=R.ColorIndexInverseTransform,yr=R.MapARGB,fs=R.VP8LColorIndexInverseTransformAlpha,Zl=R.MapAlpha,eu=R.VP8LPredictorsAdd=[];eu.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var tu,nu,Pa,Mo,Rs,io,Gs,so,Ls,Ri,bn,Un,vr,ar,Da,ru,yl,Kc,Qd,Jd,pf,mf,Wc,Ys,iu,Ps,Ds,vl,Xc=o(511),rc=o(2041),ic=o(225),Qc=o(767),bl=0,Jc=rc,_l=ic,oi=Qc,$s=Xc,Li=0,su=1,Oa=2,sc=3,wl=4,ao=5,Zc=6,ac=7,jo=8,oo=9,au=10,eh=[2,3,7],Ks=[3,3,11],Os=[280,256,256,256,40],Al=[0,1,1,1,0],lo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zd=8,oc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],lc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Gr=null,br=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Pn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Uo=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ma=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],El=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ep=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],co=[],Ki=[],Ms=[],tp=1,ou=2,ja=[],li=[];tt("UpsampleRgbLinePair",vi,3),tt("UpsampleBgrLinePair",Wn,3),tt("UpsampleRgbaLinePair",Yi,4),tt("UpsampleBgraLinePair",tc,4),tt("UpsampleArgbLinePair",eo,4),tt("UpsampleRgba4444LinePair",_i,2),tt("UpsampleRgb565LinePair",bi,2);var ho=R.UpsampleRgbLinePair,Fo=R.UpsampleBgrLinePair,Ua=R.UpsampleRgbaLinePair,th=R.UpsampleBgraLinePair,nh=R.UpsampleArgbLinePair,lu=R.UpsampleRgba4444LinePair,rh=R.UpsampleRgb565LinePair,Fa=16,Yr=1<<Fa-1,Bo=-227,ih=482,Ug=6,np=0,Fg=o(256),$r=o(256),yf=o(256),uc=o(256),cc=o(ih-Bo),vf=o(ih-Bo);Ra("YuvToRgbRow",vi,3),Ra("YuvToBgrRow",Wn,3),Ra("YuvToRgbaRow",Yi,4),Ra("YuvToBgraRow",tc,4),Ra("YuvToArgbRow",eo,4),Ra("YuvToRgba4444Row",_i,2),Ra("YuvToRgb565Row",bi,2);var xl=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],fo=[0,2,8],Bg=[8,7,6,4,4,2,2,2,1,1,1,1],rp=1;this.WebPDecodeRGBA=function(m,b,E,C,q){var G=su,Y=new ze,W=new Et;Y.ba=W,W.S=G,W.width=[W.width],W.height=[W.height];var ee=W.width,oe=W.height,ve=new Dt;if(ve==null||m==null)var Le=2;else e(ve!=null),Le=gl(m,b,E,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Le!=0?ee=0:(ee!=null&&(ee[0]=ve.width[0]),oe!=null&&(oe[0]=ve.height[0]),ee=1),ee){W.width=W.width[0],W.height=W.height[0],C!=null&&(C[0]=W.width),q!=null&&(q[0]=W.height);e:{if(C=new Ii,(q=new We).data=m,q.w=b,q.ha=E,q.kd=1,b=[0],e(q!=null),((m=gl(q.data,q.w,q.ha,null,null,null,b,null,q))==0||m==7)&&b[0]&&(m=4),(b=m)==0){if(e(Y!=null),C.data=q.data,C.w=q.w+q.offset,C.ha=q.ha-q.offset,C.put=jt,C.ac=ni,C.bc=ri,C.ma=Y,q.xa){if((m=Gn())==null){Y=1;break e}if((function(ie,we){var Te=[0],je=[0],ke=[0];t:for(;;){if(ie==null)return 0;if(we==null)return ie.a=2,0;if(ie.l=we,ie.a=0,Ie(ie.m,we.data,we.w,we.ha),!jn(ie.m,Te,je,ke)){ie.a=3;break t}if(ie.xb=ou,we.width=Te[0],we.height=je[0],!Es(Te[0],je[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(m,C)){if(C=(b=to(C.width,C.height,Y.Oa,Y.ba))==0){t:{C=m;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((E=C.l)!=null),e((q=E.ma)!=null),C.xb!=0){if(C.ca=q.ba,C.tb=q.tb,e(C.ca!=null),!Do(q.Oa,E,sc)){C.a=2;break n}if(!xs(C,E.width)||E.da)break n;if((E.da||Pt(C.ca.S))&&De(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&De()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!re(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!ii(C,C.V,C.Ba,C.c,C.i,E.o,Fi))break n;q.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(b=m.a)}else b=m.a}else{if((m=new sr)==null){Y=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,mi(m,C)){if((b=to(C.width,C.height,Y.Oa,Y.ba))==0){if(m.Aa=0,E=Y.Oa,e((q=m)!=null),E!=null){if(0<(ee=0>(ee=E.Md)?0:100<ee?255:255*ee/100)){for(oe=ve=0;4>oe;++oe)12>(Le=q.pb[oe]).lc&&(Le.ia=ee*Bg[0>Le.lc?0:Le.lc]>>3),ve|=Le.ia;ve&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=E.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(ie,we){if(ie==null)return 0;if(we==null)return Yn(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!mi(ie,we))return 0;if(e(ie.cb),we.ac==null||we.ac(we)){we.ob&&(ie.L=0);var Te=fo[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=we.v-Te>>4,ie.zb=we.j-Te>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=we.o+15+Te>>4,ie.Hb=we.va+15+Te>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var je=ie.ed;for(Te=0;4>Te;++Te){var ke;if(ie.Qa.Cb){var Ve=ie.Qa.Lb[Te];ie.Qa.Fb||(Ve+=je.Tb)}else Ve=je.Tb;for(ke=0;1>=ke;++ke){var Be=ie.gd[Te][ke],Je=Ve;if(je.Pc&&(Je+=je.vd[0],ke&&(Je+=je.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var Ye=Je;0<je.wb&&(Ye=4<je.wb?Ye>>2:Ye>>1)>9-je.wb&&(Ye=9-je.wb),1>Ye&&(Ye=1),Be.dd=Ye,Be.tc=2*Je+Ye,Be.ld=40<=Je?2:15<=Je?1:0}else Be.tc=0;Be.La=ke}}}Te=0}else Yn(ie,6,"Frame setup failed"),Te=ie.a;if(Te=Te==0){if(Te){ie.$c=0,0<ie.Aa||(ie.Ic=rp);t:{Te=ie.Ic,je=4*(Ye=ie.za);var St=32*Ye,dt=Ye+1,Jt=0<ie.L?Ye*(0<ie.Aa?2:1):0,mt=(ie.Aa==2?2:1)*Ye;if((Be=je+832+(ke=3*(16*Te+fo[ie.L])/2*St)+(Ve=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Be)Te=0;else{if(Be>ie.Vb){if(ie.Vb=0,ie.Ec=o(Be),ie.Fc=0,ie.Ec==null){Te=Yn(ie,1,"no memory during frame initialization.");break t}ie.Vb=Be}Be=ie.Ec,Je=ie.Fc,ie.Ac=Be,ie.Bc=Je,Je+=je,ie.Gd=u(St,Xa),ie.Hd=0,ie.rb=u(dt+1,Ni),ie.sb=1,ie.wa=Jt?u(Jt,si):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Ye),e(!0),ie.oc=Be,ie.pc=Je,Je+=832,ie.ya=u(mt,xa),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Ye),ie.R=16*Ye,ie.B=8*Ye,Ye=(St=fo[ie.L])*ie.R,St=St/2*ie.B,ie.sa=Be,ie.ta=Je+Ye,ie.qa=ie.sa,ie.ra=ie.ta+16*Te*ie.R+St,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Te*ie.B+St,ie.$c=0,Je+=ke,ie.mb=Ve?Be:null,ie.nb=Ve?Je:null,e(Je+Ve<=ie.Fc+ie.Vb),qs(ie),s(ie.Ac,ie.Bc,0,je),Te=1}}if(Te){if(we.ka=0,we.y=ie.sa,we.O=ie.ta,we.f=ie.qa,we.N=ie.ra,we.ea=ie.Ha,we.Vd=ie.Ia,we.fa=ie.R,we.Rc=ie.B,we.F=null,we.J=0,!bl){for(Te=-255;255>=Te;++Te)Xc[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)rc[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)ic[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)Qc[255+Te]=0>Te?0:255<Te?255:Te;bl=1}Gs=ss,so=Na,Ri=Ns,bn=cl,Un=zi,Ls=ul,vr=pl,ar=oa,Da=B,ru=ae,yl=Lo,Kc=S,Qd=ye,Jd=Ae,pf=ks,mf=aa,Wc=Xl,Ys=dl,Ki[0]=gi,Ki[1]=hl,Ki[2]=Ja,Ki[3]=Ia,Ki[4]=yi,Ki[5]=ls,Ki[6]=Ci,Ki[7]=qn,Ki[8]=Ro,Ki[9]=ia,co[0]=fl,co[1]=Kl,co[2]=ko,co[3]=as,co[4]=os,co[5]=qr,co[6]=Wl,Ms[0]=xr,Ms[1]=Co,Ms[2]=Is,Ms[3]=Za,Ms[4]=sa,Ms[5]=Mr,Ms[6]=Ca,Te=1}else Te=0}Te&&(Te=(function(yn,jr){for(yn.M=0;yn.M<yn.Va;++yn.M){var Xt,gt=yn.Jc[yn.M&yn.Xb],st=yn.m,pr=yn;for(Xt=0;Xt<pr.za;++Xt){var Zt=st,un=pr,yt=un.Ac,rn=un.Bc+4*Xt,Sn=un.zc,or=un.ya[un.aa+Xt];if(un.Qa.Bb?or.$b=Ue(Zt,un.Pa.jb[0])?2+Ue(Zt,un.Pa.jb[2]):Ue(Zt,un.Pa.jb[1]):or.$b=0,un.kc&&(or.Ad=Ue(Zt,un.Bd)),or.Za=!Ue(Zt,145)+0,or.Za){var Nr=or.Ob,Ir=0;for(un=0;4>un;++un){var _r,pn=Sn[0+un];for(_r=0;4>_r;++_r){pn=gf[yt[rn+_r]][pn];for(var En=Uo[Ue(Zt,pn[0])];0<En;)En=Uo[2*En+Ue(Zt,pn[En])];pn=-En,yt[rn+_r]=pn}r(Nr,Ir,yt,rn,4),Ir+=4,Sn[0+un]=pn}}else pn=Ue(Zt,156)?Ue(Zt,128)?1:3:Ue(Zt,163)?2:0,or.Ob[0]=pn,s(yt,rn,pn,4),s(Sn,0,pn,4);or.Dd=Ue(Zt,142)?Ue(Zt,114)?Ue(Zt,183)?1:3:2:0}if(pr.m.Ka)return Yn(yn,7,"Premature end-of-partition0 encountered.");for(;yn.ja<yn.za;++yn.ja){if(pr=gt,Zt=(st=yn).rb[st.sb-1],yt=st.rb[st.sb+st.ja],Xt=st.ya[st.aa+st.ja],rn=st.kc?Xt.Ad:0)Zt.la=yt.la=0,Xt.Za||(Zt.Na=yt.Na=0),Xt.Hc=0,Xt.Gc=0,Xt.ia=0;else{var wr,qt;if(Zt=yt,yt=pr,rn=st.Pa.Xc,Sn=st.ya[st.aa+st.ja],or=st.pb[Sn.$b],un=Sn.ad,Nr=0,Ir=st.rb[st.sb-1],pn=_r=0,s(un,Nr,0,384),Sn.Za)var Kr=0,js=rn[3];else{En=o(16);var Ar=Zt.Na+Ir.Na;if(Ar=Gr(yt,rn[1],Ar,or.Eb,0,En,0),Zt.Na=Ir.Na=(0<Ar)+0,1<Ar)Gs(En,0,un,Nr);else{var Wi=En[0]+3>>3;for(En=0;256>En;En+=16)un[Nr+En]=Wi}Kr=1,js=rn[0]}var Xn=15&Zt.la,Cr=15&Ir.la;for(En=0;4>En;++En){var Xi=1&Cr;for(Wi=qt=0;4>Wi;++Wi)Xn=Xn>>1|(Xi=(Ar=Gr(yt,js,Ar=Xi+(1&Xn),or.Sc,Kr,un,Nr))>Kr)<<7,qt=qt<<2|(3<Ar?3:1<Ar?2:un[Nr+0]!=0),Nr+=16;Xn>>=4,Cr=Cr>>1|Xi<<7,_r=(_r<<8|qt)>>>0}for(js=Xn,Kr=Cr>>4,wr=0;4>wr;wr+=2){for(qt=0,Xn=Zt.la>>4+wr,Cr=Ir.la>>4+wr,En=0;2>En;++En){for(Xi=1&Cr,Wi=0;2>Wi;++Wi)Ar=Xi+(1&Xn),Xn=Xn>>1|(Xi=0<(Ar=Gr(yt,rn[2],Ar,or.Qc,0,un,Nr)))<<3,qt=qt<<2|(3<Ar?3:1<Ar?2:un[Nr+0]!=0),Nr+=16;Xn>>=2,Cr=Cr>>1|Xi<<5}pn|=qt<<4*wr,js|=Xn<<4<<wr,Kr|=(240&Cr)<<wr}Zt.la=js,Ir.la=Kr,Sn.Hc=_r,Sn.Gc=pn,Sn.ia=43690&pn?0:or.ia,rn=!(_r|pn)}if(0<st.L&&(st.wa[st.Y+st.ja]=st.gd[Xt.$b][Xt.Za],st.wa[st.Y+st.ja].La|=!rn),pr.Ka)return Yn(yn,7,"Premature end-of-file encountered.")}if(qs(yn),st=jr,pr=1,Xt=(gt=yn).D,Zt=0<gt.L&&gt.M>=gt.zb&&gt.M<=gt.Va,gt.Aa==0)t:{if(Xt.M=gt.M,Xt.uc=Zt,ki(gt,Xt),pr=1,Xt=(qt=gt.D).Nb,Zt=(pn=fo[gt.L])*gt.R,yt=pn/2*gt.B,En=16*Xt*gt.R,Wi=8*Xt*gt.B,rn=gt.sa,Sn=gt.ta-Zt+En,or=gt.qa,un=gt.ra-yt+Wi,Nr=gt.Ha,Ir=gt.Ia-yt+Wi,Cr=(Xn=qt.M)==0,_r=Xn>=gt.Va-1,gt.Aa==2&&ki(gt,qt),qt.uc)for(Xi=(Ar=gt).D.M,e(Ar.D.uc),qt=Ar.yb;qt<Ar.Hb;++qt){Kr=qt,js=Xi;var wi=(nr=(Xr=Ar).D).Nb;wr=Xr.R;var nr=nr.wa[nr.Y+Kr],kn=Xr.sa,Pi=Xr.ta+16*wi*wr+16*Kr,Ai=nr.dd,Fn=nr.tc;if(Fn!=0)if(e(3<=Fn),Xr.L==1)0<Kr&&mf(kn,Pi,wr,Fn+4),nr.La&&Ys(kn,Pi,wr,Fn),0<js&&pf(kn,Pi,wr,Fn+4),nr.La&&Wc(kn,Pi,wr,Fn);else{var Qi=Xr.B,Wr=Xr.qa,Ba=Xr.ra+8*wi*Qi+8*Kr,la=Xr.Ha,Xr=Xr.Ia+8*wi*Qi+8*Kr;wi=nr.ld,0<Kr&&(ar(kn,Pi,wr,Fn+4,Ai,wi),ru(Wr,Ba,la,Xr,Qi,Fn+4,Ai,wi)),nr.La&&(Kc(kn,Pi,wr,Fn,Ai,wi),Jd(Wr,Ba,la,Xr,Qi,Fn,Ai,wi)),0<js&&(vr(kn,Pi,wr,Fn+4,Ai,wi),Da(Wr,Ba,la,Xr,Qi,Fn+4,Ai,wi)),nr.La&&(yl(kn,Pi,wr,Fn,Ai,wi),Qd(Wr,Ba,la,Xr,Qi,Fn,Ai,wi))}}if(gt.ia&&alert("todo:DitherRow"),st.put!=null){if(qt=16*Xn,Xn=16*(Xn+1),Cr?(st.y=gt.sa,st.O=gt.ta+En,st.f=gt.qa,st.N=gt.ra+Wi,st.ea=gt.Ha,st.W=gt.Ia+Wi):(qt-=pn,st.y=rn,st.O=Sn,st.f=or,st.N=un,st.ea=Nr,st.W=Ir),_r||(Xn-=pn),Xn>st.o&&(Xn=st.o),st.F=null,st.J=null,gt.Fa!=null&&0<gt.Fa.length&&qt<Xn&&(st.J=g(gt,st,qt,Xn-qt),st.F=gt.mb,st.F==null&&st.F.length==0)){pr=Yn(gt,3,"Could not decode alpha data.");break t}qt<st.j&&(pn=st.j-qt,qt=st.j,e(!(1&pn)),st.O+=gt.R*pn,st.N+=gt.B*(pn>>1),st.W+=gt.B*(pn>>1),st.F!=null&&(st.J+=st.width*pn)),qt<Xn&&(st.O+=st.v,st.N+=st.v>>1,st.W+=st.v>>1,st.F!=null&&(st.J+=st.v),st.ka=qt-st.j,st.U=st.va-st.v,st.T=Xn-qt,pr=st.put(st))}Xt+1!=gt.Ic||_r||(r(gt.sa,gt.ta-Zt,rn,Sn+16*gt.R,Zt),r(gt.qa,gt.ra-yt,or,un+8*gt.B,yt),r(gt.Ha,gt.Ia-yt,Nr,Ir+8*gt.B,yt))}if(!pr)return Yn(yn,6,"Output aborted.")}return 1})(ie,we)),we.bc!=null&&we.bc(we),Te&=1}return Te?(ie.cb=0,Te):0})(m,C)||(b=m.a)}}else b=m.a}b==0&&Y.Oa!=null&&Y.Oa.fd&&(b=Ql(Y.ba))}Y=b}G=Y!=0?null:11>G?W.f.RGBA.eb:W.f.kb.y}else G=null;return G};var ip=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,H){for(var N="",x=0;x<4;x++)N+=String.fromCharCode(R[H++]);return N}function p(R,H){return R[H+0]|R[H+1]<<8}function _(R,H){return(R[H+0]|R[H+1]<<8|R[H+2]<<16)>>>0}function A(R,H){return(R[H+0]|R[H+1]<<8|R[H+2]<<16|R[H+3]<<24)>>>0}new f;var v=[0],M=[0],U=[],z=new f,L=n,Q=(function(R,H){var N={},x=0,k=!1,Z=0,fe=0;if(N.frames=[],!(function(F,I){for(var ne=0;ne<4;ne++)if(F[I+ne]!="RIFF".charCodeAt(ne))return!0;return!1})(R,H)){for(A(R,H+=4),H+=8;H<R.length;){var se=d(R,H),ce=A(R,H+=4);H+=4;var pe=ce+(1&ce);switch(se){case"VP8 ":case"VP8L":N.frames[x]===void 0&&(N.frames[x]={}),(ge=N.frames[x]).src_off=k?fe:H-8,ge.src_size=Z+ce+8,x++,k&&(k=!1,Z=0,fe=0);break;case"VP8X":(ge=N.header={}).feature_flags=R[H];var Ie=H+4;ge.canvas_width=1+_(R,Ie),Ie+=3,ge.canvas_height=1+_(R,Ie),Ie+=3;break;case"ALPH":k=!0,Z=pe+8,fe=H-8;break;case"ANIM":(ge=N.header).bgcolor=A(R,H),Ie=H+4,ge.loop_count=p(R,Ie),Ie+=2;break;case"ANMF":var D,ge;(ge=N.frames[x]={}).offset_x=2*_(R,H),H+=3,ge.offset_y=2*_(R,H),H+=3,ge.width=1+_(R,H),H+=3,ge.height=1+_(R,H),H+=3,ge.duration=_(R,H),H+=3,D=R[H++],ge.dispose=1&D,ge.blend=D>>1&1}se!="ANMF"&&(H+=pe)}return N}})(L,0);Q.response=L,Q.rgbaoutput=!0,Q.dataurl=!1;var K=Q.header?Q.header:null,te=Q.frames?Q.frames:null;if(K){K.loop_counter=K.loop_count,v=[K.canvas_height],M=[K.canvas_width];for(var me=0;me<te.length&&te[me].blend!=0;me++);}var ue=te[0],V=z.WebPDecodeRGBA(L,ue.src_off,ue.src_size,M,v);ue.rgba=V,ue.imgwidth=M[0],ue.imgheight=v[0];for(var P=0;P<M[0]*v[0]*4;P++)U[P]=V[P];return this.width=M,this.height=v,this.data=U,this}(function(n){var e,t,r,s,o,u,c,f,d,p=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new f,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new u,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new u,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new p}]);var _=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=F;Object.defineProperty(this,"pdf",{get:function(){return I}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(re){ne=!!re}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(re){he=!!re}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(re){isNaN(re)||(le=re)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(re){isNaN(re)||(_e=re)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(re){var rt;typeof re=="number"?rt=[re,re,re,re]:((rt=new Array(4))[0]=re[0],rt[1]=re.length>=2?re[1]:rt[0],rt[2]=re.length>=3?re[2]:rt[0],rt[3]=re.length>=4?re[3]:rt[1]),d.margin=rt}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(re){Se=re}});var Re=0;Object.defineProperty(this,"lastBreak",{get:function(){return Re},set:function(re){Re=re}});var Ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ue},set:function(re){Ue=re}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(re){re instanceof p&&(d=re)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(re){d.path=re}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(re){Qe=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var rt;rt=A(re),this.ctx.fillStyle=rt.style,this.ctx.isFillTransparent=rt.a===0,this.ctx.fillOpacity=rt.a,this.pdf.setFillColor(rt.r,rt.g,rt.b,{a:rt.a}),this.pdf.setTextColor(rt.r,rt.g,rt.b,{a:rt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var rt=A(re);this.ctx.strokeStyle=rt.style,this.ctx.isStrokeTransparent=rt.a===0,this.ctx.strokeOpacity=rt.a,rt.a===0?this.pdf.setDrawColor(255,255,255):(rt.a,this.pdf.setDrawColor(rt.r,rt.g,rt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var at=null,it=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(re){at=null,it=null,vt=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var rt;if(this.ctx.font=re,(rt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var Tt=rt[1];rt[2];var Nt=rt[3],qe=rt[4];rt[5];var ct=rt[6],ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(qe)[2];qe=Math.floor(ot==="px"?parseFloat(qe)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(qe)*this.pdf.getFontSize():parseFloat(qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(qe);var It=(function(ut){var Cn,Ot,Mt=[],Rt=ut.trim();if(Rt==="")return z0;if(Rt in CA)return[CA[Rt]];for(;Rt!=="";){switch(Ot=null,Cn=(Rt=RA(Rt)).charAt(0)){case'"':case"'":Ot=aU(Rt.substring(1),Cn);break;default:Ot=oU(Rt)}if(Ot===null||(Mt.push(Ot[0]),(Rt=RA(Ot[1]))!==""&&Rt.charAt(0)!==","))return z0;Rt=Rt.replace(/^,/,"")}return Mt})(ct);if(this.fontFaces){var At=(function(ut,Cn){var Ot=ut.getFontList(),Mt=JSON.stringify(Ot);if(at===null||it!==Mt){var Rt=(function(zt){var ft=[];return Object.keys(zt).forEach(function(ln){zt[ln].forEach(function(Pt){var Bt=null;switch(Pt){case"bold":Bt={family:ln,weight:"bold"};break;case"italic":Bt={family:ln,style:"italic"};break;case"bolditalic":Bt={family:ln,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:ln}}Bt!==null&&(Bt.ref={name:ln,style:Pt},ft.push(Bt))})}),ft})(Ot);at=(function(zt){for(var ft={},ln=0;ln<zt.length;++ln){var Pt=V0(zt[ln]),Bt=Pt.family,Mn=Pt.stretch,Et=Pt.style,Dt=Pt.weight;ft[Bt]=ft[Bt]||{},ft[Bt][Mn]=ft[Bt][Mn]||{},ft[Bt][Mn][Et]=ft[Bt][Mn][Et]||{},ft[Bt][Mn][Et][Dt]=Pt}return ft})(Rt.concat(Cn)),it=Mt}return at})(this.pdf,this.fontFaces),An=It.map(function(ut){return{family:ut,stretch:"normal",weight:Nt,style:Tt}}),nn=(function(ut,Cn,Ot){for(var Mt=(Ot=Ot||{}).defaultFontFamily||"times",Rt=Object.assign({},sU,Ot.genericFontFamilies||{}),zt=null,ft=null,ln=0;ln<Cn.length;++ln)if(Rt[(zt=V0(Cn[ln])).family]&&(zt.family=Rt[zt.family]),ut.hasOwnProperty(zt.family)){ft=ut[zt.family];break}if(!(ft=ft||ut[Mt]))throw new Error("Could not find a font-family for the rule '"+kA(zt)+"' and default family '"+Mt+"'.");if(ft=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];var Mn=F2[Pt],Et=Mn<=F2.normal?-1:1,Dt=IA(Bt,fx,Mn,Et);if(!Dt)throw new Error("Could not find a matching font-stretch value for "+Pt);return Dt})(zt.stretch,ft),ft=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];for(var Mn=hx[Pt],Et=0;Et<Mn.length;++Et)if(Bt[Mn[Et]])return Bt[Mn[Et]];throw new Error("Could not find a matching font-style for "+Pt)})(zt.style,ft),!(ft=(function(Pt,Bt){if(Bt[Pt])return Bt[Pt];if(Pt===400&&Bt[500])return Bt[500];if(Pt===500&&Bt[400])return Bt[400];var Mn=iU[Pt],Et=IA(Bt,dx,Mn,Pt<400?-1:1);if(!Et)throw new Error("Could not find a matching font-weight for value "+Pt);return Et})(zt.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+kA(zt)+"'.");return ft})(At,An);this.pdf.setFont(nn.ref.name,nn.ref.style)}else{var Ne="";(Nt==="bold"||parseInt(Nt,10)>=700||Tt==="bold")&&(Ne="bold"),Tt==="italic"&&(Ne+="italic"),Ne.length===0&&(Ne="normal");for(var Fe="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<It.length;Ke++){if(this.pdf.internal.getFont(It[Ke],Ne,{noFallback:!0,disableWarning:!0})!==void 0){Fe=It[Ke];break}if(Ne==="bolditalic"&&this.pdf.internal.getFont(It[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fe=It[Ke],Ne="bold";else if(this.pdf.internal.getFont(It[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fe=It[Ke],Ne="normal";break}}if(Fe===""){for(var lt=0;lt<It.length;lt++)if(et[It[lt]]){Fe=et[It[lt]];break}}Fe=Fe===""?"Times":Fe,this.pdf.setFont(Fe,Ne)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};_.prototype.setLineDash=function(F){this.lineDash=F},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){te.call(this,"fill",!1)},_.prototype.stroke=function(){te.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(F,I){if(isNaN(F)||isNaN(I))throw ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new u(F,I));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new u(F,I)},_.prototype.closePath=function(){var F=new u(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&er(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){F=new u(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(F.x,F.y)},_.prototype.lineTo=function(F,I){if(isNaN(F)||isNaN(I))throw ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new u(F,I));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new u(ne.x,ne.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),te.call(this,null,!0)},_.prototype.quadraticCurveTo=function(F,I,ne,he){if(isNaN(ne)||isNaN(he)||isNaN(F)||isNaN(I))throw ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new u(ne,he)),_e=this.ctx.transform.applyToPoint(new u(F,I));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:le.x,y:le.y}),this.ctx.lastPoint=new u(le.x,le.y)},_.prototype.bezierCurveTo=function(F,I,ne,he,le,_e){if(isNaN(le)||isNaN(_e)||isNaN(F)||isNaN(I)||isNaN(ne)||isNaN(he))throw ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new u(le,_e)),Re=this.ctx.transform.applyToPoint(new u(F,I)),Ue=this.ctx.transform.applyToPoint(new u(ne,he));this.path.push({type:"bct",x1:Re.x,y1:Re.y,x2:Ue.x,y2:Ue.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new u(Se.x,Se.y)},_.prototype.arc=function(F,I,ne,he,le,_e){if(isNaN(F)||isNaN(I)||isNaN(ne)||isNaN(he)||isNaN(le))throw ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new u(F,I));F=Se.x,I=Se.y;var Re=this.ctx.transform.applyToPoint(new u(0,ne)),Ue=this.ctx.transform.applyToPoint(new u(0,0));ne=Math.sqrt(Math.pow(Re.x-Ue.x,2)+Math.pow(Re.y-Ue.y,2))}Math.abs(le-he)>=2*Math.PI&&(he=0,le=2*Math.PI),this.path.push({type:"arc",x:F,y:I,radius:ne,startAngle:he,endAngle:le,counterclockwise:_e})},_.prototype.arcTo=function(F,I,ne,he,le){throw new Error("arcTo not implemented.")},_.prototype.rect=function(F,I,ne,he){if(isNaN(F)||isNaN(I)||isNaN(ne)||isNaN(he))throw ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,I),this.lineTo(F+ne,I),this.lineTo(F+ne,I+he),this.lineTo(F,I+he),this.lineTo(F,I),this.lineTo(F+ne,I),this.lineTo(F,I)},_.prototype.fillRect=function(F,I,ne,he){if(isNaN(F)||isNaN(I)||isNaN(ne)||isNaN(he))throw ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,I,ne,he),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},_.prototype.strokeRect=function(F,I,ne,he){if(isNaN(F)||isNaN(I)||isNaN(ne)||isNaN(he))throw ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(F,I,ne,he),this.stroke())},_.prototype.clearRect=function(F,I,ne,he){if(isNaN(F)||isNaN(I)||isNaN(ne)||isNaN(he))throw ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,I,ne,he))},_.prototype.save=function(F){F=typeof F!="boolean"||F;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},_.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(I),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(F){var I,ne,he,le;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))I=0,ne=0,he=0,le=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(_e!==null)I=parseInt(_e[1]),ne=parseInt(_e[2]),he=parseInt(_e[3]),le=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)I=parseInt(_e[1]),ne=parseInt(_e[2]),he=parseInt(_e[3]),le=parseFloat(_e[4]);else{if(le=1,typeof F=="string"&&F.charAt(0)!=="#"){var Se=new ix(F);F=Se.ok?Se.toHex():"#000000"}F.length===4?(I=F.substring(1,2),I+=I,ne=F.substring(2,3),ne+=ne,he=F.substring(3,4),he+=he):(I=F.substring(1,3),ne=F.substring(3,5),he=F.substring(5,7)),I=parseInt(I,16),ne=parseInt(ne,16),he=parseInt(he,16)}}return{r:I,g:ne,b:he,a:le,style:F}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(F,I,ne,he){if(isNaN(I)||isNaN(ne)||typeof F!="string")throw ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!v.call(this)){var le=pe(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;x.call(this,{text:F,x:I,y:ne,scale:_e,angle:le,align:this.textAlign,maxWidth:he})}},_.prototype.strokeText=function(F,I,ne,he){if(isNaN(I)||isNaN(ne)||typeof F!="string")throw ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){he=isNaN(he)?void 0:he;var le=pe(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;x.call(this,{text:F,x:I,y:ne,scale:_e,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:he})}},_.prototype.measureText=function(F){if(typeof F!="string")throw ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,ne=this.pdf.internal.scaleFactor,he=I.internal.getFontSize(),le=I.getStringUnitWidth(F)*he/I.internal.scaleFactor;return new function(_e){var Se=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:le*=Math.round(96*ne/72*1e4)/1e4})},_.prototype.scale=function(F,I){if(isNaN(F)||isNaN(I))throw ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new f(F,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},_.prototype.rotate=function(F){if(isNaN(F))throw ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new f(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},_.prototype.translate=function(F,I){if(isNaN(F)||isNaN(I))throw ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new f(1,0,0,1,F,I);this.ctx.transform=this.ctx.transform.multiply(ne)},_.prototype.transform=function(F,I,ne,he,le,_e){if(isNaN(F)||isNaN(I)||isNaN(ne)||isNaN(he)||isNaN(le)||isNaN(_e))throw ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new f(F,I,ne,he,le,_e);this.ctx.transform=this.ctx.transform.multiply(Se)},_.prototype.setTransform=function(F,I,ne,he,le,_e){F=isNaN(F)?1:F,I=isNaN(I)?0:I,ne=isNaN(ne)?0:ne,he=isNaN(he)?1:he,le=isNaN(le)?0:le,_e=isNaN(_e)?0:_e,this.ctx.transform=new f(F,I,ne,he,le,_e)};var U=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(F,I,ne,he,le,_e,Se,Re,Ue){var Qe=this.pdf.getImageProperties(F),at=1,it=1,vt=1,re=1;he!==void 0&&Re!==void 0&&(vt=Re/he,re=Ue/le,at=Qe.width/he*Re/he,it=Qe.height/le*Ue/le),_e===void 0&&(_e=I,Se=ne,I=0,ne=0),he!==void 0&&Re===void 0&&(Re=he,Ue=le),he===void 0&&Re===void 0&&(Re=Qe.width,Ue=Qe.height);var rt=this.ctx.transform.decompose(),Tt=pe(rt.rotate.shx),Nt=new f,qe=(Nt=(Nt=(Nt=Nt.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new c(_e-I*vt,Se-ne*re,he*at,le*it));if(this.autoPaging){for(var ct,ot=z.call(this,qe),It=[],At=0;At<ot.length;At+=1)It.indexOf(ot[At])===-1&&It.push(ot[At]);K(It);for(var An=It[0],nn=It[It.length-1],Ne=An;Ne<nn+1;Ne++){this.pdf.setPage(Ne);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Ne===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Ne===1?0:Ke+(Ne-2)*lt;if(this.ctx.clip_path.length!==0){var Cn=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(ct,this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset),me.call(this,"fill",!0),this.path=Cn}var Ot=JSON.parse(JSON.stringify(qe));Ot=Q([Ot],this.posX+this.margin[3],-ut+et+this.ctx.prevPageLastElemOffset)[0];var Mt=(Ne>An||Ne<nn)&&U.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,lt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,Tt),Mt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(F,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Tt)};var z=function(F,I,ne){var he=[];I=I||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":he.push(Math.floor((F.y+le)/ne)+1);break;case"arc":he.push(Math.floor((F.y+le-F.radius)/ne)+1),he.push(Math.floor((F.y+le+F.radius)/ne)+1);break;case"qct":var _e=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);he.push(Math.floor((_e.y+le)/ne)+1),he.push(Math.floor((_e.y+_e.h+le)/ne)+1);break;case"bct":var Se=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);he.push(Math.floor((Se.y+le)/ne)+1),he.push(Math.floor((Se.y+Se.h+le)/ne)+1);break;case"rect":he.push(Math.floor((F.y+le)/ne)+1),he.push(Math.floor((F.y+F.h+le)/ne)+1)}for(var Re=0;Re<he.length;Re+=1)for(;this.pdf.internal.getNumberOfPages()<he[Re];)L.call(this);return he},L=function(){var F=this.fillStyle,I=this.strokeStyle,ne=this.font,he=this.lineCap,le=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=I,this.font=ne,this.lineCap=he,this.lineWidth=le,this.lineJoin=_e},Q=function(F,I,ne){for(var he=0;he<F.length;he++)switch(F[he].type){case"bct":F[he].x2+=I,F[he].y2+=ne;case"qct":F[he].x1+=I,F[he].y1+=ne;default:F[he].x+=I,F[he].y+=ne}return F},K=function(F){return F.sort(function(I,ne){return I-ne})},te=function(F,I){var ne=this.fillStyle,he=this.strokeStyle,le=this.lineCap,_e=this.lineWidth,Se=Math.abs(_e*this.ctx.transform.scaleX),Re=this.lineJoin;if(this.autoPaging){for(var Ue,Qe,at=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),vt=[],re=0;re<it.length;re++)if(it[re].x!==void 0)for(var rt=z.call(this,it[re]),Tt=0;Tt<rt.length;Tt+=1)vt.indexOf(rt[Tt])===-1&&vt.push(rt[Tt]);for(var Nt=0;Nt<vt.length;Nt++)for(;this.pdf.internal.getNumberOfPages()<vt[Nt];)L.call(this);K(vt);for(var qe=vt[0],ct=vt[vt.length-1],ot=qe;ot<ct+1;ot++){this.pdf.setPage(ot),this.fillStyle=ne,this.strokeStyle=he,this.lineCap=le,this.lineWidth=Se,this.lineJoin=Re;var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=ot===1?this.posY+this.margin[0]:this.margin[0],An=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ne=ot===1?0:An+(ot-2)*nn;if(this.ctx.clip_path.length!==0){var Fe=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Ue,this.posX+this.margin[3],-Ne+At+this.ctx.prevPageLastElemOffset),me.call(this,F,!0),this.path=Fe}if(Qe=JSON.parse(JSON.stringify(at)),this.path=Q(Qe,this.posX+this.margin[3],-Ne+At+this.ctx.prevPageLastElemOffset),I===!1||ot===0){var et=(ot>qe||ot<ct)&&U.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,nn,null).clip().discardPath()),me.call(this,F,I),et&&this.pdf.restoreGraphicsState()}this.lineWidth=_e}this.path=at}else this.lineWidth=Se,me.call(this,F,I),this.lineWidth=_e},me=function(F,I){if((F!=="stroke"||I||!M.call(this))&&(F==="stroke"||I||!v.call(this))){for(var ne,he,le=[],_e=this.path,Se=0;Se<_e.length;Se++){var Re=_e[Se];switch(Re.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Re,deltas:[],abs:[]});break;case"lt":var Ue=le.length;if(_e[Se-1]&&!isNaN(_e[Se-1].x)&&(ne=[Re.x-_e[Se-1].x,Re.y-_e[Se-1].y],Ue>0)){for(;Ue>=0;Ue--)if(le[Ue-1].close!==!0&&le[Ue-1].begin!==!0){le[Ue-1].deltas.push(ne),le[Ue-1].abs.push(Re);break}}break;case"bct":ne=[Re.x1-_e[Se-1].x,Re.y1-_e[Se-1].y,Re.x2-_e[Se-1].x,Re.y2-_e[Se-1].y,Re.x-_e[Se-1].x,Re.y-_e[Se-1].y],le[le.length-1].deltas.push(ne);break;case"qct":var Qe=_e[Se-1].x+2/3*(Re.x1-_e[Se-1].x),at=_e[Se-1].y+2/3*(Re.y1-_e[Se-1].y),it=Re.x+2/3*(Re.x1-Re.x),vt=Re.y+2/3*(Re.y1-Re.y),re=Re.x,rt=Re.y;ne=[Qe-_e[Se-1].x,at-_e[Se-1].y,it-_e[Se-1].x,vt-_e[Se-1].y,re-_e[Se-1].x,rt-_e[Se-1].y],le[le.length-1].deltas.push(ne);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Re)}}he=I?null:F==="stroke"?"stroke":"fill";for(var Tt=!1,Nt=0;Nt<le.length;Nt++)if(le[Nt].arc)for(var qe=le[Nt].abs,ct=0;ct<qe.length;ct++){var ot=qe[ct];ot.type==="arc"?P.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,I,!Tt):k.call(this,ot.x,ot.y),Tt=!0}else if(le[Nt].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(le[Nt].begin!==!0){var It=le[Nt].start.x,At=le[Nt].start.y;Z.call(this,le[Nt].deltas,It,At),Tt=!0}he&&R.call(this,he),I&&H.call(this)}},ue=function(F){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ne;case"top":return F+I-ne;case"hanging":return F+I-2*ne;case"middle":return F+I/2-ne;default:return F}},V=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(I,ne){this.colorStops.push([I,ne])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(F,I,ne,he,le,_e,Se,Re,Ue){for(var Qe=se.call(this,ne,he,le,_e),at=0;at<Qe.length;at++){var it=Qe[at];at===0&&(Ue?N.call(this,it.x1+F,it.y1+I):k.call(this,it.x1+F,it.y1+I)),fe.call(this,F,I,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}Re?H.call(this):R.call(this,Se)},R=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(F,I){this.pdf.internal.out(t(F)+" "+r(I)+" m")},x=function(F){var I;switch(F.align){case"right":case"end":I="right";break;case"center":I="center";break;default:I="left"}var ne,he,le,_e=this.pdf.getTextDimensions(F.text),Se=ue.call(this,F.y),Re=V.call(this,Se)-_e.h,Ue=this.ctx.transform.applyToPoint(new u(F.x,Se));if(this.autoPaging){var Qe=this.ctx.transform.decompose(),at=new f;at=(at=(at=at.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale);for(var it=this.ctx.transform.applyToRectangle(new c(F.x,Se,_e.w,_e.h)),vt=at.applyToRectangle(new c(F.x,Re,_e.w,_e.h)),re=z.call(this,vt),rt=[],Tt=0;Tt<re.length;Tt+=1)rt.indexOf(re[Tt])===-1&&rt.push(re[Tt]);K(rt);for(var Nt=rt[0],qe=rt[rt.length-1],ct=Nt;ct<qe+1;ct++){this.pdf.setPage(ct);var ot=ct===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],An=At-this.margin[0],nn=this.pdf.internal.pageSize.width-this.margin[1],Ne=nn-this.margin[3],Fe=ct===1?0:It+(ct-2)*An;if(this.ctx.clip_path.length!==0){var et=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(ne,this.posX+this.margin[3],-1*Fe+ot),me.call(this,"fill",!0),this.path=et}var Ke=Q([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-Fe+ot+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*F.scale),le=this.lineWidth,this.lineWidth=le*F.scale);var lt=this.autoPaging!=="text";if(lt||Ke.y+Ke.h<=At){if(lt||Ke.y>=ot&&Ke.x<=nn){var ut=lt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||nn-Ke.x)[0],Cn=Q([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-Fe+ot+this.ctx.prevPageLastElemOffset)[0],Ot=lt&&(ct>Nt||ct<qe)&&U.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,An,null).clip().discardPath()),this.pdf.text(ut,Cn.x,Cn.y,{angle:F.angle,align:I,renderingMode:F.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else Ke.y<At&&(this.ctx.prevPageLastElemOffset+=At-Ke.y);F.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=le)}}else F.scale>=.01&&(he=this.pdf.internal.getFontSize(),this.pdf.setFontSize(he*F.scale),le=this.lineWidth,this.lineWidth=le*F.scale),this.pdf.text(F.text,Ue.x+this.posX,Ue.y+this.posY,{angle:F.angle,align:I,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(he),this.lineWidth=le)},k=function(F,I,ne,he){ne=ne||0,he=he||0,this.pdf.internal.out(t(F+ne)+" "+r(I+he)+" l")},Z=function(F,I,ne){return this.pdf.lines(F,I,ne,null,null)},fe=function(F,I,ne,he,le,_e,Se,Re){this.pdf.internal.out([e(s(ne+F)),e(o(he+I)),e(s(le+F)),e(o(_e+I)),e(s(Se+F)),e(o(Re+I)),"c"].join(" "))},se=function(F,I,ne,he){for(var le=2*Math.PI,_e=Math.PI/2;I>ne;)I-=le;var Se=Math.abs(ne-I);Se<le&&he&&(Se=le-Se);for(var Re=[],Ue=he?-1:1,Qe=I;Se>1e-5;){var at=Qe+Ue*Math.min(Se,_e);Re.push(ce.call(this,F,Qe,at)),Se-=Math.abs(at-Qe),Qe=at}return Re},ce=function(F,I,ne){var he=(ne-I)/2,le=F*Math.cos(he),_e=F*Math.sin(he),Se=le,Re=-_e,Ue=Se*Se+Re*Re,Qe=Ue+Se*le+Re*_e,at=4/3*(Math.sqrt(2*Ue*Qe)-Qe)/(Se*_e-Re*le),it=Se-at*Re,vt=Re+at*Se,re=it,rt=-vt,Tt=he+I,Nt=Math.cos(Tt),qe=Math.sin(Tt);return{x1:F*Math.cos(I),y1:F*Math.sin(I),x2:it*Nt-vt*qe,y2:it*qe+vt*Nt,x3:re*Nt-rt*qe,y3:re*qe+rt*Nt,x4:F*Math.cos(ne),y4:F*Math.sin(ne)}},pe=function(F){return 180*F/Math.PI},Ie=function(F,I,ne,he,le,_e){var Se=F+.5*(ne-F),Re=I+.5*(he-I),Ue=le+.5*(ne-le),Qe=_e+.5*(he-_e),at=Math.min(F,le,Se,Ue),it=Math.max(F,le,Se,Ue),vt=Math.min(I,_e,Re,Qe),re=Math.max(I,_e,Re,Qe);return new c(at,vt,it-at,re-vt)},D=function(F,I,ne,he,le,_e,Se,Re){var Ue,Qe,at,it,vt,re,rt,Tt,Nt,qe,ct,ot,It,At,An=ne-F,nn=he-I,Ne=le-ne,Fe=_e-he,et=Se-le,Ke=Re-_e;for(Qe=0;Qe<41;Qe++)Nt=(rt=(at=F+(Ue=Qe/40)*An)+Ue*((vt=ne+Ue*Ne)-at))+Ue*(vt+Ue*(le+Ue*et-vt)-rt),qe=(Tt=(it=I+Ue*nn)+Ue*((re=he+Ue*Fe)-it))+Ue*(re+Ue*(_e+Ue*Ke-re)-Tt),Qe==0?(ct=Nt,ot=qe,It=Nt,At=qe):(ct=Math.min(ct,Nt),ot=Math.min(ot,qe),It=Math.max(It,Nt),At=Math.max(At,qe));return new c(Math.round(ct),Math.round(ot),Math.round(It-ct),Math.round(At-ot))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,I,ne=(F=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:I}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(kt.API),(function(n){var e=function(u){var c,f,d,p,_,A,v,M,U,z;for(f=[],d=0,p=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;p>d;d+=4)(_=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(A=(_=((_=((_=((_=(_-(z=_%85))/85)-(U=_%85))/85)-(M=_%85))/85)-(v=_%85))/85)%85,f.push(A+33,v+33,M+33,U+33,z+33)):f.push(122);return(function(L,Q){for(var K=Q;K>0;K--)L.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,p,_,A=String,v="length",M=255,U="charCodeAt",z="slice",L="replace";for(u[z](-2),u=u[z](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),d=[],p=0,_=(u+=c="uuuuu"[z](u[v]%5||5))[v];_>p;p+=5)f=52200625*(u[U](p)-33)+614125*(u[U](p+1)-33)+7225*(u[U](p+2)-33)+85*(u[U](p+3)-33)+(u[U](p+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function(Q,K){for(var te=K;te>0;te--)Q.pop()})(d,c[v]),A.fromCharCode.apply(A,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=L2(c)).reduce(function(d,p){return d+String.fromCharCode(p)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:p.reverse().join(" ")}}})(kt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,p){var _=new XMLHttpRequest,A=0,v=function(M){var U=M.length,z=[],L=String.fromCharCode;for(A=0;A<U;A+=1)z.push(L(255&M.charCodeAt(A)));return z.join("")};if(_.open("GET",f,!d),_.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(_.onload=function(){_.status===200?p(v(this.responseText)):p(void 0)}),_.send(null),d&&_.status===200)return v(_.responseText)})(s,o,u)}catch{}return c})(e,t,r)},n.loadImageFile=n.loadFile})(kt.API),(function(n){function e(){return(en.html2canvas?Promise.resolve(en.html2canvas):S0(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(en.DOMPurify?Promise.resolve(en.DOMPurify):S0(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=er(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var p in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[p]=f.style[p];return d},o=function c(f,d){for(var p=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),_=f.firstChild;_;_=_.nextSibling)d!==!0&&_.nodeType===1&&_.nodeName==="SCRIPT"||p.appendChild(c(_,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(p.value=f.value),p.addEventListener("load",function(){p.scrollTop=f.scrollTop,p.scrollLeft=f.scrollLeft},!0)),p},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),d);return(p=p.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,p=this.opt.fontFaces,_=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=p,p)for(var v=0;v<p.length;++v){var M=p[v],U=M.src.find(function(z){return z.format==="truetype"});U&&d.addFont(U.url,M.ref.name,M.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,d.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,p){return Math.floor(d*p/72*96)}return this.then(function(){(c=c||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,p){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,p){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,p?this.progress.stack.concat(p):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(p,_){return d.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(A){return d.updateProgress(null,p),A}).then(p,_).then(function(A){return d.updateProgress(1),A})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),f&&(f=f.bind(p));var _=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:u.convert(Object.assign({},p),Promise.prototype),A=d.call(_,c,f);return u.convert(A,p.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,kt.getPageSize=function(c,f,d){if(er(c)==="object"){var p=c;c=p.orientation,f=p.unit||f,d=p.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var _,A=(""+d).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+f}var M,U=0,z=0;if(v.hasOwnProperty(A))U=v[A][1]/_,z=v[A][0]/_;else try{U=d[1],z=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",z>U&&(M=z,z=U,U=M);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",U>z&&(M=z,z=U,U=M)}return{width:z,height:U,unit:f,k:_,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(V0):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(kt.API),kt.API.addJS=function(n){return PA=n,this.internal.events.subscribe("postPutResources",function(){fm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),LA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fm!==void 0&&LA!==void 0&&this.internal.out("/Names <</JavaScript "+fm+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(o=0;o<d;o++){var _=t.internal.newObject();p.push(_);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<p.length;o++)t.internal.write("(page_"+(o+1)+")"+p[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(kt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,u,c){var f,d=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(_){for(var A,v=256*_.charCodeAt(4)+_.charCodeAt(5),M=_.length,U={width:0,height:0,numcomponents:1},z=4;z<M;z+=2){if(z+=v,e.indexOf(_.charCodeAt(z+1))!==-1){A=256*_.charCodeAt(z+5)+_.charCodeAt(z+6),U={width:256*_.charCodeAt(z+7)+_.charCodeAt(z+8),height:A,numcomponents:_.charCodeAt(z+9)};break}v=256*_.charCodeAt(z+2)+_.charCodeAt(z+3)}return U})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return p}})(kt.API),kt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=Hj(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,p=o.depth;s=d&&f===1?(function(P){for(var R=P.width,H=P.height,N=P.data,x=P.palette,k=P.depth,Z=!1,fe=[],se=[],ce=void 0,pe=!1,Ie=0,D=0;D<x.length;D++){var ge=jw(x[D],4),F=ge[0],I=ge[1],ne=ge[2],he=ge[3];fe.push(F,I,ne),he!=null&&(he===0?(Ie++,se.length<1&&se.push(D)):he<255&&(pe=!0))}if(pe||Ie>1){Z=!0,se=void 0;var le=R*H;ce=new Uint8Array(le);for(var _e=new DataView(N.buffer),Se=0;Se<le;Se++){var Re=q0(_e,Se,k),Ue=jw(x[Re],4)[3];ce[Se]=Ue}}else Ie===0&&(se=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Z?8:void 0,colorBytes:N,alphaBytes:ce,needSMask:Z,palette:fe,mask:se}})(o):f===2||f===4?(function(P){for(var R=P.data,H=P.width,N=P.height,x=P.channels,k=P.depth,Z=x===2?"DeviceGray":"DeviceRGB",fe=x-1,se=H*N,ce=fe,pe=se*ce,Ie=1*se,D=Math.ceil(pe*k/8),ge=Math.ceil(Ie*k/8),F=new Uint8Array(D),I=new Uint8Array(ge),ne=new DataView(R.buffer),he=new DataView(F.buffer),le=new DataView(I.buffer),_e=!1,Se=0;Se<se;Se++){for(var Re=Se*x,Ue=0;Ue<ce;Ue++)zA(he,q0(ne,Re+Ue,k),Se*ce+Ue,k);var Qe=q0(ne,Re+ce,k);Qe<(1<<k)-1&&(_e=!0),zA(le,Qe,1*Se,k)}return{colorSpace:Z,colorsPerPixel:fe,sMaskBitsPerComponent:_e?k:void 0,colorBytes:F,alphaBytes:I,needSMask:_e}})(o):(function(P){var R=P.data,H=P.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(N){for(var x=N.length,k=new Uint8Array(2*x),Z=new DataView(k.buffer,k.byteOffset,k.byteLength),fe=0;fe<x;fe++)Z.setUint16(2*fe,N[fe],!1);return k})(R):R,needSMask:!1}})(o);var _,A,v,M=s,U=M.colorSpace,z=M.colorsPerPixel,L=M.sMaskBitsPerComponent,Q=M.colorBytes,K=M.alphaBytes,te=M.needSMask,me=M.palette,ue=M.mask,V=null;return r!==kt.API.image_compression.NONE&&typeof L2=="function"?(V=(function(P){var R;switch(P){case kt.API.image_compression.FAST:R=11;break;case kt.API.image_compression.MEDIUM:R=13;break;case kt.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),_=this.decode.FLATE_DECODE,A="/Predictor ".concat(V," /Colors ").concat(z," /BitsPerComponent ").concat(p," /Columns ").concat(u),n=jA(Q,Math.ceil(u*z*p/8),z,p,r),te&&(v=jA(K,Math.ceil(u*L/8),1,L,r))):(_=void 0,A=void 0,n=Q,te&&(v=K)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(v&&this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),{alias:t,data:n,index:e,filter:_,decodeParameters:A,transparency:ue,palette:me,sMask:v,predictor:V,width:u,height:c,bitsPerComponent:p,sMaskBitsPerComponent:L,colorSpace:U}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new hU(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},p=new H0(100).encode(d,100);return n.processJPEG.call(this,p,t,r,s)},n.processGIF87A=n.processGIF89A})(kt.API),_o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},_o.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){ur.log("bit decode error:"+t)}},_o.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},_o.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},_o.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},_o.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,p=r*this.width*4+4*s;this.data[p]=f,this.data[p+1]=c,this.data[p+2]=u,this.data[p+3]=d}this.pos+=n}},_o.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,p=s*this.width*4+4*o;this.data[p]=d,this.data[p+1]=f,this.data[p+2]=c,this.data[p+3]=255}this.pos+=n}},_o.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},_o.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=u}},_o.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new _o(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new H0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(kt.API),HA.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new HA(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new H0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(kt.API),kt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var p=r[d],_=r[d+1],A=r[d+2],v=r[d+3];o[c++]=p,o[c++]=_,o[c++]=A,u[f++]=v}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},kt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ih=kt.API,dm=Ih.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,p=d.fof?d.fof:1,_=e.doKerning!==!1,A=0,v=n.length,M=0,U=c[0]||f,z=[];for(t=0;t<v;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?z.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(A=_&&er(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/p:0,z.push((c[r]||U)/f+A)),M=r;return z},DA=Ih.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Ih.processArabic&&(n=Ih.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:dm.apply(this,arguments).reduce(function(o,u){return o+u},0)},OA=function(n,e,t,r){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(s.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},MA=function(n,e,t){t||(t={});var r,s,o,u,c,f,d,p=[],_=[p],A=t.textIndent||0,v=0,M=0,U=n.split(" "),z=dm.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?U[0].length+2:t.lineIndent||0){var L=Array(f).join(" "),Q=[];U.map(function(te){(te=te.split(/\s*\n/)).length>1?Q=Q.concat(te.map(function(me,ue){return(ue&&me.length?`
`:"")+me})):Q.push(te[0])}),U=Q,f=DA.apply(this,[L,t])}for(o=0,u=U.length;o<u;o++){var K=0;if(r=U[o],f&&r[0]==`
`&&(r=r.substr(1),K=1),A+v+(M=(s=dm.apply(this,[r,t])).reduce(function(te,me){return te+me},0))>e||K){if(M>e){for(c=OA.apply(this,[r,s,e-(A+v),e]),p.push(c.shift()),p=[c.pop()];c.length;)_.push([c.shift()]);M=s.slice(r.length-(p[0]?p[0].length:0)).reduce(function(te,me){return te+me},0)}else p=[r];_.push(p),A=M+f,v=z}else p.push(r),A+=v+M,v=z}return d=f?function(te,me){return(me?L:"")+te.join(" ")}:function(te){return te.join(" ")},_.map(d)},Ih.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var _=this.internal.getFont(p.fontName,p.fontStyle),A="Unicode";return _.metadata[A]?{widths:_.metadata[A].widths||{0:1},kerning:_.metadata[A].kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(MA.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var u=function(A){return"0x"+parseInt(A,10).toString(16)},c=n.__fontmetrics__.compress=function(A){var v,M,U,z,L=["{"];for(var Q in A){if(v=A[Q],isNaN(parseInt(Q,10))?M="'"+Q+"'":(Q=parseInt(Q,10),M=(M=u(Q).slice(2)).slice(0,-1)+s[M.slice(-1)]),typeof v=="number")v<0?(U=u(v).slice(3),z="-"):(U=u(v).slice(2),z=""),U=z+U.slice(0,-1)+s[U.slice(-1)];else{if(er(v)!=="object")throw new Error("Don't know what to do with value type "+er(v)+".");U=c(v)}L.push(M+U)}return L.push("}"),L.join("")},f=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,M,U,z,L={},Q=1,K=L,te=[],me="",ue="",V=A.length-1,P=1;P<V;P+=1)(z=A[P])=="'"?v?(U=v.join(""),v=void 0):v=[]:v?v.push(z):z=="{"?(te.push([K,U]),K={},U=void 0):z=="}"?((M=te.pop())[0][M[1]]=K,U=void 0,K=M[0]):z=="-"?Q=-1:U===void 0?r.hasOwnProperty(z)?(me+=r[z],U=parseInt(me,16)*Q,Q=1,me=""):me+=z:r.hasOwnProperty(z)?(ue+=r[z],K[U]=parseInt(ue,16)*Q,Q=1,U=void 0,ue=""):ue+=z;return L},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},_={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var v=A.font,M=_.Unicode[v.postScriptName];M&&(v.metadata.Unicode={},v.metadata.Unicode.widths=M.widths,v.metadata.Unicode.kerning=M.kerning);var U=p.Unicode[v.postScriptName];U&&(v.metadata.Unicode.encoding=U,v.encoding=U.codePages[0])}])})(kt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(Tm(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(kt),kt.API.addSvgAsImage=function(n,e,t,r,s,o,u,c){if(isNaN(e)||isNaN(t))throw ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return(en.canvg?Promise.resolve(en.canvg):S0(()=>import("./index.es-BO5YZ928.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(d,n,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(p)}).then(function(){_.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,u,c)})},kt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},kt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,p=0,_=0;function A(M,U){var z,L=!1;for(z=0;z<M.length;z+=1)M[z]===U&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=c.length;for(_=0;_<v;_+=1)t[c[_]].value=t[c[_]].defaultValue,t[c[_]].explicitSet=!1}if(er(n)==="object"){for(s in n)if(o=n[s],A(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&A(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(p=0;p<o[d].length;p+=1)typeof o[d][p]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,U=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?U.push("/"+M+" /"+t[M].value):U.push("/"+M+" "+t[M].value));U.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+U.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),d=o.length+u.length+c.length+s.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+o+u+c+f),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(kt.API),(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],_=0,A=o.length;_<A;++_){if(c=u.metadata.characterToGlyph(o.charCodeAt(_)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(_),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(d[4-c.length],c)}return p.join("")},r=function(o){var u,c,f,d,p,_,A;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],_=0,A=(c=Object.keys(o).sort(function(v,M){return v-M})).length;_<A;_++)u=c[_],f.length>=100&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(p+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var _=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),v="",M=0;M<A.length;M++)v+=String.fromCharCode(A[M]);var U=d();p({data:v,addLength1:!0,objectId:U}),f("endobj");var z=d();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:z}),f("endobj");var L=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Dh(c.fontName)),f("/FontFile2 "+U+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var Q=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Dh(c.fontName)),f("/FontDescriptor "+L+" 0 R"),f("/W "+n.API.PDFObject.convert(_)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+z+" 0 R"),f("/BaseFont /"+Dh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+Q+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,p=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var _=c.metadata.rawData,A="",v=0;v<_.length;v++)A+=String.fromCharCode(_[v]);var M=d();p({data:A,addLength1:!0,objectId:M}),f("endobj");var U=d();p({data:r(c.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var z=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Dh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var L=0;L<c.metadata.hmtx.widths.length;L++)c.metadata.hmtx.widths[L]=parseInt(c.metadata.hmtx.widths[L]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+U+" 0 R/BaseFont/"+Dh(c.fontName)+"/FontDescriptor "+z+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,p=o.options||{},_=o.mutex||{},A=_.pdfEscape,v=_.activeFontKey,M=_.fonts,U=v,z="",L=0,Q="",K=M[U].encoding;if(M[U].encoding!=="Identity-H")return{text:c,x:f,y:d,options:p,mutex:_};for(Q=c,U=v,Array.isArray(c)&&(Q=c[0]),L=0;L<Q.length;L+=1)M[U].metadata.hasOwnProperty("cmap")&&(u=M[U].metadata.cmap.unicode.codeMap[Q[L].charCodeAt(0)]),u||Q[L].charCodeAt(0)<256&&M[U].metadata.hasOwnProperty("Unicode")?z+=Q[L]:z+="";var te="";return parseInt(U.slice(1))<14||K==="WinAnsiEncoding"?te=A(z,U).split("").map(function(me){return me.charCodeAt(0).toString(16)}).join(""):K==="Identity-H"&&(te=t(z,M[U])),_.isHex=!0,{text:te,x:f,y:d,options:p,mutex:_}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(kt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(kt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,c,f,d,p,_=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},U={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},z=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,K=0;this.__bidiEngine__={};var te=function(N){var x=N.charCodeAt(),k=x>>8,Z=U[k];return Z!==void 0?_[256*Z+(255&x)]:k===252||k===253?"AL":L.test(k)?"L":k===8?"R":"N"},me=function(N){for(var x,k=0;k<N.length;k++){if((x=te(N.charAt(k)))==="L")return!1;if(x==="R")return!0}return!1},ue=function(N,x,k,Z){var fe,se,ce,pe,Ie=x[Z];switch(Ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(Ie="AN");break;case"AL":Q=!0,Ie="R";break;case"WS":case"BN":Ie="N";break;case"CS":Z<1||Z+1>=x.length||(fe=k[Z-1])!=="EN"&&fe!=="AN"||(se=x[Z+1])!=="EN"&&se!=="AN"?Ie="N":Q&&(se="AN"),Ie=se===fe?se:"N";break;case"ES":Ie=(fe=Z>0?k[Z-1]:"B")==="EN"&&Z+1<x.length&&x[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&k[Z-1]==="EN"){Ie="EN";break}if(Q){Ie="N";break}for(ce=Z+1,pe=x.length;ce<pe&&x[ce]==="ET";)ce++;Ie=ce<pe&&x[ce]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(pe=x.length,ce=Z+1;ce<pe&&x[ce]==="NSM";)ce++;if(ce<pe){var D=N[Z],ge=D>=1425&&D<=2303||D===64286;if(fe=x[ce],ge&&(fe==="R"||fe==="AL")){Ie="R";break}}}Ie=Z<1||(fe=x[Z-1])==="B"?"N":k[Z-1];break;case"B":Q=!1,s=!0,Ie=K;break;case"S":o=!0,Ie="N"}return Ie},V=function(N,x,k){var Z=N.split("");return k&&P(Z,k,{hiLevel:K}),Z.reverse(),x&&x.reverse(),Z.join("")},P=function(N,x,k){var Z,fe,se,ce,pe,Ie=-1,D=N.length,ge=0,F=[],I=K?v:A,ne=[];for(Q=!1,s=!1,o=!1,fe=0;fe<D;fe++)ne[fe]=te(N[fe]);for(se=0;se<D;se++){if(pe=ge,F[se]=ue(N,ne,F,se),Z=240&(ge=I[pe][M[F[se]]]),ge&=15,x[se]=ce=I[ge][5],Z>0)if(Z===16){for(fe=Ie;fe<se;fe++)x[fe]=1;Ie=-1}else Ie=-1;if(I[ge][6])Ie===-1&&(Ie=se);else if(Ie>-1){for(fe=Ie;fe<se;fe++)x[fe]=ce;Ie=-1}ne[se]==="B"&&(x[se]=0),k.hiLevel|=ce}o&&(function(he,le,_e){for(var Se=0;Se<_e;Se++)if(he[Se]==="S"){le[Se]=K;for(var Re=Se-1;Re>=0&&he[Re]==="WS";Re--)le[Re]=K}})(ne,x,D)},R=function(N,x,k,Z,fe){if(!(fe.hiLevel<N)){if(N===1&&K===1&&!s)return x.reverse(),void(k&&k.reverse());for(var se,ce,pe,Ie,D=x.length,ge=0;ge<D;){if(Z[ge]>=N){for(pe=ge+1;pe<D&&Z[pe]>=N;)pe++;for(Ie=ge,ce=pe-1;Ie<ce;Ie++,ce--)se=x[Ie],x[Ie]=x[ce],x[ce]=se,k&&(se=k[Ie],k[Ie]=k[ce],k[ce]=se);ge=pe}ge++}}},H=function(N,x,k){var Z=N.split(""),fe={hiLevel:K};return k||(k=[]),P(Z,k,fe),(function(se,ce,pe){if(pe.hiLevel!==0&&p)for(var Ie,D=0;D<se.length;D++)ce[D]===1&&(Ie=z.indexOf(se[D]))>=0&&(se[D]=z[Ie+1])})(Z,k,fe),R(2,Z,x,k,fe),R(1,Z,x,k,fe),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(N,x,k){if((function(fe,se){if(se)for(var ce=0;ce<fe.length;ce++)se[ce]=ce;c===void 0&&(c=me(fe)),d===void 0&&(d=me(fe))})(N,x),u||!f||d)if(u&&f&&c^d)K=c?1:0,N=V(N,x,k);else if(!u&&f&&d)K=c?1:0,N=H(N,x,k),N=V(N,x);else if(!u||c||f||d){if(u&&!f&&c^d)N=V(N,x),c?(K=0,N=H(N,x,k)):(K=1,N=H(N,x,k),N=V(N,x));else if(u&&c&&!f&&d)K=1,N=H(N,x,k),N=V(N,x);else if(!u&&!f&&c^d){var Z=p;c?(K=1,N=H(N,x,k),K=0,p=!1,N=H(N,x,k),p=Z):(K=0,N=H(N,x,k),N=V(N,x),K=1,p=!1,N=H(N,x,k),p=Z,N=V(N,x))}}else K=0,N=H(N,x,k);else K=c?1:0,N=H(N,x,k);return N},this.__bidiEngine__.setOptions=function(N){N&&(u=N.isInputVisual,f=N.isOutputVisual,c=N.isInputRtl,d=N.isOutputRtl,p=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(kt),kt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Wu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new TU(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new fU(this.contents),this.head=new pU(this),this.name=new bU(this),this.cmap=new mx(this),this.toUnicode={},this.hhea=new mU(this),this.maxp=new _U(this),this.hmtx=new wU(this),this.post=new yU(this),this.os2=new gU(this),this.loca=new xU(this),this.glyf=new AU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var No,Wu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),fU=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,u,c,f,d,p,_,A,v,M,U;for(U in v=Object.keys(t).length,f=Math.log(2),_=16*Math.floor(Math.log(v)/f),u=Math.floor(_/f),p=16*v-_,(s=new Wu).writeInt(this.scalarType),s.writeShort(v),s.writeShort(_),s.writeShort(u),s.writeShort(p),o=16*v,d=s.pos+o,c=null,M=[],t)for(A=t[U],s.writeString(U),s.writeInt(n(A)),s.writeInt(d),s.writeInt(A.length),M=M.concat(A),U==="head"&&(c=d),d+=A.length;d%4;)M.push(0),d++;return s.write(M),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,u;for(t=gx.call(t);t.length%4;)t.push(0);for(o=new Wu(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),dU={}.hasOwnProperty,ll=function(n,e){for(var t in e)dU.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};No=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var pU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Wu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),GA=(function(){function n(e,t){var r,s,o,u,c,f,d,p,_,A,v,M,U,z,L,Q,K;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(v=e.readUInt16(),A=v/2,e.pos+=6,o=(function(){var te,me;for(me=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)me.push(e.readUInt16());return me})(),e.pos+=2,U=(function(){var te,me;for(me=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)me.push(e.readUInt16());return me})(),d=(function(){var te,me;for(me=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)me.push(e.readUInt16());return me})(),p=(function(){var te,me;for(me=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)me.push(e.readUInt16());return me})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var te,me;for(me=[],f=te=0;0<=s?te<s:te>s;f=0<=s?++te:--te)me.push(e.readUInt16());return me})(),f=L=0,K=o.length;L<K;f=++L)for(z=o[f],r=Q=M=U[f];M<=z?Q<=z:Q>=z;r=M<=z?++Q:--Q)p[f]===0?u=r+d[f]:(u=c[p[f]/2+(r-M)-(A-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=_}return n.encode=function(e,t){var r,s,o,u,c,f,d,p,_,A,v,M,U,z,L,Q,K,te,me,ue,V,P,R,H,N,x,k,Z,fe,se,ce,pe,Ie,D,ge,F,I,ne,he,le,_e,Se,Re,Ue,Qe,at;switch(Z=new Wu,u=Object.keys(e).sort(function(it,vt){return it-vt}),t){case"macroman":for(U=0,z=(function(){var it=[];for(M=0;M<256;++M)it.push(0);return it})(),Q={0:0},o={},fe=0,Ie=u.length;fe<Ie;fe++)Q[Re=e[s=u[fe]]]==null&&(Q[Re]=++U),o[s]={old:e[s],new:Q[e[s]]},z[s]=Q[e[s]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(z),{charMap:o,subtable:Z.data,maxGlyphID:U+1};case"unicode":for(x=[],_=[],K=0,Q={},r={},L=d=null,se=0,D=u.length;se<D;se++)Q[me=e[s=u[se]]]==null&&(Q[me]=++K),r[s]={old:me,new:Q[me]},c=Q[me]-s,L!=null&&c===d||(L&&_.push(L),x.push(s),d=c),L=s;for(L&&_.push(L),_.push(65535),x.push(65535),H=2*(R=x.length),P=2*Math.pow(Math.log(R)/Math.LN2,2),A=Math.log(P/2)/Math.LN2,V=2*R-P,f=[],ue=[],v=[],M=ce=0,ge=x.length;ce<ge;M=++ce){if(N=x[M],p=_[M],N===65535){f.push(0),ue.push(0);break}if(N-(k=r[N].new)>=32768)for(f.push(0),ue.push(2*(v.length+R-M)),s=pe=N;N<=p?pe<=p:pe>=p;s=N<=p?++pe:--pe)v.push(r[s].new);else f.push(k-N),ue.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*R+2*v.length),Z.writeUInt16(0),Z.writeUInt16(H),Z.writeUInt16(P),Z.writeUInt16(A),Z.writeUInt16(V),_e=0,F=_.length;_e<F;_e++)s=_[_e],Z.writeUInt16(s);for(Z.writeUInt16(0),Se=0,I=x.length;Se<I;Se++)s=x[Se],Z.writeUInt16(s);for(Ue=0,ne=f.length;Ue<ne;Ue++)c=f[Ue],Z.writeUInt16(c);for(Qe=0,he=ue.length;Qe<he;Qe++)te=ue[Qe],Z.writeUInt16(te);for(at=0,le=v.length;at<le;at++)U=v[at],Z.writeUInt16(U);return{charMap:r,subtable:Z.data,maxGlyphID:K+1}}},n})(),mx=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new GA(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=GA.encode(e,t),(s=new Wu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),mU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),gU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),yU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),vU=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},bU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,u,c,f,d,p,_,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=p=0,_=r.length;p<_;o=++p)s=r[o],e.pos=s.offset,d=e.readString(s.length),u=new vU(d,s),f[A=s.nameID]==null&&(f[A]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),_U=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),wU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,p;for(p=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)p.push(e.readInt16());return p})(),this.widths=(function(){var d,p,_,A;for(A=[],d=0,p=(_=this.metrics).length;d<p;d++)o=_[d],A.push(o.advance);return A}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),gx=[].slice,AU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,u,c,f,d,p,_;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Wu(t.read(s))).readShort(),d=c.readShort(),_=c.readShort(),f=c.readShort(),p=c.readShort(),this.cache[e]=u===-1?new EU(c,d,_,f,p):new SU(c,u,d,_,f,p),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),SU=(function(){function n(e,t,r,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),EU=(function(){function n(e,t,r,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Wu(gx.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),xU=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ll(n,No),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<t.length&&t[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*r.length),p=0;p<r.length;++p)d[4*p+3]=255&r[p],d[4*p+2]=(65280&r[p])>>8,d[4*p+1]=(16711680&r[p])>>16,d[4*p]=(4278190080&r[p])>>24;return d},n})(),TU=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,u,c,f,d,p,_,A,v,M,U,z,L;for(s in r=mx.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),v={0:0},L=r.charMap)v[(f=L[s]).old]=f.new;for(M in A=r.maxGlyphID,u)M in v||(v[M]=A++);return p=(function(Q){var K,te;for(K in te={},Q)te[Q[K]]=K;return te})(v),_=Object.keys(p).sort(function(Q,K){return Q-K}),U=(function(){var Q,K,te;for(te=[],Q=0,K=_.length;Q<K;Q++)c=_[Q],te.push(p[c]);return te})(),o=this.font.glyf.encode(u,U,v),d=this.font.loca.encode(o.offsets,U),z={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(z["OS/2"]=this.font.os2.raw()),this.font.directory.encode(z)},n})();kt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function NU(){const[n,e]=Gt.useState("full"),[t,r]=Gt.useState(""),[s,o]=Gt.useState(!1),[u,c]=Gt.useState(!1),[f,d]=Gt.useState(""),[p,_]=Gt.useState(""),[A,v]=Gt.useState(""),[M,U]=Gt.useState([]),[z,L]=Gt.useState([]),[Q,K]=Gt.useState(!1);Gt.useEffect(()=>{te(),me()},[]);const te=async()=>{try{const x=await window.api.getProjectList();x.success&&L(x.projects)}catch(x){console.error("Failed to load projects:",x)}},me=async()=>{try{const x=await window.api.getRecentReports();x.success&&U(x.reports)}catch(x){console.error("Failed to load reports:",x)}},ue=async()=>{if(await Rg("reportGenerator"),!t.trim()){d("Please enter a project name");return}o(!0),d(""),c(!1),_("");try{const x=await window.api.generateReport(t,n);x.success?(_(x.reportContent),v(x.reportId),c(!0),await me()):d(x.error||"Failed to generate report")}catch(x){d(x.message||"Error generating report")}finally{o(!1)}},V=()=>{if(!p)return;const x=new Blob([p],{type:"text/markdown;charset=utf-8"}),k=URL.createObjectURL(x),Z=document.createElement("a");Z.href=k,Z.download=`${t.replace(/\s+/g,"_")}_report.md`,Z.click(),URL.revokeObjectURL(k)},P=()=>{var ge;if(!p)return;const x=new kt,k=x.internal.pageSize.getWidth(),Z=x.internal.pageSize.getHeight(),fe=20,se=k-2*fe;let ce=fe;const pe=F=>ce+F>Z-fe?(x.addPage(),ce=fe,!0):!1;x.setFillColor(52,73,94),x.rect(0,0,k,60,"F"),x.setFontSize(24),x.setFont("helvetica","bold"),x.setTextColor(255,255,255),x.text("DUE DILIGENCE REPORT",fe,30),x.setFontSize(18),x.setFont("helvetica","normal"),x.text(t,fe,45),x.setTextColor(0,0,0),ce=70,x.setFillColor(236,240,241),x.rect(fe,ce,se,20,"F"),x.setFontSize(10),x.setFont("helvetica","normal"),x.text(`Generated: ${new Date().toLocaleString()}`,fe+5,ce+8),x.text(`Report Type: ${n.charAt(0).toUpperCase()+n.slice(1)}`,fe+5,ce+15),ce+=30;const Ie=p.split(`
`);for(let F=0;F<Ie.length;F++){const I=Ie[F].trim();if(I===""){ce+=4;continue}if(I.match(/^#{1,6}\s/)){const le=((ge=I.match(/^#{1,6}/))==null?void 0:ge[0].length)||1,_e=I.replace(/^#{1,6}\s/,"");pe(20),ce+=8,le===1?(x.setFillColor(52,152,219),x.rect(fe,ce-5,se,12,"F"),x.setFontSize(16),x.setFont("helvetica","bold"),x.setTextColor(255,255,255),x.text(_e,fe+3,ce+3),x.setTextColor(0,0,0),ce+=18):le===2?(x.setFontSize(14),x.setFont("helvetica","bold"),x.setTextColor(41,128,185),x.splitTextToSize(_e,se).forEach(Re=>{pe(10),x.text(Re,fe,ce),ce+=7}),x.setDrawColor(41,128,185),x.setLineWidth(.5),x.line(fe,ce,fe+50,ce),x.setTextColor(0,0,0),ce+=8):(x.setFontSize(12),x.setFont("helvetica","bold"),x.setTextColor(52,73,94),x.splitTextToSize(_e,se).forEach(Re=>{pe(8),x.text(Re,fe,ce),ce+=6}),x.setTextColor(0,0,0),ce+=4);continue}if(I.match(/^[\*\-]\s/)){const _e=I.replace(/^[\*\-]\s/,"").replace(/\*\*/g,"").replace(/\*/g,"");x.setFontSize(10),x.setFont("helvetica","normal"),x.circle(fe+2,ce-1.5,.8,"F"),x.splitTextToSize(_e,se-8).forEach((Re,Ue)=>{pe(6),x.text(Re,fe+6,ce),ce+=5}),ce+=1;continue}if(I.includes("**")){const le=I.split(/(\*\*.*?\*\*)/);x.setFontSize(10);let _e=fe;le.forEach(Se=>{if(Se.startsWith("**")&&Se.endsWith("**")){const Re=Se.replace(/\*\*/g,"");x.setFont("helvetica","bold"),x.text(Re,_e,ce),_e+=x.getTextWidth(Re)}else Se&&(x.setFont("helvetica","normal"),x.splitTextToSize(Se,se-(_e-fe)).forEach((Ue,Qe)=>{Qe>0&&(pe(6),ce+=5,_e=fe),x.text(Ue,_e,ce),_e+=x.getTextWidth(Ue)}))}),ce+=6;continue}x.setFontSize(10),x.setFont("helvetica","normal");const ne=I.replace(/\*\*/g,"").replace(/\*/g,"").replace(/`/g,"");x.splitTextToSize(ne,se).forEach(le=>{pe(6),x.text(le,fe,ce),ce+=5}),ce+=2}const D=x.getNumberOfPages();for(let F=1;F<=D;F++)x.setPage(F),x.setFontSize(8),x.setFont("helvetica","normal"),x.setTextColor(128,128,128),x.text(`Page ${F} of ${D}`,k/2,Z-10,{align:"center"}),x.text(`${t} - Due Diligence Report`,fe,Z-10);x.save(`${t.replace(/\s+/g,"_")}_report.pdf`)},R=async x=>{try{const k=await window.api.getReport(x);if(k.success){const Z=k.report.content,fe=k.report.projectName,se=new Blob([Z],{type:"text/markdown;charset=utf-8"}),ce=URL.createObjectURL(se),pe=document.createElement("a");pe.href=ce,pe.download=`${fe.replace(/\s+/g,"_")}_report.md`,pe.click(),URL.revokeObjectURL(ce)}}catch(k){console.error("Failed to download report:",k)}},H=x=>{r(x.name),K(!1)},N=z.filter(x=>x.name.toLowerCase().includes(t.toLowerCase()));return X.jsxs("div",{className:"card",children:[X.jsx("h2",{children:"Generate Reports"}),X.jsx("p",{style:{marginBottom:"20px",color:"#555"},children:"Create comprehensive due diligence reports based on your code analysis."}),X.jsxs("div",{className:"form-group",style:{position:"relative"},children:[X.jsx("label",{htmlFor:"projectName",children:"Project Name"}),X.jsx("input",{id:"projectName",type:"text",placeholder:"Enter or select project name",value:t,onChange:x=>r(x.target.value),onFocus:()=>K(!0),onBlur:()=>setTimeout(()=>K(!1),200)}),Q&&N.length>0&&X.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:N.map((x,k)=>X.jsxs("div",{onClick:()=>H(x),style:{padding:"10px",cursor:"pointer",borderBottom:"1px solid #eee",fontSize:"14px"},onMouseEnter:Z=>Z.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:Z=>Z.currentTarget.style.backgroundColor="white",children:[X.jsx("strong",{children:x.name}),X.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[x.totalFiles," files  ",x.totalCode.toLocaleString()," lines  ",new Date(x.analyzedDate).toLocaleDateString()]})]},k))})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"reportType",children:"Report Type"}),X.jsxs("select",{id:"reportType",value:n,onChange:x=>e(x.target.value),children:[X.jsx("option",{value:"full",children:"Full Due Diligence Report"}),X.jsx("option",{value:"code",children:"Code Analysis Only"}),X.jsx("option",{value:"documents",children:"Document Summary Only"}),X.jsx("option",{value:"executive",children:"Executive Summary"})]})]}),X.jsx("button",{className:"button",onClick:ue,disabled:s,children:s?"Generating...":"Generate Report"}),f&&X.jsx("div",{className:"error",children:f}),s&&X.jsxs("div",{className:"loading",children:[X.jsx("p",{children:"Generating report with AI... This may take 30-60 seconds."}),X.jsx("p",{style:{fontSize:"14px",color:"#666",marginTop:"8px"},children:"Analyzing codebase metrics and creating professional assessment..."})]}),u&&!s&&p&&X.jsxs("div",{className:"success",children:[X.jsx("h3",{style:{marginBottom:"10px"},children:"Report Generated Successfully!"}),X.jsxs("p",{style:{marginBottom:"15px"},children:["Your ",n,' report for "',t,'" has been created.']}),X.jsx("button",{className:"button",onClick:V,style:{marginRight:"10px"},children:"Download Markdown"}),X.jsx("button",{className:"button",onClick:P,children:"Download PDF"}),X.jsxs("div",{style:{marginTop:"20px",padding:"20px",backgroundColor:"#f9f9f9",borderRadius:"8px",maxHeight:"500px",overflowY:"auto",border:"1px solid #ddd"},children:[X.jsx("h4",{style:{marginBottom:"15px",color:"#333"},children:"Generated Report Preview:"}),X.jsx("div",{className:"markdown-preview",style:{lineHeight:"1.6",color:"#333",fontSize:"14px"},children:X.jsx(xE,{children:p})})]})]}),X.jsxs("div",{style:{marginTop:"40px"},children:[X.jsx("h3",{style:{marginBottom:"15px"},children:"Recent Reports"}),M.length===0?X.jsx("p",{style:{color:"#666"},children:"No reports generated yet. Run a code analysis and generate your first report!"}):X.jsx("ul",{className:"report-list",children:M.map((x,k)=>X.jsxs("li",{className:"report-item",children:[X.jsxs("div",{className:"report-item-info",children:[X.jsxs("h4",{children:[x.projectName," - ",x.reportType.charAt(0).toUpperCase()+x.reportType.slice(1)," Report"]}),X.jsxs("p",{children:["Generated on ",new Date(x.generatedAt).toLocaleString()]})]}),X.jsx("button",{className:"button button-secondary",onClick:()=>R(x.reportId),children:"Download"})]},k))})]})]})}const Ed=jy(cf),jg=RS(cf),IU=new Ul,CU=async(n,e,t,r)=>{const s=await W8(Ed,n,e);if(t&&Ed.currentUser&&await J8(Ed.currentUser,{displayName:t}),s.user.uid){const o=qc(jg,"users",s.user.uid);await _y(o,{fullName:t,email:n,...r,createdAt:new Date})}return s},kU=(n,e)=>X8(Ed,n,e),RU=async()=>{const n=await wL(Ed,IU),e=n.user,t=qc(jg,"users",e.uid);return(await xg(t)).exists()||await _y(t,{fullName:e.displayName||"",email:e.email||"",createdAt:new Date}),n},LU=async n=>{const e=qc(jg,"users",n),t=await xg(e);return t.exists()?t.data():null},PU=async(n,e)=>{const t=qc(jg,"users",n);await VS(t,e)};function DU({onAuthSuccess:n}){const[e,t]=Gt.useState(!0),[r,s]=Gt.useState({email:"",password:"",confirmPassword:"",fullName:"",role:"",company:"",phone:"",location:""}),o=async f=>{f.preventDefault();try{if(e)await kU(r.email,r.password);else{if(r.password!==r.confirmPassword){alert("Passwords do not match");return}await CU(r.email,r.password,r.fullName,{role:r.role,company:r.company,phone:r.phone,location:r.location})}n()}catch(d){alert(d.message||"Authentication failed")}},u=async()=>{try{await RU(),n()}catch(f){alert(f.message||"Google sign in failed")}},c=f=>{s({...r,[f.target.name]:f.target.value})};return X.jsxs("div",{className:"auth-container",children:[X.jsx("div",{className:"auth-hero",children:X.jsxs("div",{className:"auth-hero-content",children:[X.jsx("h1",{className:"auth-hero-title",children:"Due Diligence Agent"}),X.jsx("p",{className:"auth-hero-motto",children:"Intelligent Analysis. Informed Decisions."}),X.jsx("p",{className:"auth-hero-description",children:"Leverage AI-powered insights to streamline your due diligence process. Analyze code, summarize documents, and generate comprehensive reports with ease."})]})}),X.jsxs("div",{className:"auth-card",children:[X.jsx("h2",{children:e?"Sign In":"Sign Up"}),X.jsx("p",{className:"auth-subtitle",children:e?"Welcome back! Please sign in to continue.":"Create an account to get started."}),X.jsxs("form",{onSubmit:o,className:"auth-form",children:[!e&&X.jsxs(X.Fragment,{children:[X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"fullName",children:"Full Name"}),X.jsx("input",{type:"text",id:"fullName",name:"fullName",value:r.fullName,onChange:c,required:!0,placeholder:"Enter your full name"})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"role",children:"Role"}),X.jsx("input",{type:"text",id:"role",name:"role",value:r.role,onChange:c,placeholder:"Enter your role"})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"company",children:"Company"}),X.jsx("input",{type:"text",id:"company",name:"company",value:r.company,onChange:c,placeholder:"Enter your company"})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"phone",children:"Phone"}),X.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:c,placeholder:"Enter your phone number"})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"location",children:"Location"}),X.jsx("input",{type:"text",id:"location",name:"location",value:r.location,onChange:c,placeholder:"Enter your location"})]})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"email",children:"Email Address"}),X.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:c,required:!0,placeholder:"Enter your email"})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"password",children:"Password"}),X.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:c,required:!0,placeholder:"Enter your password"})]}),!e&&X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),X.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:c,required:!0,placeholder:"Confirm your password"})]}),e&&X.jsxs("div",{className:"auth-options",children:[X.jsxs("label",{className:"checkbox-label",children:[X.jsx("input",{type:"checkbox"}),X.jsx("span",{children:"Remember me"})]}),X.jsx("a",{href:"#",className:"forgot-password",children:"Forgot password?"})]}),X.jsx("button",{type:"submit",className:"button button-primary auth-submit",children:e?"Sign In":"Sign Up"})]}),X.jsx("div",{className:"auth-divider",children:X.jsx("span",{children:"OR"})}),X.jsxs("button",{onClick:u,className:"button button-google",children:[X.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:[X.jsx("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"}),X.jsx("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"}),X.jsx("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"}),X.jsx("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})]}),"Continue with Google"]}),X.jsxs("div",{className:"auth-toggle",children:[e?"Don't have an account? ":"Already have an account? ",X.jsx("button",{type:"button",onClick:()=>t(!e),className:"auth-toggle-button",children:e?"Sign Up":"Sign In"})]})]})]})}function OU(){const[n,e]=Gt.useState(!1),[t,r]=Gt.useState({codeAnalysis:0,reportGenerator:0}),[s,o]=Gt.useState({fullName:"",email:"",role:"",company:"",phone:"",location:"",createdAt:null}),[u,c]=Gt.useState(s),f=jy(cf);Gt.useEffect(()=>{const M=f.currentUser;M&&(LU(M.uid).then(z=>{o(z?{fullName:z.fullName||M.displayName||"",email:z.email||M.email||"",role:z.role||"",company:z.company||"",phone:z.phone||"",location:z.location||"",createdAt:z.createdAt||M.metadata.creationTime}:{fullName:M.displayName||"",email:M.email||"",role:"",company:"",phone:"",location:"",createdAt:M.metadata.creationTime}),c(L=>({...L,...z}))}),(async()=>{try{const z=qc(Uy,"userStats",M.uid),L=await xg(z);if(L.exists()){const Q=L.data();r({codeAnalysis:Q.codeAnalysis||0,reportGenerator:Q.reportGenerator||0})}}catch(z){console.error("Error fetching usage stats:",z)}})())},[f.currentUser]);const d=M=>M?(M.toDate?M.toDate():new Date(M)).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"N/A",p=()=>{e(!0),c(s)},_=async()=>{o(u),e(!1);const M=f.currentUser;M&&(await PU(M.uid,u),alert("Profile updated successfully!"))},A=()=>{e(!1),c(s)},v=M=>{c({...u,[M.target.name]:M.target.value})};return X.jsxs("div",{className:"account-container",children:[X.jsxs("div",{className:"account-header",children:[X.jsx("h2",{children:"Account Settings"}),X.jsx("p",{children:"Manage your profile and account preferences"})]}),X.jsxs("div",{className:"account-content",children:[X.jsxs("div",{className:"account-sidebar",children:[X.jsxs("div",{className:"account-avatar",children:[X.jsx("div",{className:"avatar-circle",children:s.fullName.split(" ").map(M=>M[0]).join("")}),X.jsx("button",{className:"button button-secondary",children:"Change Photo"})]}),X.jsxs("div",{className:"account-stats",children:[X.jsxs("div",{className:"account-stat-item",children:[X.jsx("span",{className:"stat-label",children:"Member Since"}),X.jsx("span",{className:"stat-value",children:d(s.createdAt)})]}),X.jsxs("div",{className:"account-stat-item",children:[X.jsx("span",{className:"stat-label",children:"Projects Analyzed"}),X.jsx("span",{className:"stat-value",children:t.codeAnalysis})]}),X.jsxs("div",{className:"account-stat-item",children:[X.jsx("span",{className:"stat-label",children:"Reports Generated"}),X.jsx("span",{className:"stat-value",children:t.reportGenerator})]})]})]}),X.jsxs("div",{className:"account-main",children:[X.jsxs("div",{className:"account-section",children:[X.jsxs("div",{className:"section-header",children:[X.jsx("h3",{children:"Personal Information"}),n?X.jsxs("div",{className:"edit-actions",children:[X.jsx("button",{onClick:A,className:"button button-secondary",children:"Cancel"}),X.jsx("button",{onClick:_,className:"button button-primary",children:"Save Changes"})]}):X.jsx("button",{onClick:p,className:"button button-secondary",children:"Edit Profile"})]}),X.jsxs("div",{className:"account-fields",children:[X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Full Name"}),n?X.jsx("input",{type:"text",name:"fullName",value:u.fullName,onChange:v}):X.jsx("p",{children:s.fullName})]}),X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Email Address"}),n?X.jsx("input",{type:"email",name:"email",value:u.email,onChange:v}):X.jsx("p",{children:s.email})]}),X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Role"}),n?X.jsx("input",{type:"text",name:"role",value:u.role,onChange:v}):X.jsx("p",{children:s.role})]}),X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Company"}),n?X.jsx("input",{type:"text",name:"company",value:u.company,onChange:v}):X.jsx("p",{children:s.company})]}),X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Phone"}),n?X.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:v}):X.jsx("p",{children:s.phone})]}),X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Location"}),n?X.jsx("input",{type:"text",name:"location",value:u.location,onChange:v}):X.jsx("p",{children:s.location})]})]})]}),X.jsxs("div",{className:"account-section",children:[X.jsx("h3",{children:"Security"}),X.jsxs("div",{className:"account-fields",children:[X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Password"}),X.jsx("p",{children:""}),X.jsx("button",{className:"button button-secondary",children:"Change Password"})]}),X.jsxs("div",{className:"field-group",children:[X.jsx("label",{children:"Two-Factor Authentication"}),X.jsx("p",{children:"Not enabled"}),X.jsx("button",{className:"button button-secondary",children:"Enable 2FA"})]})]})]}),X.jsxs("div",{className:"account-section",children:[X.jsx("h3",{children:"Preferences"}),X.jsxs("div",{className:"account-fields",children:[X.jsx("div",{className:"field-group",children:X.jsxs("label",{className:"checkbox-label",children:[X.jsx("input",{type:"checkbox",defaultChecked:!0}),X.jsx("span",{children:"Email notifications for completed analyses"})]})}),X.jsx("div",{className:"field-group",children:X.jsxs("label",{className:"checkbox-label",children:[X.jsx("input",{type:"checkbox",defaultChecked:!0}),X.jsx("span",{children:"Weekly summary reports"})]})}),X.jsx("div",{className:"field-group",children:X.jsxs("label",{className:"checkbox-label",children:[X.jsx("input",{type:"checkbox"}),X.jsx("span",{children:"Marketing communications"})]})})]})]})]})]})]})}function MU({isOpen:n,onClose:e}){const[t,r]=Gt.useState([{id:0,text:"Hello! I'm your Due Diligence AI Assistant. How can I help you today?",sender:"agent",timestamp:new Date}]),[s,o]=Gt.useState(""),u=Gt.useRef(null),c=Gt.useRef(null),f=Gt.useRef(new Set),d=()=>{var A;(A=u.current)==null||A.scrollIntoView({behavior:"smooth"})};Gt.useEffect(()=>{var z;n&&setTimeout(()=>{var L;(L=c.current)==null||L.focus()},0);const A=({id:L,chunk:Q})=>{f.current.has(L)&&(r(K=>K.map(te=>te.id===L?{...te,text:te.isThinking?Q:te.text+Q,isThinking:!1}:te)),d())},v=({id:L})=>{f.current.delete(L)},M=window.api.onChunk(({id:L,chunk:Q})=>{Q&&A({id:Number(L),chunk:Q})}),U=window.api.onDone(({id:L})=>{L&&v({id:Number(L)})});return(z=c.current)==null||z.focus(),()=>{f.current.clear(),M(),U()}},[n]);const p=()=>{if(s.trim()==="")return;const A={id:t.length,text:s,sender:"user",timestamp:new Date};r([...t,A]),o(""),f.current.add(A.id+1),r(v=>[...v,{id:A.id+1,text:"Thinking...",sender:"agent",timestamp:new Date,isThinking:!0}]),window.api.sendChat(A.id,A.text)},_=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),p())};return X.jsxs("div",{className:`chatbot-container ${n?"open":""}`,children:[X.jsxs("div",{className:"chatbot-header",children:[X.jsxs("div",{className:"chatbot-header-content",children:[X.jsx("div",{className:"chatbot-avatar",children:"AI"}),X.jsxs("div",{children:[X.jsx("div",{className:"chatbot-title",children:"Due Diligence Assistant"}),X.jsx("div",{className:"chatbot-status",children:"Online"})]})]}),X.jsx("button",{className:"chatbot-close",onClick:e,children:""})]}),X.jsxs("div",{className:"chatbot-messages",children:[t.map(A=>X.jsx("div",{className:`message ${A.sender}`,children:X.jsxs("div",{className:"message-content",children:[X.jsx("div",{className:"message-text",children:X.jsx(xE,{children:A.text})}),X.jsx("div",{className:"message-time",children:A.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},A.id)),X.jsx("div",{ref:u})]}),X.jsxs("div",{className:"chatbot-input-container",children:[X.jsx("textarea",{ref:c,autoFocus:!0,className:"chatbot-input",placeholder:"Ask me anything...",value:s,onChange:A=>o(A.target.value),onKeyPress:_,rows:1}),X.jsx("button",{className:"chatbot-send",onClick:p,children:"Send"})]})]})}function jU(){const[n,e]=Gt.useState(!1),[t,r]=Gt.useState("dashboard"),[s,o]=Gt.useState(!1);return n?X.jsxs("div",{children:[X.jsx("div",{className:"header",children:X.jsxs("div",{className:"container",children:[X.jsx("h1",{children:"Due Diligence AI Agent"}),X.jsx("p",{children:"Fellows Consulting Group - Intelligent Due Diligence Assistant"})]})}),X.jsxs("div",{className:"container",children:[X.jsxs("div",{className:"nav",children:[X.jsx("button",{className:`nav-button ${t==="dashboard"?"active":""}`,onClick:()=>r("dashboard"),children:"Dashboard"}),X.jsx("button",{className:`nav-button ${t==="code"?"active":""}`,onClick:()=>r("code"),children:"Code Analysis"}),X.jsx("button",{className:`nav-button ${t==="documents"?"active":""}`,onClick:()=>r("documents"),children:"Document Summarizer"}),X.jsx("button",{className:`nav-button ${t==="policy"?"active":""}`,onClick:()=>r("policy"),children:"Policy Q&A"}),X.jsx("button",{className:`nav-button ${t==="reports"?"active":""}`,onClick:()=>r("reports"),children:"Generate Reports"}),X.jsx("button",{className:`nav-button ${t==="account"?"active":""}`,onClick:()=>r("account"),children:"Account"}),X.jsx("button",{className:"nav-button",onClick:()=>e(!1),style:{marginLeft:"auto",backgroundColor:"#dc3545"},children:"Logout"})]}),t==="dashboard"&&X.jsx(p7,{onNavigate:r}),t==="code"&&X.jsx(m7,{}),t==="documents"&&X.jsx(g7,{}),t==="policy"&&X.jsx(y7,{}),t==="reports"&&X.jsx(NU,{}),t==="account"&&X.jsx(OU,{})]}),X.jsx("button",{className:"chatbot-toggle",onClick:()=>o(!s),children:X.jsx("span",{className:"chatbot-toggle-icon",children:""})}),X.jsx(MU,{isOpen:s,onClose:()=>o(!1)})]}):X.jsx(DU,{onAuthSuccess:()=>e(!0)})}function UU(){return X.jsx(jU,{})}LT.createRoot(document.getElementById("root")).render(X.jsx(ET.StrictMode,{children:X.jsx(UU,{})}));export{er as _,BU as c,ig as g};
